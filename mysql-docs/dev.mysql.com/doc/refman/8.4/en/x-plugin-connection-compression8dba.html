<!DOCTYPE html>
<html lang="en" class="svg no-js">

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/x-plugin-connection-compression.html?ff=nopfpls by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 17:14:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <!--[if IE ]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="Language" content="en">

    <title>MySQL :: MySQL 8.4 Reference Manual :: 22.5.5 Connection Compression with X Plugin</title>
    <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/main-20241001.min.css" />
            <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/docs-20241001.min.css" />
    
    
    <link rel="stylesheet" media="print" href="https://labs.mysql.com/common/css/print-20241001.min.css" />

    
    
    
    
            <link rel="contents" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="start" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="prev" href="x-plugin-sha2-cache-plugin.html" title="22.5.4 Using X Plugin with the Caching SHA-2 Authentication Plugin" />
<link rel="next" href="x-plugin-options-variables8dba.html?ff=nopfpls" title="22.5.6 X Plugin Options and Variables" />
<link rel="up" href="x-plugin.html" title="22.5 X Plugin" />

    
    <link rel="shortcut icon" href="https://labs.mysql.com/common/themes/sakila/favicon.ico" />
    <script async="async" type="text/javascript" src='https://consent.truste.com/notice?domain=oracle.com&amp;c=teconsent&amp;js=bb&amp;noticeType=bb&amp;text=true&amp;cdn=1&amp;pcookie&amp;gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <script>(function(H){ H.className=H.className.replace(/\bno-js\b/,'js') })(document.documentElement)</script>
    <script src="https://labs.mysql.com/common/js/site-20241017.min.js"></script>

    
    
    <!--[if lt IE 9]>
        <script src="https://labs.mysql.com/common/js/polyfills/html5shiv-printshiv-3.7.2.min.js"></script>
        <script src="https://labs.mysql.com/common/js/polyfills/respond-1.4.2.min.js"></script>
    <![endif]-->
        <!--[if IE 9]>
        <style>#docs-sidebar-toc { box-sizing: content-box; }</style>
    <![endif]-->
        
                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="E6BB6-B37B4-898B7-F97BA-BBCDB",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"E6BB6-B37B4-898B7-F97BA-BBCDB";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="kzvaeoix35pxazy7ydya-f-58d06c3c6-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"1334304","ak.ai":parseInt("802521",10),"ak.ol":"0","ak.cr":209,"ak.ipv":4,"ak.proto":"http/1.1","ak.rid":"18ff240c","ak.r":46154,"ak.a2":n,"ak.m":"dscx","ak.n":"essl","ak.bpcip":"86.106.2.0","ak.cport":11705,"ak.gh":"96.16.85.8","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"bbr","ak.t":"1730134256","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==rf3qkjGKP2K8OPBdA/67G2AHFMGMslhIeqZtF8VQ9o7uc0L9bEgPm5yRKySiLxAZuMMCyEf+canZ94BYX2QYsCoIssBNVwZCrNA9/2oZkgRF3a2Y2BaAhKNkufEpBEao+LmthpSpKf8qCKjsb1gwPLBoeYYboMRE9jktkC6IEZodeGVh8mKGXrDRWCb80Sp5JM+Bh8WezM5sbwRPw6EvqpAtvmIeEd7VKggzOWHZI+p5IKyZ4tynfncckFYk1QHFhZY9RqU1M1o6fsR05/kuxSwiCAs0J334TtnJ00P0f/U7RO9z8+59vpGs8e3qbVDVmQaPdq9CgYHCnWdn3dW2doDP39hAxpXN4GEI68P0W6nmtzKHXicOcR2p2ur3AHsgHDM3AzYUgRRLUP6lv+Rs+F0apPh5rd8AKnFgfeVX9Qc=","ak.pv":"15","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.html","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak-2.html","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>

<body class="no-sidebar full-page dev">
<a class="skip-main" href="#main">Skip to Main Content</a>
<div class="page-wrapper">
    <header>

                        <a href="https://dev.mysql.com/" aria-label="MySQL Home" title="MySQL" id="l1-home-link"></a>
        
        <div id="l1-nav-container">
            <div id="l1-line1">
                <div id="l1-lhs">
                    <div id="l1-slogan">
                        The world's most popular open source database
                    </div>
                    <div id="l1-search-box">
                        <form id="l1-search-form" method="get" action="https://search.oracle.com/mysql">
                        <input type="hidden" name="app" value="mysql" />
                        <input id="l1-search-input" type="search" class="icon-search" placeholder="Search" aria-label="Search" name="q" />
                        </form>
                    </div>
                    <div id="l1-auth-links">
                        <nav aria-label="Contact/Login Navigation" role="navigation">
                            <a href="https://www.mysql.com/about/contact/"><b>Contact MySQL</b></a>
                            <span id="l1-contact-separator">&nbsp;|&nbsp;</span>
                            <span id="l1-contact-separator-br"><br /></span>
                                                             <a href="https://dev.mysql.com/auth/login/?dest=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.4%2Fen%2Fx-plugin-connection-compression.html%3Fff%3Dnopfpls">Login</a> &nbsp;|&nbsp;
                                 <a href="https://dev.mysql.com/auth/register/">Register</a>
                                                    </nav>
                    </div>
                </div>
            </div>
            <div id="l1-line2">
                <nav aria-label="Primary Navigation" role="navigation">
                    <ul id="l1-nav">
                        <li>
                            <a href="https://www.mysql.com/"><!-- <span class="icon-sakila"></span>  -->MySQL.com</a>
                        </li><li>
                            <a href="https://www.mysql.com/downloads/"><!-- <span class="icon-download-thin"></span>  -->Downloads</a>
                        </li><li class="active">
                            <a href="https://dev.mysql.com/doc/"><!-- <span class="icon-books"></span>  -->Documentation</a>
                        </li><li>
                            <a href="https://dev.mysql.com/"><!-- <span class="icon-code"></span>  -->Developer Zone</a>
                        </li>                    </ul>
                </nav>
                <div class="social-icons">
                    <nav aria-label="Social Navigation" role="navigation">
                        <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook"></span></a>
                        <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter"></span></a>
                        <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin"></span></a>
                        <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube"></span></a>
                    </nav>
                </div>
            </div>
        </div>
        <div id="sub-header">
            <div id="l2-nav-container">
                <div id="l2-nav-toggle">
                    <span class="icon-three-bars"></span>
                </div>
                                                                                        <a class="button nav-button-3" href="https://dev.mysql.com/"><span class="icon-code"></span> Developer Zone</a>
                                                                                                                                    <a class="button nav-button-2" href="https://www.mysql.com/downloads/"><span class="icon-download-thin"></span> Downloads</a>
                                                                                                <a class="button nav-button-1" href="https://www.mysql.com/"><span class="icon-sakila"></span> MySQL.com</a>
                                                                        <div id="l2-search-toggle">
                    <span class="icon-search"></span>
                </div>
                <div id="l2-site-icon">
                                                                                                                                                                                                    <span class="icon-books"></span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                <div id="l1-section-title">
                    <span id="l1-section-label">
                        <a href="https://dev.mysql.com/doc/">Documentation</a>
                    </span>
                </div>
                <nav aria-label="Secondary Navigation" role="navigation">
                    

<ul id="l2-nav">
            	<li class="active"><a class="active " href="https://dev.mysql.com/doc/refman/en/">MySQL Server</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-enterprise.html">MySQL Enterprise</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/workbench/en/">Workbench</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-cluster.html">InnoDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-connectors.html">Connectors</a>
    			</li>
	        	<li class=" last"><a  href="https://dev.mysql.com/doc/index-other.html">More</a>
    			</li>
	                        <li class="other-section"><a href="https://www.mysql.com/">MySQL.com</a></li>
                            <li class="other-section"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                                        <li class="other-section"><a href="https://dev.mysql.com/">Developer Zone</a></li>
            </ul>
                </nav>
            </div>
            <div id="l3-search-container"></div>
            <div id="top-orange"><span id="section-nav">Section Menu: &nbsp; </span></div>
        </div>
    </header>
        <div id="page">
                        <div role="main" id="main" tabindex="-1">

            
                
            
<div>
    <div id="docs-sidebar-toc" class="">
    <div id="docs-toc-inner">
        <div class="docs-sidebar-header" id="docs-nav-header">
            <a class="docs-show-hide-nav" id="docs-hide-nav" href="#" title="Hide Sidebar" aria-label="Hide Sidebar"><span class="icon-arrow-small-left"></span></a>
            <div class="docs-nav-links">
                                    
    <a href="x-plugin-sha2-cache-plugin.html"
        aria-label="Previous" title="Previous: Using X Plugin with the Caching SHA-2 Authentication Plugin"><span
        class="icon-chevron-left"></span></a>
<a href="index.html" aria-label="Start" title="Start"><span class="icon-book-open"></span></a>
        <a aria-label="Up" href="x-plugin.html" title="Up: X Plugin"><span class="icon-chevron-up"></span></a>
    <a href="x-plugin-options-variables.html" aria-label="Next"
        title="Next: X Plugin Options and Variables"><span
        class="icon-chevron-right"></span></a>
                            </div>
        </div>
                    
<div id="docs-sidebar-search-container">
    <div id="docs-sidebar-search-box">
        <form method="get" action="https://dev.mysql.com/doc/search/">
            <input type="hidden" name="d" id="d" value="371" />
            <input type="hidden" name="p" id="p" value="1" />
            <input type="text" name="q" id="q" title="Search this Manual"
                value="Search this Manual"
                style="color: #bbb;"
                onfocus="if(this.value == 'Search this Manual') {this.value='';this.style.color='#555';}"
                onblur="if(this.value == '') {this.value='Search this Manual';this.style.color='#bbb';}" />

            <button class="docs-sidebar-search-btn" aria-label="Search" title="Search" type="submit">
                <span class="icon-search"></span>
            </button>
        </form>
    </div>
</div>
                <div class="docs-sidebar-nav">
            <a class="docs-icon-home" href="https://dev.mysql.com/doc/"><span class="icon-home"></span>Documentation Home</a><hr />
            <div class="docs-sidebar-mtitle">MySQL 8.4 Reference Manual</div>
            <nav class="doctoc" id="doc-371">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="preface.html">Preface and Legal Notices</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="introduction.html">General Information</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="installing.html">Installing MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="upgrading.html">Upgrading MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="downgrading.html">Downgrading MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="tutorial.html">Tutorial</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="programs.html">MySQL Programs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="server-administration.html">MySQL Server Administration</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="security.html">Security</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="backup-and-recovery.html">Backup and Recovery</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="optimization.html">Optimization</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="language-structure.html">Language Structure</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="charset.html">Character Sets, Collations, Unicode</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-types.html">Data Types</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="functions.html">Functions and Operators</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sql-statements.html">SQL Statements</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-dictionary.html">MySQL Data Dictionary</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="innodb-storage-engine.html">The InnoDB Storage Engine</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="storage-engines.html">Alternative Storage Engines</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="replication.html">Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="group-replication.html">Group Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-userguide.html">MySQL Shell</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="document-store.html">Using MySQL as a Document Store</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="document-store-interfaces.html">Interfaces to a MySQL Document Store</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="document-store-concepts.html">Document Store Concepts</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript.html">JavaScript Quick-Start Guide: MySQL Shell for Document Store</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-shell.html">MySQL Shell</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-download.html">Download and Import world_x Database</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-documents-collections.html">Documents and Collections</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-collections-operations.html">Create, List, and Drop Collections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-collections-add.html">Working with Collections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-documents-find.html">Find Documents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-documents-modify.html">Modify Documents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-documents-remove.html">Remove Documents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-indexes-create.html">Create and Drop Indexes</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-relational-tables.html">Relational Tables</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-table-insert.html">Insert Records into Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-table-select.html">Select Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-table-update.html">Update Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-table-delete.html">Delete Tables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-javascript-documents-in-tables.html">Documents in Tables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python.html">Python Quick-Start Guide: MySQL Shell for Document Store</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-shell.html">MySQL Shell</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-download.html">Download and Import world_x Database</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-collections.html">Documents and Collections</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-collections-operations.html">Create, List, and Drop Collections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-add.html">Working with Collections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-find.html">Find Documents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-modify.html">Modify Documents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-remove.html">Remove Documents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-index.html">Create and Drop Indexes</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-relational-tables.html">Relational Tables</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-table-insert.html">Insert Records into Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-table-select.html">Select Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-table-update.html">Update Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-table-delete.html">Delete Tables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-tutorial-python-documents-in-tables.html">Documents in Tables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="x-plugin.html">X Plugin</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-checking-installation.html">Checking X Plugin Installation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-disabling.html">Disabling X Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-encrypted-connections.html">Using Encrypted Connections with X Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-sha2-cache-plugin.html">Using X Plugin with the Caching SHA-2 Authentication Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link current"><a href="x-plugin-connection-compression.html">Connection Compression with X Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="x-plugin-options-variables.html">X Plugin Options and Variables</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-option-variable-reference.html">X Plugin Option and Variable Reference</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-options-system-variables.html">X Plugin Options and System Variables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-status-variables.html">X Plugin Status Variables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="x-plugin-system-monitoring.html">Monitoring X Plugin</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-cluster-introduction.html">InnoDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-replicaset-introduction.html">InnoDB ReplicaSet</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster.html">MySQL NDB Cluster 8.4</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="partitioning.html">Partitioning</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="stored-objects.html">Stored Objects</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="information-schema.html">INFORMATION_SCHEMA Tables</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="performance-schema.html">MySQL Performance Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sys-schema.html">MySQL sys Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="connectors-apis.html">Connectors and APIs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-enterprise.html">MySQL Enterprise Edition</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="workbench.html">MySQL Workbench</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-oci-marketplace.html">MySQL on OCI Marketplace</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="telemetry.html">Telemetry</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="faqs.html">MySQL 8.4 Frequently Asked Questions</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="error-handling.html">Error Messages and Common Problems</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="indexes.html">Indexes</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="glossary.html">MySQL Glossary</a></div></div>                    </li>
        </ul>
                            </nav>
        </div>

        
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian open">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian open">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>


        <br /><span id="wkr"><br /></span>
    </div>
    </div>

    <div id="docs-main" class="has-toc">
    <div id="docs-main-inner">

                <div class="right" id="docs-version-nav">
            <a href="#" id="docs-version-nav-toggle">version 8.4
            <span class="icon-chevron-down"></span></a>
            <div id="docs-version-list">
                                                        <a                         href="https://dev.mysql.com/doc/refman/9.1/en/x-plugin-connection-compression.html">
                        9.1
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/9.0/en/x-plugin-connection-compression.html">
                        9.0
                                            </a><br />
                                                                                                                <a                         href="https://dev.mysql.com/doc/refman/8.0/en/x-plugin-connection-compression.html">
                        8.0
                                            </a><br />
                                                                            <a                         class="tooltip-left"
                        data-tooltip="The page you are viewing does not exist in version 5.7.
                        This link will take you to the Table of Contents."
                                                href="https://dev.mysql.com/doc/refman/5.7/en/">
                        5.7
                                            </a><br />
                                                                        <div id="docs-version-nav-lang">
                                                                                                                                                    <a                                     href="https://dev.mysql.com/doc/refman/8.0/ja/x-plugin-connection-compression.html">
                                    8.0&nbsp;
                                                                            Japanese
                                                                    </a><br />
                                                                                            </div>
                            </div>
        </div>
        
        <div id="docs-show-nav" class="left hidden" style="margin-right: 15px;">
            <a class="docs-show-hide-nav" href="#" aria-label="Show Sidebar"
                title="Show Sidebar"><span class="icon-arrow-small-right"></span></a>
        </div>

                        <div id="docs-breadcrumbs">
            <a href="index.html">MySQL 8.4 Reference Manual</a> &nbsp;/&nbsp;
                            <span id="breadcrumbs-link"><a href="#" id="show-breadcrumbs">...</a> &nbsp;/&nbsp;</span>
                <span class="hidden" id="hidden-breadcrumbs">
                                                        <a href="document-store.html">Using MySQL as a Document Store</a> &nbsp;/&nbsp;
                                                            <a href="x-plugin.html">X Plugin</a> &nbsp;/&nbsp;
                                                                                        </span>
                                        Connection Compression with X Plugin
                                    </div>
        
        <div id="docs-body">
        
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-connection-compression"></a>22.5.5Â Connection Compression with X Plugin</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm45105587326128"></a><a class="indexterm" name="idm45105587324640"></a><p>
      X Plugin supports compression of messages sent over X Protocol
      connections. Connections can be compressed if the server and the
      client agree on a mutually supported compression algorithm.
      Enabling compression reduces the number of bytes sent over the
      network, but adds to the server and client an additional CPU cost
      for compression and decompression operations. The benefits of
      compression therefore occur primarily when there is low network
      bandwidth, network transfer time dominates the cost of compression
      and decompression operations, and result sets are large.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Different MySQL clients implement support for connection
        compression differently; consult your client documentation for
        details. For example, for classic MySQL protocol connections, see
        <a class="xref" href="connection-compression-control.html" title="6.2.8Â Connection Compression Control">SectionÂ 6.2.8, âConnection Compression Controlâ</a>.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-configuration" title="Configuring Connection Compression for X Plugin">Configuring Connection Compression for X Plugin</a></p></li><li class="listitem"><p><a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-characteristics" title="Compressed Connection Characteristics for X Plugin">Compressed Connection Characteristics for X Plugin</a></p></li><li class="listitem"><p><a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-monitoring" title="Monitoring Connection Compression for X Plugin">Monitoring Connection Compression for X Plugin</a></p></li></ul>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="x-plugin-connection-compression-configuration"></a>Configuring Connection Compression for X Plugin</h4>

</div>

</div>

</div>
<p>
        By default, X Plugin supports the zstd, LZ4, and Deflate
        compression algorithms. Compression with the Deflate algorithm
        is carried out using the zlib software library, so the
        <code class="literal">deflate_stream</code> compression algorithm setting
        for X Protocol connections is equivalent to the
        <code class="literal">zlib</code> setting for classic MySQL protocol
        connections.
      </p><p>
        On the server side, you can disallow any of the compression
        algorithms by setting the
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_compression_algorithms"><code class="literal">mysqlx_compression_algorithms</code></a>
        system variable to include only those permitted. The algorithm
        names <code class="literal">zstd_stream</code>,
        <code class="literal">lz4_message</code>, and
        <code class="literal">deflate_stream</code> can be specified in any
        combination, and the order and lettercase are not important. If
        the system variable value is the empty string, no compression
        algorithms are permitted and connections are uncompressed.
      </p><p>
        The following table compares the characteristics of the
        different compression algorithms and shows their assigned
        priorities. By default, the server chooses the highest-priority
        algorithm permitted in common by the server and the client;
        clients may change the priorities as described later. The short
        form alias for the algorithms can be used by clients when
        specifying them.
</p>
<div class="table">
<a name="x-plugin-connection-compression-algorithms"></a><p class="title"><b>TableÂ 22.1Â X Protocol Compression Algorithm Characteristics</b></p>
<div class="table-contents">
<table frame="void"><col style="width: 18%" align="center"><col style="width: 14%" align="center"><col style="width: 18%" align="center"><col style="width: 17%" align="center"><col style="width: 16%" align="center"><col style="width: 16%" align="center"><thead><tr>
            <th scope="col">Algorithm</th>
            <th scope="col">Alias</th>
            <th scope="col">Compression Ratio</th>
            <th scope="col">Throughput</th>
            <th scope="col">CPU Cost</th>
            <th scope="col">Default Priority</th>
          </tr></thead><tbody><tr>
            <th scope="row"><code class="literal">zsth_stream</code></th>
            <td><code class="literal">zstd</code></td>
            <td>High</td>
            <td>High</td>
            <td>Medium</td>
            <td>First</td>
          </tr><tr>
            <th scope="row"><code class="literal">lz4_message</code></th>
            <td><code class="literal">lz4</code></td>
            <td>Low</td>
            <td>High</td>
            <td>Lowest</td>
            <td>Second</td>
          </tr><tr>
            <th scope="row"><code class="literal">deflate_stream</code></th>
            <td><code class="literal">deflate</code></td>
            <td>High</td>
            <td>Low</td>
            <td>Highest</td>
            <td>Third</td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        The X Protocol set of permitted compression algorithms (whether
        user-specified or default) is independent of the set of
        compression algorithms permitted by MySQL Server for
        classic MySQL protocol connections, which is specified by the
        <a class="link" href="server-system-variables.html#sysvar_protocol_compression_algorithms"><code class="literal">protocol_compression_algorithms</code></a>
        server system variable. If you do not specify the
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_compression_algorithms"><code class="literal">mysqlx_compression_algorithms</code></a>
        system variable, X Plugin does not fall back to using
        compression settings for classic MySQL protocol connections. Instead,
        its default is to permit all algorithms shown in
        <a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-algorithms" title="TableÂ 22.1Â X Protocol Compression Algorithm Characteristics">TableÂ 22.1, âX Protocol Compression Algorithm Characteristicsâ</a>.
        This is unlike the situation for the TLS context, where MySQL
        Server settings are used if the X Plugin system variables are
        not set, as described in
        <a class="xref" href="x-plugin-encrypted-connections.html" title="22.5.3Â Using Encrypted Connections with X Plugin">SectionÂ 22.5.3, âUsing Encrypted Connections with X Pluginâ</a>. For
        information about compression for classic MySQL protocol connections,
        see <a class="xref" href="connection-compression-control.html" title="6.2.8Â Connection Compression Control">SectionÂ 6.2.8, âConnection Compression Controlâ</a>.
      </p><p>
        On the client side, an X Protocol connection request can
        specify several parameters for compression control:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The compression mode.
          </p></li><li class="listitem"><p>
            The compression level.
          </p></li><li class="listitem"><p>
            The list of permitted compression algorithms in priority
            order.
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
          Some clients or Connectors might not support a given
          compression-control feature. For example, specifying
          compression level for X Protocol connections is supported
          only by MySQL Shell, not by other MySQL clients or
          Connectors. See the documentation for specific products for
          details about supported features and how to use them.
</p>
</div>
<p>
        The connection mode has these permitted values:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">disabled</code>: The connection is uncompressed.
          </p></li><li class="listitem"><p>
            <code class="literal">preferred</code>: The server and client
            negotiate to find a compression algorithm they both permit.
            If no common algorithm is available, the connection is
            uncompressed. This is the default mode if not specified
            explicitly.
          </p></li><li class="listitem"><p>
            <code class="literal">required</code>: Compression algorithm
            negotiation occurs as for <code class="literal">preferred</code> mode,
            but if no common algorithm is available, the connection
            request terminates with an error.
</p></li></ul>
</div>
<p>
        In addition to agreeing on a compression algorithm for each
        connection, the server and client can agree on a compression
        level from the numeric range that applies to the agreed
        algorithm. As the compression level for an algorithm increases,
        the data compression ratio increases, which reduces the network
        bandwidth and transfer time needed to send the message to the
        client. However, the effort required for data compression also
        increases, taking up time and CPU and memory resources on the
        server. Increases in the compression effort do not have a linear
        relationship to increases in the compression ratio.
      </p><p>
        The client can request a specific compression level during
        capability negotiations with the server for an X Protocol
        connection.
      </p><p>
        The default compression levels used by X Plugin in MySQL
        8.4 have been selected through performance testing
        as being a good trade-off between compression time and network
        transit time. These defaults are not necessarily the same as the
        library default for each algorithm. They apply if the client
        does not request a compression level for the algorithm. The
        default compression levels are initially set to 3 for zstd, 2
        for LZ4, and 3 for Deflate. You can adjust these settings using
        the
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_zstd_default_compression_level"><code class="literal">mysqlx_zstd_default_compression_level</code></a>,
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_lz4_default_compression_level"><code class="literal">mysqlx_lz4_default_compression_level</code></a>,
        and
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_deflate_default_compression_level"><code class="literal">mysqlx_deflate_default_compression_level</code></a>
        system variables.
      </p><p>
        To prevent excessive resource consumption on the server,
        X Plugin sets a maximum compression level that the server
        permits for each algorithm. If a client requests a compression
        level that exceeds this setting, the server uses its maximum
        permitted compression level (compression level requests by a
        client are supported only by MySQL Shell). The maximum
        compression levels are initially set to 11 for zstd, 8 for LZ4,
        and 5 for Deflate. You can adjust these settings using the
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_zstd_max_client_compression_level"><code class="literal">mysqlx_zstd_max_client_compression_level</code></a>,
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_lz4_max_client_compression_level"><code class="literal">mysqlx_lz4_max_client_compression_level</code></a>,
        and
        <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_deflate_max_client_compression_level"><code class="literal">mysqlx_deflate_max_client_compression_level</code></a>
        system variables.
      </p><p>
        If the server and client permit more than one algorithm in
        common, the default priority order for choosing an algorithm
        during negotiation is shown in
        <a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-algorithms" title="TableÂ 22.1Â X Protocol Compression Algorithm Characteristics">TableÂ 22.1, âX Protocol Compression Algorithm Characteristicsâ</a>.
        For clients that support specifying compression algorithms, the
        connection request can include a list of algorithms permitted by
        the client, specified using the algorithm name or its alias. The
        order of these algorithms in the list is taken as a priority
        order by the server. The algorithm used in this case is the
        first of those in the client list that is also permitted on the
        server side. However, the option for compression algorithms is
        subject to the compression mode:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            If the compression mode is <code class="literal">disabled</code>, the
            compression algorithms option is ignored.
          </p></li><li class="listitem"><p>
            If the compression mode is <code class="literal">preferred</code> but
            no algorithm permitted on the client side is permitted on
            the server side, the connection is uncompressed.
          </p></li><li class="listitem"><p>
            If the compression mode is <code class="literal">required</code> but
            no algorithm permitted on the client side is permitted on
            the server side, an error occurs.
</p></li></ul>
</div>
<p>
        To monitor the effects of message compression, use the X Plugin
        status variables described in
        <a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-monitoring" title="Monitoring Connection Compression for X Plugin">Monitoring Connection Compression for X Plugin</a>.
        You can use these status variables to calculate the benefit of
        message compression with your current settings, and use that
        information to tune your settings.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="x-plugin-connection-compression-characteristics"></a>Compressed Connection Characteristics for X Plugin</h4>

</div>

</div>

</div>
<p>
        X Protocol connection compression operates with the following
        behaviors and boundaries:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="literal">_stream</code> and
            <code class="literal">_message</code> suffixes in algorithm names
            refer to two different operational modes: In stream mode,
            all X Protocol messages in a single connection are
            compressed into a continuous stream and must be decompressed
            in the same mannerâfollowing the order they were
            compressed and without skipping any messages. In message
            mode, each message is compressed individually and
            independently, and need not be decompressed in the order in
            which they were compressed. Also, message mode does not
            require all compressed messages to be decompressed.
          </p></li><li class="listitem"><p>
            Compression is not applied to any messages that are sent
            before authentication succeeds.
          </p></li><li class="listitem"><p>
            Compression is not applied to control flow messages such as
            <code class="literal">Mysqlx.Ok</code>,
            <code class="literal">Mysqlx.Error</code>, and
            <code class="literal">Mysqlx.Sql.StmtExecuteOk</code> messages.
          </p></li><li class="listitem"><p>
            All other X Protocol messages can be compressed if the
            server and client agree on a mutually permitted compression
            algorithm during capability negotiation. If the client does
            not request compression at that stage, neither the client
            nor the server applies compression to messages.
          </p></li><li class="listitem"><p>
            When messages sent over X Protocol connections are
            compressed, the limit specified by the
            <a class="link" href="x-plugin-options-system-variables.html#sysvar_mysqlx_max_allowed_packet"><code class="literal">mysqlx_max_allowed_packet</code></a>
            system variable still applies. The network packet must be
            smaller than this limit after the message payload has been
            decompressed. If the limit is exceeded, X Plugin returns a
            decompression error and closes the connection.
          </p></li><li class="listitem"><p>
            The following points pertain to compression level requests
            by clients, which is supported only by MySQL Shell:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Compression levels must be specified by the client as an
                integer. If any other type of value is supplied, the
                connection closes with an error.
              </p></li><li class="listitem"><p>
                If a client specifies an algorithm but not a compression
                level, the server uses its default compression level for
                the algorithm.
              </p></li><li class="listitem"><p>
                If a client requests an algorithm compression level that
                exceeds the server maximum permitted level, the server
                uses the maximum permitted level.
              </p></li><li class="listitem"><p>
                If a client requests an algorithm compression level that
                is less than the server minimum permitted level, the
                server uses the minimum permitted level.
</p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="x-plugin-connection-compression-monitoring"></a>Monitoring Connection Compression for X Plugin</h4>

</div>

</div>

</div>
<p>
        You can monitor the effects of message compression using the
        X Plugin status variables. When message compression is in use,
        the session
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_compression_algorithm"><code class="literal">Mysqlx_compression_algorithm</code></a>
        status variable shows which compression algorithm is in use for
        the current X Protocol connection, and
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_compression_level"><code class="literal">Mysqlx_compression_level</code></a> shows
        the compression level that was selected.
      </p><p>
        X Plugin status variables can be used to calculate the
        efficiency of the compression algorithms that are selected (the
        data compression ratio), and the overall effect of using message
        compression. Use the session value of the status variables in
        the following calculations to see what the benefit of message
        compression was for a specific session with a known compression
        algorithm. Or use the global value of the status variables to
        check the overall benefit of message compression for your server
        across all sessions using X Protocol connections, including all
        the compression algorithms that have been used for those
        sessions, and all sessions that did not use message compression.
        You can then tune message compression by adjusting the permitted
        compression algorithms, maximum compression level, and default
        compression level, as described in
        <a class="xref" href="x-plugin-connection-compression.html#x-plugin-connection-compression-configuration" title="Configuring Connection Compression for X Plugin">Configuring Connection Compression for X Plugin</a>.
      </p><p>
        When message compression is in use, the
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_bytes_sent"><code class="literal">Mysqlx_bytes_sent</code></a> status
        variable shows the total number of bytes sent out from the
        server, including compressed message payloads measured after
        compression, any items in compressed messages that were not
        compressed such as X Protocol headers, and any uncompressed
        messages. The
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_bytes_sent_compressed_payload"><code class="literal">Mysqlx_bytes_sent_compressed_payload</code></a>
        status variable shows the total number of bytes sent as
        compressed message payloads, measured after compression, and the
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_bytes_sent_uncompressed_frame"><code class="literal">Mysqlx_bytes_sent_uncompressed_frame</code></a>
        status variable shows the total number of bytes for those same
        message payloads but measured before compression. The
        compression ratio, which shows the efficiency of the compression
        algorithm, can therefore be calculated using the following
        expression:
      </p><pre class="programlisting copytoclipboard language-simple one-line"><code class="language-simple">mysqlx_bytes_sent_uncompressed_frame / mysqlx_bytes_sent_compressed_payload</code></pre><p>
        The effectiveness of compression for X Protocol messages sent
        by the server can be calculated using the following expression:
      </p><pre class="programlisting copytoclipboard language-simple one-line"><code class="language-simple">(mysqlx_bytes_sent - mysqlx_bytes_sent_compressed_payload + mysqlx_bytes_sent_uncompressed_frame) / mysqlx_bytes_sent</code></pre><p>
        For messages received by the server from clients, the
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_bytes_received_compressed_payload"><code class="literal">Mysqlx_bytes_received_compressed_payload</code></a>
        status variable shows the total number of bytes received as
        compressed message payloads, measured before decompression, and
        the
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_bytes_received_uncompressed_frame"><code class="literal">Mysqlx_bytes_received_uncompressed_frame</code></a>
        status variable shows the total number of bytes for those same
        message payloads but measured after decompression. The
        <a class="link" href="x-plugin-status-variables.html#statvar_Mysqlx_bytes_received"><code class="literal">Mysqlx_bytes_received</code></a> status
        variable includes compressed message payloads measured before
        decompression, any uncompressed items in compressed messages,
        and any uncompressed messages.
</p>
</div>

</div>
<br />
        </div>

                <div id="docs-in-page-nav-container">
            <div id="docs-in-page-nav">
                
    <a href="x-plugin-sha2-cache-plugin.html"
        aria-label="Previous" title="Previous: Using X Plugin with the Caching SHA-2 Authentication Plugin"><span
        class="icon-chevron-left"></span> PREV</a> &nbsp;
<a href="index.html" aria-label="Start" title="Start"> HOME</a> &nbsp;
        <a aria-label="Up" href="x-plugin.html" title="Up: X Plugin"> UP</a> &nbsp;
    <a href="x-plugin-options-variables.html" aria-label="Next"
        title="Next: X Plugin Options and Variables">NEXT <span
        class="icon-chevron-right"></span></a>
            </div>
        </div>
        
         <div id="docs-body-extra">
             
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>

         </div>
     </div>
     </div>

</div>

<script>
$(function() {
    var doc = new $.doc({ 'mobile': $.browser.mobile, 'docId': 1, 'highlight': true });
});
</script>
    

            
        </div>
    </div>

    <footer class="collapsed">
        <div id="footer-bottom">
                                    <div id="footer-collapse">
                <a href="#" id="expand-footer"
                    aria-label="Expand Footer"
                    title="Expand Footer"><span
                    class="icon-plus-square"></span></a>
            </div>
                        <div class="footer-contact">
                <div id="footer-contact-icon" style="display: none;">
                    <span class="icon-call-phone"></span>
                </div>
                <div id="footer-contact-numbers" style="display: none;">
                    <strong>Contact MySQL Sales</strong><br/>
                    USA/Canada: +1-866-221-0634 &nbsp;
                    (<a href="https://www.mysql.com/about/contact/phone/" class="darker-blue">More Countries &raquo;</a>)
                </div>
                <div id="footer-contact-copyright" style="display: inline-block;">
                    <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                    &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                </div>
            </div>
            <div class="social-icons">
                <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook-square"></span></a>
                <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter-square"></span></a>
                <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin-square"></span></a>
                <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube-square"></span></a>
            </div>
            <br class="clear" />
        </div>
        <div id="footer-links">

            <div id="site-footer-links">
                <div id="footer-nav"></div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/products/">Products</a></li>
                        <li><a href="https://www.mysql.com/products/heatwave/">HeatWave</a></li>
                        <li><a href="https://www.mysql.com/products/enterprise/">MySQL Enterprise Edition</a></li>
                        <li><a href="https://www.mysql.com/products/standard/">MySQL Standard Edition</a></li>
                        <li><a href="https://www.mysql.com/products/classic/">MySQL Classic Edition</a></li>
                        <li><a href="https://www.mysql.com/products/cluster/">MySQL Cluster CGE</a></li>
                        <li><a href="https://www.mysql.com/oem/">MySQL Embedded (OEM/ISV)</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/services/">Services</a></li>
                        <li><a href="https://www.mysql.com/training/">Training</a></li>
                        <li><a href="https://www.mysql.com/certification/">Certification</a></li>
                        <li><a href="https://www.mysql.com/support/">Support</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                        <li><a href="https://dev.mysql.com/downloads/mysql/">MySQL Community Server</a></li>
                        <li><a href="https://dev.mysql.com/downloads/cluster/">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/downloads/shell/">MySQL Shell</a></li>
                        <li><a href="https://dev.mysql.com/downloads/router/">MySQL Router</a></li>
                        <li><a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://dev.mysql.com/doc/">Documentation</a></li>
                        <li><a href="https://dev.mysql.com/doc/refman/en/">MySQL Reference Manual</a></li>
                        <li><a href="https://dev.mysql.com/doc/workbench/en/">MySQL Workbench</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-connectors.html">MySQL Connectors</a></li>
                        <li><a href="https://dev.mysql.com/doc/#topic">Topic Guides</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/about/">About MySQL</a></li>
                        <li><a href="https://www.mysql.com/about/contact/">Contact Us</a></li>
                        <li><a href="https://blogs.oracle.com/mysql/">Blogs</a></li>
                                                                        <li><a href="https://www.mysql.com/buy-mysql/">How to Buy</a></li>
                        <li><a href="https://www.mysql.com/partners/">Partners</a></li>
                        <li><a href="https://www.mysql.com/about/jobs/">Job Opportunities</a></li>
                        <li><a href="https://www.mysql.com/sitemap.html">Site Map</a></li>
                    </ul>
                </div>

                            </div>

            <div id="footer-logo">
                <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                <div class="footer-legal-links">
                    <a href="https://www.oracle.com/legal/privacy/">Privacy</a> /
                    <a href="https://www.oracle.com/legal/privacy/privacy-choices.html">Do Not Sell My Info</a> |
                    <a href="https://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> |
                    <a href="https://www.oracle.com/us/legal/third-party-trademarks/index.html">Trademark Policy</a> |
                    <div id="teconsent"></div>
                </div>
            </div>

        </div>
    </footer>
</div>

            <script>
    if ((oracle.truste.api.getGdprConsentDecision().consentDecision) &&
            (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
             oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) )
    {
        document.write('<script src="https://labs.mysql.com/common/js/metrics/ora_mysql.js"><\/script>');
        document.write('<script type="text/javascript" async src="http://c.oracleinfinity.io/acs/account/wh3g12c3gg/js/mysql/odc.js?_ora.context=analytics:production"><\/script>');
    }
    </script>

        
    
</body>

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/x-plugin-connection-compression.html?ff=nopfpls by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 17:14:51 GMT -->
</html>
