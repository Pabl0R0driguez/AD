<!DOCTYPE html>
<html lang="en" class="svg no-js">

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/firewall-usage.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 17:00:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <!--[if IE ]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="Language" content="en">

    <title>MySQL :: MySQL 8.4 Reference Manual :: 8.4.7.3 Using MySQL Enterprise Firewall</title>
    <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/main-20241001.min.css" />
            <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/docs-20241001.min.css" />
    
    
    <link rel="stylesheet" media="print" href="https://labs.mysql.com/common/css/print-20241001.min.css" />

    
    
    
    
            <link rel="contents" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="start" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="prev" href="firewall-installation.html" title="8.4.7.2 Installing or Uninstalling MySQL Enterprise Firewall" />
<link rel="next" href="firewall-reference8dba.html?ff=nopfpls" title="8.4.7.4 MySQL Enterprise Firewall Reference" />
<link rel="up" href="firewall.html" title="8.4.7 MySQL Enterprise Firewall" />

    
    <link rel="shortcut icon" href="https://labs.mysql.com/common/themes/sakila/favicon.ico" />
    <script async="async" type="text/javascript" src='https://consent.truste.com/notice?domain=oracle.com&amp;c=teconsent&amp;js=bb&amp;noticeType=bb&amp;text=true&amp;cdn=1&amp;pcookie&amp;gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <script>(function(H){ H.className=H.className.replace(/\bno-js\b/,'js') })(document.documentElement)</script>
    <script src="https://labs.mysql.com/common/js/site-20241017.min.js"></script>

    
    
    <!--[if lt IE 9]>
        <script src="https://labs.mysql.com/common/js/polyfills/html5shiv-printshiv-3.7.2.min.js"></script>
        <script src="https://labs.mysql.com/common/js/polyfills/respond-1.4.2.min.js"></script>
    <![endif]-->
        <!--[if IE 9]>
        <style>#docs-sidebar-toc { box-sizing: content-box; }</style>
    <![endif]-->
        
                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="E6BB6-B37B4-898B7-F97BA-BBCDB",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"E6BB6-B37B4-898B7-F97BA-BBCDB";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="kzvaeoix35pxazy7xgaa-f-1423d7896-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"1334304","ak.ai":parseInt("802521",10),"ak.ol":"0","ak.cr":119,"ak.ipv":4,"ak.proto":"http/1.1","ak.rid":"18af3f4c","ak.r":46154,"ak.a2":n,"ak.m":"dscx","ak.n":"essl","ak.bpcip":"86.106.2.0","ak.cport":5893,"ak.gh":"96.16.85.8","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"bbr","ak.t":"1730132352","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==0jPIB7Cmh/wIi7HeN+xVqAthB8Kfh4LL+kRouHubkkuXKGWXh+LWN7AXL4iPK2u1SfZ461qTzqNFy+Z0EoW5/g0PKTXEfDgRkt5QPYvL1jl4TPvVGCl1CZOrjo8trmRtIGNIEQU4oyoTLMKDZZa09EFb3HjxpHCgklTi/qZog4S4P0sd+0l4w8R22XTWGxGapzwNrTkLVk1iJVTT1YtfWHG6Ogd5YvfyKUXgWRptoSJmAskznC++MXUa9UTMrpGm0A7I+kWbIzY4FLZBNQ46r2gnEo2ZvnGWKl25zCWv8eot4Eoc0Wb8pwv40QwotjciDaxuxccB8DwP+/lPg3WKIfGcMogY/lQVkWzf1xN3z35CmjBsEhLomRWnyIyqNZQLYNkpJeARHK05O17un3eRAzJe0COcIG2SFOoaZamV8Po=","ak.pv":"15","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.html","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak-2.html","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>

<body class="no-sidebar full-page dev">
<a class="skip-main" href="#main">Skip to Main Content</a>
<div class="page-wrapper">
    <header>

                        <a href="https://dev.mysql.com/" aria-label="MySQL Home" title="MySQL" id="l1-home-link"></a>
        
        <div id="l1-nav-container">
            <div id="l1-line1">
                <div id="l1-lhs">
                    <div id="l1-slogan">
                        The world's most popular open source database
                    </div>
                    <div id="l1-search-box">
                        <form id="l1-search-form" method="get" action="https://search.oracle.com/mysql">
                        <input type="hidden" name="app" value="mysql" />
                        <input id="l1-search-input" type="search" class="icon-search" placeholder="Search" aria-label="Search" name="q" />
                        </form>
                    </div>
                    <div id="l1-auth-links">
                        <nav aria-label="Contact/Login Navigation" role="navigation">
                            <a href="https://www.mysql.com/about/contact/"><b>Contact MySQL</b></a>
                            <span id="l1-contact-separator">&nbsp;|&nbsp;</span>
                            <span id="l1-contact-separator-br"><br /></span>
                                                             <a href="https://dev.mysql.com/auth/login/?dest=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.4%2Fen%2Ffirewall-usage.html">Login</a> &nbsp;|&nbsp;
                                 <a href="https://dev.mysql.com/auth/register/">Register</a>
                                                    </nav>
                    </div>
                </div>
            </div>
            <div id="l1-line2">
                <nav aria-label="Primary Navigation" role="navigation">
                    <ul id="l1-nav">
                        <li>
                            <a href="https://www.mysql.com/"><!-- <span class="icon-sakila"></span>  -->MySQL.com</a>
                        </li><li>
                            <a href="https://www.mysql.com/downloads/"><!-- <span class="icon-download-thin"></span>  -->Downloads</a>
                        </li><li class="active">
                            <a href="https://dev.mysql.com/doc/"><!-- <span class="icon-books"></span>  -->Documentation</a>
                        </li><li>
                            <a href="https://dev.mysql.com/"><!-- <span class="icon-code"></span>  -->Developer Zone</a>
                        </li>                    </ul>
                </nav>
                <div class="social-icons">
                    <nav aria-label="Social Navigation" role="navigation">
                        <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook"></span></a>
                        <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter"></span></a>
                        <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin"></span></a>
                        <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube"></span></a>
                    </nav>
                </div>
            </div>
        </div>
        <div id="sub-header">
            <div id="l2-nav-container">
                <div id="l2-nav-toggle">
                    <span class="icon-three-bars"></span>
                </div>
                                                                                        <a class="button nav-button-3" href="https://dev.mysql.com/"><span class="icon-code"></span> Developer Zone</a>
                                                                                                                                    <a class="button nav-button-2" href="https://www.mysql.com/downloads/"><span class="icon-download-thin"></span> Downloads</a>
                                                                                                <a class="button nav-button-1" href="https://www.mysql.com/"><span class="icon-sakila"></span> MySQL.com</a>
                                                                        <div id="l2-search-toggle">
                    <span class="icon-search"></span>
                </div>
                <div id="l2-site-icon">
                                                                                                                                                                                                    <span class="icon-books"></span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                <div id="l1-section-title">
                    <span id="l1-section-label">
                        <a href="https://dev.mysql.com/doc/">Documentation</a>
                    </span>
                </div>
                <nav aria-label="Secondary Navigation" role="navigation">
                    

<ul id="l2-nav">
            	<li class="active"><a class="active " href="https://dev.mysql.com/doc/refman/en/">MySQL Server</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-enterprise.html">MySQL Enterprise</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/workbench/en/">Workbench</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-cluster.html">InnoDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-connectors.html">Connectors</a>
    			</li>
	        	<li class=" last"><a  href="https://dev.mysql.com/doc/index-other.html">More</a>
    			</li>
	                        <li class="other-section"><a href="https://www.mysql.com/">MySQL.com</a></li>
                            <li class="other-section"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                                        <li class="other-section"><a href="https://dev.mysql.com/">Developer Zone</a></li>
            </ul>
                </nav>
            </div>
            <div id="l3-search-container"></div>
            <div id="top-orange"><span id="section-nav">Section Menu: &nbsp; </span></div>
        </div>
    </header>
        <div id="page">
                        <div role="main" id="main" tabindex="-1">

            
                
            
<div>
    <div id="docs-sidebar-toc" class="">
    <div id="docs-toc-inner">
        <div class="docs-sidebar-header" id="docs-nav-header">
            <a class="docs-show-hide-nav" id="docs-hide-nav" href="#" title="Hide Sidebar" aria-label="Hide Sidebar"><span class="icon-arrow-small-left"></span></a>
            <div class="docs-nav-links">
                                    
    <a href="firewall-installation.html"
        aria-label="Previous" title="Previous: Installing or Uninstalling MySQL Enterprise Firewall"><span
        class="icon-chevron-left"></span></a>
<a href="index.html" aria-label="Start" title="Start"><span class="icon-book-open"></span></a>
        <a aria-label="Up" href="firewall.html" title="Up: MySQL Enterprise Firewall"><span class="icon-chevron-up"></span></a>
    <a href="firewall-reference.html" aria-label="Next"
        title="Next: MySQL Enterprise Firewall Reference"><span
        class="icon-chevron-right"></span></a>
                            </div>
        </div>
                    
<div id="docs-sidebar-search-container">
    <div id="docs-sidebar-search-box">
        <form method="get" action="https://dev.mysql.com/doc/search/">
            <input type="hidden" name="d" id="d" value="371" />
            <input type="hidden" name="p" id="p" value="1" />
            <input type="text" name="q" id="q" title="Search this Manual"
                value="Search this Manual"
                style="color: #bbb;"
                onfocus="if(this.value == 'Search this Manual') {this.value='';this.style.color='#555';}"
                onblur="if(this.value == '') {this.value='Search this Manual';this.style.color='#bbb';}" />

            <button class="docs-sidebar-search-btn" aria-label="Search" title="Search" type="submit">
                <span class="icon-search"></span>
            </button>
        </form>
    </div>
</div>
                <div class="docs-sidebar-nav">
            <a class="docs-icon-home" href="https://dev.mysql.com/doc/"><span class="icon-home"></span>Documentation Home</a><hr />
            <div class="docs-sidebar-mtitle">MySQL 8.4 Reference Manual</div>
            <nav class="doctoc" id="doc-371">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="preface.html">Preface and Legal Notices</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="introduction.html">General Information</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="installing.html">Installing MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="upgrading.html">Upgrading MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="downgrading.html">Downgrading MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="tutorial.html">Tutorial</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="programs.html">MySQL Programs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="server-administration.html">MySQL Server Administration</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="security.html">Security</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="general-security-issues.html">General Security Issues</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="security-guidelines.html">Security Guidelines</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="password-security.html">Keeping Passwords Secure</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="password-security-user.html">End-User Guidelines for Password Security</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="password-security-admin.html">Administrator Guidelines for Password Security</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="password-logging.html">Passwords and Logging</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="security-against-attack.html">Making MySQL Secure Against Attackers</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="security-options.html">Security-Related mysqld Options and Variables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="changing-mysql-user.html">How to Run MySQL as a Normal User</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="load-data-local-security.html">Security Considerations for LOAD DATA LOCAL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="secure-client-programming.html">Client Programming Security Guidelines</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="access-control.html">Access Control and Account Management</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="user-names.html">Account User Names and Passwords</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="privileges-provided.html">Privileges Provided by MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="grant-tables.html">Grant Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="account-names.html">Specifying Account Names</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="role-names.html">Specifying Role Names</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="connection-access.html">Access Control, Stage 1: Connection Verification</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="request-access.html">Access Control, Stage 2: Request Verification</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="creating-accounts.html">Adding Accounts, Assigning Privileges, and Dropping Accounts</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="reserved-accounts.html">Reserved Accounts</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="roles.html">Using Roles</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="account-categories.html">Account Categories</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="partial-revokes.html">Privilege Restriction Using Partial Revokes</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="privilege-changes.html">When Privilege Changes Take Effect</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="assigning-passwords.html">Assigning Account Passwords</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="password-management.html">Password Management</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="expired-password-handling.html">Server Handling of Expired Passwords</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="pluggable-authentication.html">Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="multifactor-authentication.html">Multifactor Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="proxy-users.html">Proxy Users</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="account-locking.html">Account Locking</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="user-resources.html">Setting Account Resource Limits</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="problems-connecting.html">Troubleshooting Problems Connecting to MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="account-activity-auditing.html">SQL-Based Account Activity Auditing</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="encrypted-connections.html">Using Encrypted Connections</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="using-encrypted-connections.html">Configuring MySQL to Use Encrypted Connections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="encrypted-connection-protocols-ciphers.html">Encrypted Connection TLS Protocols and Ciphers</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="creating-ssl-rsa-files.html">Creating SSL and RSA Certificates and Keys</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="creating-ssl-rsa-files-using-mysql.html">Creating SSL and RSA Certificates and Keys using MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="creating-ssl-files-using-openssl.html">Creating SSL Certificates and Keys Using openssl</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="creating-rsa-files-using-openssl.html">Creating RSA Keys Using openssl</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="windows-and-ssh.html">Connecting to MySQL Remotely from Windows with SSH</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="reusing-ssl-sessions.html">Reusing SSL Sessions</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="security-plugins.html">Security Components and Plugins</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="authentication-plugins.html">Authentication Plugins</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="native-pluggable-authentication.html">Native Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="caching-sha2-pluggable-authentication.html">Caching SHA-2 Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="sha256-pluggable-authentication.html">SHA-256 Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="cleartext-pluggable-authentication.html">Client-Side Cleartext Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="pam-pluggable-authentication.html">PAM Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="windows-pluggable-authentication.html">Windows Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="ldap-pluggable-authentication.html">LDAP Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="kerberos-pluggable-authentication.html">Kerberos Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="no-login-pluggable-authentication.html">No-Login Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="socket-pluggable-authentication.html">Socket Peer-Credential Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="webauthn-pluggable-authentication.html">WebAuthn Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="test-pluggable-authentication.html">Test Pluggable Authentication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="pluggable-authentication-system-variables.html">Pluggable Authentication System Variables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="connection-control.html">The Connection-Control Plugins</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="connection-control-installation.html">Connection-Control Plugin Installation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="connection-control-variables.html">Connection-Control System and Status Variables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="validate-password.html">The Password Validation Component</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="validate-password-installation.html">Password Validation Component Installation and Uninstallation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="validate-password-options-variables.html">Password Validation Options and Variables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="validate-password-transitioning.html">Transitioning to the Password Validation Component</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="keyring.html">The MySQL Keyring</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-component-plugin-comparison.html">Keyring Components Versus Keyring Plugins</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-component-installation.html">Keyring Component Installation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-plugin-installation.html">Keyring Plugin Installation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-file-component.html">Using the component_keyring_file File-Based Keyring Component</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-encrypted-file-component.html">Using the component_keyring_encrypted_file Encrypted File-Based Keyring
Component</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-okv-plugin.html">Using the keyring_okv KMIP Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-aws-plugin.html">Using the keyring_aws Amazon Web Services Keyring Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-hashicorp-plugin.html">Using the HashiCorp Vault Keyring Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-oci-component.html">Using the Oracle Cloud Infrastructure Vault Keyring Component</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-key-types.html">Supported Keyring Key Types and Lengths</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-key-migration.html">Migrating Keys Between Keyring Keystores</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-functions-general-purpose.html">General-Purpose Keyring Key-Management Functions</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-functions-plugin-specific.html">Plugin-Specific Keyring Key-Management Functions</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-metadata.html">Keyring Metadata</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-options.html">Keyring Command Options</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="keyring-system-variables.html">Keyring System Variables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="audit-log.html">MySQL Enterprise Audit</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-elements.html">Elements of MySQL Enterprise Audit</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-installation.html">Installing or Uninstalling MySQL Enterprise Audit</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-security.html">MySQL Enterprise Audit Security Considerations</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-file-formats.html">Audit Log File Formats</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-logging-configuration.html">Configuring Audit Logging Characteristics</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-file-reading.html">Reading Audit Log Files</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-filtering.html">Audit Log Filtering</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-filter-definitions.html">Writing Audit Log Filter Definitions</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-disabling.html">Disabling Audit Logging</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-legacy-filtering.html">Legacy Mode Audit Log Filtering</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-reference.html">Audit Log Reference</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-log-restrictions.html">Audit Log Restrictions</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="audit-api-message-emit.html">The Audit Message Component</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="firewall.html">MySQL Enterprise Firewall</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="firewall-elements.html">Elements of MySQL Enterprise Firewall</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="firewall-installation.html">Installing or Uninstalling MySQL Enterprise Firewall</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link current"><a href="firewall-usage.html">Using MySQL Enterprise Firewall</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="firewall-reference.html">MySQL Enterprise Firewall Reference</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-masking.html">MySQL Enterprise Data Masking and De-Identification</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-components-vs-plugin.html">Data-Masking Components Versus the Data-Masking Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-masking-components.html">MySQL Enterprise Data Masking and De-Identification Components</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-components-installation.html">MySQL Enterprise Data Masking and De-Identification Component Installation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-component-usage.html">Using MySQL Enterprise Data Masking and De-Identification Components</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-component-function-reference.html">MySQL Enterprise Data Masking and De-Identification Component Function Reference</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-component-functions.html">MySQL Enterprise Data Masking and De-Identification Component Function Descriptions</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-component-variables.html">MySQL Enterprise Data Masking and De-Identification Component Variables</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-masking-plugin.html">MySQL Enterprise Data Masking and De-Identification Plugin</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-plugin-installation.html">MySQL Enterprise Data Masking and De-Identification Plugin Installation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-plugin-usage.html">Using the MySQL Enterprise Data Masking and De-Identification Plugin</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-plugin-function-reference.html">MySQL Enterprise Data Masking and De-Identification Plugin Function Reference</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="data-masking-plugin-functions.html">MySQL Enterprise Data Masking and De-Identification Plugin Function Descriptions</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="enterprise-encryption.html">MySQL Enterprise Encryption</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="enterprise-encryption-installation.html">MySQL Enterprise Encryption Installation and Upgrading</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="enterprise-encryption-configuring.html">Configuring MySQL Enterprise Encryption</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="enterprise-encryption-usage.html">MySQL Enterprise Encryption Usage and Examples</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="enterprise-encryption-function-reference.html">MySQL Enterprise Encryption Function Reference</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="enterprise-encryption-functions.html">MySQL Enterprise Encryption Component Function Descriptions</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="selinux.html">SELinux</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-checking.html">Check if SELinux is Enabled</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-mode.html">Changing the SELinux Mode</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-policies.html">MySQL Server SELinux Policies</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-file-context.html">SELinux File Context</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="selinux-context-tcp-port.html">SELinux TCP Port Context</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-context-mysqld-tcp-port.html">Setting the TCP Port Context for mysqld</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-context-mysql-feature-ports.html">Setting the TCP Port Context for MySQL Features</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="selinux-troubleshooting.html">Troubleshooting SELinux</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="fips-mode.html">FIPS Support</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="backup-and-recovery.html">Backup and Recovery</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="optimization.html">Optimization</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="language-structure.html">Language Structure</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="charset.html">Character Sets, Collations, Unicode</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-types.html">Data Types</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="functions.html">Functions and Operators</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sql-statements.html">SQL Statements</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-dictionary.html">MySQL Data Dictionary</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="innodb-storage-engine.html">The InnoDB Storage Engine</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="storage-engines.html">Alternative Storage Engines</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="replication.html">Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="group-replication.html">Group Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-userguide.html">MySQL Shell</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="document-store.html">Using MySQL as a Document Store</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-cluster-introduction.html">InnoDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-replicaset-introduction.html">InnoDB ReplicaSet</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster.html">MySQL NDB Cluster 8.4</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="partitioning.html">Partitioning</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="stored-objects.html">Stored Objects</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="information-schema.html">INFORMATION_SCHEMA Tables</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="performance-schema.html">MySQL Performance Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sys-schema.html">MySQL sys Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="connectors-apis.html">Connectors and APIs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-enterprise.html">MySQL Enterprise Edition</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="workbench.html">MySQL Workbench</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-oci-marketplace.html">MySQL on OCI Marketplace</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="telemetry.html">Telemetry</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="faqs.html">MySQL 8.4 Frequently Asked Questions</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="error-handling.html">Error Messages and Common Problems</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="indexes.html">Indexes</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="glossary.html">MySQL Glossary</a></div></div>                    </li>
        </ul>
                            </nav>
        </div>

        
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian open">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian open">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>


        <br /><span id="wkr"><br /></span>
    </div>
    </div>

    <div id="docs-main" class="has-toc">
    <div id="docs-main-inner">

                <div class="right" id="docs-version-nav">
            <a href="#" id="docs-version-nav-toggle">version 8.4
            <span class="icon-chevron-down"></span></a>
            <div id="docs-version-list">
                                                        <a                         href="https://dev.mysql.com/doc/refman/9.1/en/firewall-usage.html">
                        9.1
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/9.0/en/firewall-usage.html">
                        9.0
                                            </a><br />
                                                                                                                <a                         href="https://dev.mysql.com/doc/refman/8.0/en/firewall-usage.html">
                        8.0
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/5.7/en/firewall-usage.html">
                        5.7
                                            </a><br />
                                                                        <div id="docs-version-nav-lang">
                                                                                                                                                    <a                                     href="https://dev.mysql.com/doc/refman/8.0/ja/firewall-usage.html">
                                    8.0&nbsp;
                                                                            Japanese
                                                                    </a><br />
                                                                                            </div>
                            </div>
        </div>
        
        <div id="docs-show-nav" class="left hidden" style="margin-right: 15px;">
            <a class="docs-show-hide-nav" href="#" aria-label="Show Sidebar"
                title="Show Sidebar"><span class="icon-arrow-small-right"></span></a>
        </div>

                        <div id="docs-breadcrumbs">
            <a href="index.html">MySQL 8.4 Reference Manual</a> &nbsp;/&nbsp;
                            <span id="breadcrumbs-link"><a href="#" id="show-breadcrumbs">...</a> &nbsp;/&nbsp;</span>
                <span class="hidden" id="hidden-breadcrumbs">
                                                        <a href="security.html">Security</a> &nbsp;/&nbsp;
                                                            <a href="security-plugins.html">Security Components and Plugins</a> &nbsp;/&nbsp;
                                                            <a href="firewall.html">MySQL Enterprise Firewall</a> &nbsp;/&nbsp;
                                                                                        </span>
                                        Using MySQL Enterprise Firewall
                                    </div>
        
        <div id="docs-body">
        
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="firewall-usage"></a>8.4.7.3 Using MySQL Enterprise Firewall</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm45105695244096"></a><p>
        Before using MySQL Enterprise Firewall, install it according to the instructions
        provided in <a class="xref" href="firewall-installation.html" title="8.4.7.2 Installing or Uninstalling MySQL Enterprise Firewall">Section 8.4.7.2, “Installing or Uninstalling MySQL Enterprise Firewall”</a>.
      </p><p>
        This section describes how to configure MySQL Enterprise Firewall using SQL
        statements. Alternatively, MySQL Workbench 6.3.4 or higher provides
        a graphical interface for firewall control. See
        <a class="ulink" href="https://dev.mysql.com/doc/workbench/en/wb-mysql-firewall.html" target="_top">MySQL Enterprise Firewall Interface</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-enabling-disabling" title="Enabling or Disabling the Firewall">Enabling or Disabling the Firewall</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-schedule-reloads" title="Scheduling Firewall Cache Reloads">Scheduling Firewall Cache Reloads</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-privileges" title="Assigning Firewall Privileges">Assigning Firewall Privileges</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-concepts" title="Firewall Concepts">Firewall Concepts</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-group-profiles" title="Registering Firewall Group Profiles">Registering Firewall Group Profiles</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-account-profiles" title="Registering Firewall Account Profiles">Registering Firewall Account Profiles</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-monitoring" title="Monitoring the Firewall">Monitoring the Firewall</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-account-profile-migration" title="Migrating Account Profiles to Group Profiles">Migrating Account Profiles to Group Profiles</a></p></li></ul>
</div>

<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="firewall-enabling-disabling"></a>Enabling or Disabling the Firewall</h5>

</div>

</div>

</div>
<p>
          To enable or disable the firewall, set the
          <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_mode"><code class="literal">mysql_firewall_mode</code></a> system
          variable. By default, this variable is enabled when the
          firewall is installed. To control the initial firewall state
          explicitly, you can set the variable at server startup. For
          example, to enable the firewall in an option file, use these
          lines:
        </p><pre class="programlisting copytoclipboard language-ini"><code class="language-ini">[mysqld]
mysql_firewall_mode=ON</code></pre><p>
          After modifying <code class="filename">my.cnf</code>, restart the
          server to cause the new setting to take effect.
        </p><p>
          Alternatively, to set and persist the firewall setting at
          runtime:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SET PERSIST mysql_firewall_mode = OFF;
SET PERSIST mysql_firewall_mode = ON;</code></pre><p>
          <a class="link" href="set-variable.html" title="15.7.6.1 SET Syntax for Variable Assignment"><code class="literal">SET
          PERSIST</code></a> sets a value for the running MySQL instance.
          It also saves the value, causing it to carry over to
          subsequent server restarts. To change a value for the running
          MySQL instance without having it carry over to subsequent
          restarts, use the <code class="literal">GLOBAL</code> keyword rather
          than <code class="literal">PERSIST</code>. See
          <a class="xref" href="set-variable.html" title="15.7.6.1 SET Syntax for Variable Assignment">Section 15.7.6.1, “SET Syntax for Variable Assignment”</a>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-schedule-reloads"></a>Scheduling Firewall Cache Reloads</h5>

</div>

</div>

</div>
<p>
          Each time the <code class="literal">MYSQL_FIREWALL</code> server-side
          plugin initializes, it loads data from these tables to its
          internal cache:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">firewall_whitelist</code>
            </p></li><li class="listitem"><p>
              <code class="literal">firewall_group_allowlist</code>
            </p></li><li class="listitem"><p>
              <code class="literal">firewall_users</code>
            </p></li><li class="listitem"><p>
              <code class="literal">firewall_groups</code>
            </p></li><li class="listitem"><p>
              <code class="literal">firewall_membership</code>
</p></li></ul>
</div>
<p>
          Without restarting the server or reinstalling the server-side
          plugin, modification of data outside of the plugin is not
          reflected internally. The
          <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_reload_interval_seconds"><code class="literal">mysql_firewall_reload_interval_seconds</code></a>
          system variable makes it possible to force memory cache
          reloads from tables at specified intervals. By default, the
          periodic interval value is set to zero, which disables
          reloads.
        </p><p>
          To schedule regular cache reloads, first ensure that the
          <code class="literal">scheduler</code> component is installed and
          enabled (see <a class="xref" href="scheduler-component.html" title="7.5.5 Scheduler Component">Section 7.5.5, “Scheduler Component”</a>). To check
          the status of the component:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SHOW VARIABLES LIKE 'component_scheduler%';
+-----------------------------+-------+
| Variable_name               | Value |
+-----------------------------+-------|
| component_scheduler.enabled | On    |
+-----------------------------+-------+</code></pre><p>
          With the firewall installed, set the
          <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_reload_interval_seconds"><code class="literal">mysql_firewall_reload_interval_seconds</code></a>
          global system variable at server startup to a number between
          60 and the INT_MAX macro value of the platform hosting the
          server. Values between zero and 60 (1 through 59) reset to 60.
          For example:
        </p><pre class="programlisting copytoclipboard language-terminal"><code class="language-terminal">$&gt; mysqld <em class="replaceable">[server-options]</em> --mysql-firewall-reload-interval-seconds=40
...
2023-08-31T17:46:35.043468Z 0 [Warning] [MY-015031] [Server] Plugin MYSQL_FIREWALL 
reported: 'Invalid reload interval specified: 40. Valid values are 0 (off) or 
greater than or equal to 60. Adjusting to 60.'
...</code></pre><p>
          Alternatively, to set and persist the firewall setting at
          startup, precede the read-only variable name by the
          <code class="literal">PERSIST_ONLY</code> keyword or the
          <code class="literal">@@PERSIST_ONLY.</code> qualifier:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SET PERSIST_ONLY mysql_firewall_reload_interval_seconds = 120;
SET @@PERSIST_ONLY.mysql_firewall_reload_interval_seconds = 120;</code></pre><p>
          After modifying the variable, restart the server to cause the
          new setting to take effect.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-privileges"></a>Assigning Firewall Privileges</h5>

</div>

</div>

</div>
<p>
          With the firewall installed, grant the appropriate privileges
          to the MySQL account or accounts to be used for administering
          it. The privileges depend on which firewall operations an
          account should be permitted to perform:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Grant the <a class="link" href="privileges-provided.html#priv_firewall-exempt"><code class="literal">FIREWALL_EXEMPT</code></a>
              privilege to any account that should be exempt from
              firewall restrictions. This is useful, for example, for a
              database administrator who configures the firewall, to
              avoid the possibility of a misconfiguration causing even
              the administrator to be locked out and unable to execute
              statements.
            </p></li><li class="listitem"><p>
              Grant the <a class="link" href="privileges-provided.html#priv_firewall-admin"><code class="literal">FIREWALL_ADMIN</code></a>
              privilege to any account that should have full
              administrative firewall access. (Some administrative
              firewall functions can be invoked by accounts that have
              <a class="link" href="privileges-provided.html#priv_firewall-admin"><code class="literal">FIREWALL_ADMIN</code></a>
              <span class="emphasis"><em>or</em></span> the deprecated
              <a class="link" href="privileges-provided.html#priv_super"><code class="literal">SUPER</code></a> privilege, as
              indicated in the individual function descriptions.)
            </p></li><li class="listitem"><p>
              Grant the <a class="link" href="privileges-provided.html#priv_firewall-user"><code class="literal">FIREWALL_USER</code></a>
              privilege to any account that should have administrative
              access only for its own firewall rules.
            </p></li><li class="listitem"><p>
              Grant the <a class="link" href="privileges-provided.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege
              for the firewall stored procedures in the firewall
              database. These may invoke administrative functions, so
              stored procedure access also requires the privileges
              indicated earlier that are needed for those functions. The
              firewall database can be the <code class="literal">mysql</code>
              system database or a custom schema (see
              <a class="xref" href="firewall-installation.html#firewall-install" title="Installing MySQL Enterprise Firewall">Installing MySQL Enterprise Firewall</a>).
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
            The <a class="link" href="privileges-provided.html#priv_firewall-exempt"><code class="literal">FIREWALL_EXEMPT</code></a>,
            <a class="link" href="privileges-provided.html#priv_firewall-admin"><code class="literal">FIREWALL_ADMIN</code></a>, and
            <a class="link" href="privileges-provided.html#priv_firewall-user"><code class="literal">FIREWALL_USER</code></a> privileges can
            be granted only while the firewall is installed because the
            <code class="literal">MYSQL_FIREWALL</code> plugin defines those
            privileges.
</p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-concepts"></a>Firewall Concepts</h5>

</div>

</div>

</div>
<p>
          The MySQL server permits clients to connect and receives from
          them SQL statements to be executed. If the firewall is
          enabled, the server passes to it each incoming statement that
          does not immediately fail with a syntax error. Based on
          whether the firewall accepts the statement, the server
          executes it or returns an error to the client. This section
          describes how the firewall accomplishes the task of accepting
          or rejecting statements.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-profiles" title="Firewall Profiles">Firewall Profiles</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-statement-matching" title="Firewall Statement Matching">Firewall Statement Matching</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-profile-modes" title="Profile Operational Modes">Profile Operational Modes</a></p></li><li class="listitem"><p><a class="xref" href="firewall-usage.html#firewall-multiple-profiles" title="Firewall Statement Handling When Multiple Profiles Apply">Firewall Statement Handling When Multiple Profiles Apply</a></p></li></ul>
</div>
<h6><a name="firewall-profiles"></a>Firewall Profiles</h6><p>
          The firewall uses a registry of profiles that determine
          whether to permit statement execution. Profiles have these
          attributes:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              An allowlist. The allowlist is the set of rules that
              defines which statements are acceptable to the profile.
            </p></li><li class="listitem"><p>
              A current operational mode. The mode enables the profile
              to be used in different ways. For example: the profile can
              be placed in training mode to establish the allowlist; the
              allowlist can be used for restricting statement execution
              or intrusion detection; the profile can be disabled
              entirely.
            </p></li><li class="listitem"><p>
              A scope of applicability. The scope indicates which client
              connections the profile applies to:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  The firewall supports account-based profiles such that
                  each profile matches a particular client account
                  (client user name and host name combination). For
                  example, you can register one account profile for
                  which the allowlist applies to connections originating
                  from <code class="literal">admin@localhost</code> and another
                  account profile for which the allowlist applies to
                  connections originating from
                  <code class="literal">myapp@apphost.example.com</code>.
                </p></li><li class="listitem"><p>
                  The firewall supports group profiles that can have
                  multiple accounts as members, with the profile
                  allowlist applying equally to all members. Group
                  profiles enable easier administration and greater
                  flexibility for deployments that require applying a
                  given set of allowlist rules to multiple accounts.
</p></li></ul>
</div>
</li></ul>
</div>
<p>
          Initially, no profiles exist, so by default, the firewall
          accepts all statements and has no effect on which statements
          MySQL accounts can execute. To apply firewall protective
          capabilities, explicit action is required:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Register one or more profiles with the firewall.
            </p></li><li class="listitem"><p>
              Train the firewall by establishing the allowlist for each
              profile; that is, the types of statements the profile
              permits clients to execute.
            </p></li><li class="listitem"><p>
              Place the trained profiles in protecting mode to harden
              MySQL against unauthorized statement execution:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  MySQL associates each client session with a specific
                  user name and host name combination. This combination
                  is the <span class="emphasis"><em>session account</em></span>.
                </p></li><li class="listitem"><p>
                  For each client connection, the firewall uses the
                  session account to determine which profiles apply to
                  handling incoming statements from the client.
                </p><p>
                  The firewall accepts only statements permitted by the
                  applicable profile allowlists.
</p></li></ul>
</div>
</li></ul>
</div>
<p>
          Most firewall principles apply identically to group profiles
          and account profiles. The two types of profiles differ in
          these respects:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              An account profile allowlist applies only to a single
              account. A group profile allowlist applies when the
              session account matches any account that is a member of
              the group.
            </p></li><li class="listitem"><p>
              To apply an allowlist to multiple accounts using account
              profiles, it is necessary to register one profile per
              account and duplicate the allowlist across each profile.
              This entails training each account profile individually
              because each one must be trained using the single account
              to which it applies.
            </p><p>
              A group profile allowlist applies to multiple accounts,
              with no need to duplicate it for each account. A group
              profile can be trained using any or all of the group
              member accounts, or training can be limited to any single
              member. Either way, the allowlist applies to all members.
            </p></li><li class="listitem"><p>
              Account profile names are based on specific user name and
              host name combinations that depend on which clients
              connect to the MySQL server. Group profile names are
              chosen by the firewall administrator with no constraints
              other than that their length must be from 1 to 288
              characters.
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
            Due to the advantages of group profiles over account
            profiles, and because a group profile with a single member
            account is logically equivalent to an account profile for
            that account, it is recommended that all new firewall
            profiles be created as group profiles. Account profiles are
            deprecated, and subject to removal in a future MySQL
            version. For assistance converting existing account
            profiles, see
            <a class="xref" href="firewall-usage.html#firewall-account-profile-migration" title="Migrating Account Profiles to Group Profiles">Migrating Account Profiles to Group Profiles</a>.
</p>
</div>
<p>
          The profile-based protection afforded by the firewall enables
          implementation of strategies such as these:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              If an application has unique protection requirements,
              configure it to use an account not used for any other
              purpose and set up a group profile or account profile for
              that account.
            </p></li><li class="listitem"><p>
              If related applications share protection requirements,
              associate each application with its own account, then add
              these application accounts as members of the same group
              profile. Alternatively, configure all the applications to
              use the same account and associate them with an account
              profile for that account.
</p></li></ul>
</div>
<h6><a name="firewall-statement-matching"></a>Firewall Statement Matching</h6><p>
          Statement matching performed by the firewall does not use SQL
          statements as received from clients. Instead, the server
          converts incoming statements to normalized digest form and
          firewall operation uses these digests. The benefit of
          statement normalization is that it enables similar statements
          to be grouped and recognized using a single pattern. For
          example, these statements are distinct from each other:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT first_name, last_name FROM customer WHERE customer_id = 1;
select first_name, last_name from customer where customer_id = 99;
SELECT first_name, last_name FROM customer WHERE customer_id = 143;</code></pre><p>
          But all of them have the same normalized digest form:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">SELECT `first_name` , `last_name` FROM `customer` WHERE `customer_id` = ?</code></pre><p>
          By using normalization, firewall allowlists can store digests
          that each match many different statements received from
          clients. For more information about normalization and digests,
          see <a class="xref" href="performance-schema-statement-digests.html" title="29.10 Performance Schema Statement Digests and Sampling">Section 29.10, “Performance Schema Statement Digests and Sampling”</a>.
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>
            Setting the
            <a class="link" href="server-system-variables.html#sysvar_max_digest_length"><code class="literal">max_digest_length</code></a> system
            variable to zero disables digest production, which also
            disables server functionality that requires digests, such as
            MySQL Enterprise Firewall.
</p>
</div>
<h6><a name="firewall-profile-modes"></a>Profile Operational Modes</h6><p>
          Each profile registered with the firewall has its own
          operational mode, chosen from these values:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">OFF</code>: This mode disables the profile.
              The firewall considers it inactive and ignores it.
            </p></li><li class="listitem"><p>
              <code class="literal">RECORDING</code>: This is the firewall
              training mode. Incoming statements received from a client
              that matches the profile are considered acceptable for the
              profile and become part of its <span class="quote">“<span class="quote">fingerprint.</span>”</span>
              The firewall records the normalized digest form of each
              statement to learn the acceptable statement patterns for
              the profile. Each pattern is a rule, and the union of the
              rules is the profile allowlist.
            </p><p>
              A difference between group and account profiles is that
              statement recording for a group profile can be limited to
              statements received from a single group member (the
              training member).
            </p></li><li class="listitem"><p>
              <code class="literal">PROTECTING</code>: In this mode, the profile
              allows or prevents statement execution. The firewall
              matches incoming statements against the profile allowlist,
              accepting only statements that match and rejecting those
              that do not. After training a profile in
              <code class="literal">RECORDING</code> mode, switch it to
              <code class="literal">PROTECTING</code> mode to harden MySQL against
              access by statements that deviate from the allowlist. If
              the <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_trace"><code class="literal">mysql_firewall_trace</code></a>
              system variable is enabled, the firewall also writes
              rejected statements to the error log.
            </p></li><li class="listitem"><p>
              <code class="literal">DETECTING</code>: This mode detects but not
              does not block intrusions (statements that are suspicious
              because they match nothing in the profile allowlist). In
              <code class="literal">DETECTING</code> mode, the firewall writes
              suspicious statements to the error log but accepts them
              without denying access.
</p></li></ul>
</div>
<p>
          When a profile is assigned any of the preceding mode values,
          the firewall stores the mode in the profile. Firewall
          mode-setting operations also permit a mode value of
          <code class="literal">RESET</code>, but this value is not stored:
          setting a profile to <code class="literal">RESET</code> mode causes the
          firewall to delete all rules for the profile and set its mode
          to <code class="literal">OFF</code>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Messages written to the error log in
            <code class="literal">DETECTING</code> mode or because
            <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_trace"><code class="literal">mysql_firewall_trace</code></a> is
            enabled are written as Notes, which are information
            messages. To ensure that such messages appear in the error
            log and are not discarded, make sure that error-logging
            verbosity is sufficient to include information messages. For
            example, if you are using priority-based log filtering, as
            described in
            <a class="xref" href="error-log-priority-based-filtering.html" title="7.4.2.5 Priority-Based Error Log Filtering (log_filter_internal)">Section 7.4.2.5, “Priority-Based Error Log Filtering (log_filter_internal)”</a>, set
            the <a class="link" href="server-system-variables.html#sysvar_log_error_verbosity"><code class="literal">log_error_verbosity</code></a>
            system variable to a value of 3.
</p>
</div>
<h6><a name="firewall-multiple-profiles"></a>Firewall Statement Handling When Multiple Profiles Apply</h6><p>
          For simplicity, later sections that describe how to set up
          profiles take the perspective that the firewall matches
          incoming statements from a client against only a single
          profile, either a group profile or account profile. But
          firewall operation can be more complex:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              A group profile can include multiple accounts as members.
            </p></li><li class="listitem"><p>
              An account can be a member of multiple group profiles.
            </p></li><li class="listitem"><p>
              Multiple profiles can match a given client.
</p></li></ul>
</div>
<p>
          The following description covers the general case of how the
          firewall operates, when potentially multiple profiles apply to
          incoming statements.
        </p><p>
          As previously mentioned, MySQL associates each client session
          with a specific user name and host name combination known as
          the <span class="emphasis"><em>session account</em></span>. The firewall matches
          the session account against registered profiles to determine
          which profiles apply to handling incoming statements from the
          session:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              The firewall ignores inactive profiles (profiles with a
              mode of <code class="literal">OFF</code>).
            </p></li><li class="listitem"><p>
              The session account matches every active group profile
              that includes a member having the same user and host.
              There can be more than one such group profile.
            </p></li><li class="listitem"><p>
              The session account matches an active account profile
              having the same user and host, if there is one. There is
              at most one such account profile.
</p></li></ul>
</div>
<p>
          In other words, the session account can match 0 or more active
          group profiles, and 0 or 1 active account profiles. This means
          that 0, 1, or multiple firewall profiles are applicable to a
          given session, for which the firewall handles each incoming
          statement as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              If there is no applicable profile, the firewall imposes no
              restrictions and accepts the statement.
            </p></li><li class="listitem"><p>
              If there are applicable profiles, their modes determine
              statement handling:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  The firewall records the statement in the allowlist of
                  each applicable profile that is in
                  <code class="literal">RECORDING</code> mode.
                </p></li><li class="listitem"><p>
                  The firewall writes the statement to the error log for
                  each applicable profile in
                  <code class="literal">DETECTING</code> mode for which the
                  statement is suspicious (does not match the profile
                  allowlist).
                </p></li><li class="listitem"><p>
                  The firewall accepts the statement if at least one
                  applicable profile is in <code class="literal">RECORDING</code>
                  or <code class="literal">DETECTING</code> mode (those modes
                  accept all statements), or if the statement matches
                  the allowlist of at least one applicable profile in
                  <code class="literal">PROTECTING</code> mode. Otherwise, the
                  firewall rejects the statement (and writes it to the
                  error log if the
                  <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_trace"><code class="literal">mysql_firewall_trace</code></a>
                  system variable is enabled).
</p></li></ul>
</div>
</li></ul>
</div>
<p>
          With that description in mind, the next sections revert to the
          simplicity of the situations when a single group profile or a
          single account profile apply, and cover how to set up each
          type of profile.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-group-profiles"></a>Registering Firewall Group Profiles</h5>

</div>

</div>

</div>
<p>
          MySQL Enterprise Firewall supports registration of group profiles. A group
          profile can have multiple accounts as its members. To use a
          firewall group profile to protect MySQL against incoming
          statements from a given account, follow these steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Register the group profile and put it in
              <code class="literal">RECORDING</code> mode.
            </p></li><li class="listitem"><p>
              Add a member account to the group profile.
            </p></li><li class="listitem"><p>
              Connect to the MySQL server using the member account and
              execute statements to be learned. This trains the group
              profile and establishes the rules that form the profile
              allowlist.
            </p></li><li class="listitem"><p>
              Add to the group profile any other accounts that are to be
              group members.
            </p></li><li class="listitem"><p>
              Switch the group profile to <code class="literal">PROTECTING</code>
              mode. When a client connects to the server using any
              account that is a member of the group profile, the profile
              allowlist restricts statement execution.
            </p></li><li class="listitem"><p>
              Should additional training be necessary, switch the group
              profile to <code class="literal">RECORDING</code> mode again, update
              its allowlist with new statement patterns, then switch it
              back to <code class="literal">PROTECTING</code> mode.
</p></li></ol>
</div>
<p>
          Observe these guidelines for firewall-related account
          references:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Take note of the context in which account references
              occur. To name an account for firewall operations, specify
              it as a single quoted string
              (<code class="literal">'<em class="replaceable"><code>user_name</code></em>@<em class="replaceable"><code>host_name</code></em>'</code>).
              This differs from the usual MySQL convention for
              statements such as <a class="link" href="create-user.html" title="15.7.1.3 CREATE USER Statement"><code class="literal">CREATE
              USER</code></a> and <a class="link" href="grant.html" title="15.7.1.6 GRANT Statement"><code class="literal">GRANT</code></a>,
              for which you quote the user and host parts of an account
              name separately
              (<code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code>).
            </p><p>
              The requirement for naming accounts as a single quoted
              string for firewall operations means that you cannot use
              accounts that have embedded <code class="literal">@</code>
              characters in the user name.
            </p></li><li class="listitem"><p>
              The firewall assesses statements against accounts
              represented by actual user and host names as authenticated
              by the server. When registering accounts in profiles, do
              not use wildcard characters or netmasks:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  Suppose that an account named
                  <code class="literal">me@%.example.org</code> exists and a
                  client uses it to connect to the server from the host
                  <code class="literal">abc.example.org</code>.
                </p></li><li class="listitem"><p>
                  The account name contains a <code class="literal">%</code>
                  wildcard character, but the server authenticates the
                  client as having a user name of <code class="literal">me</code>
                  and host name of <code class="literal">abc.example.com</code>,
                  and that is what the firewall sees.
                </p></li><li class="listitem"><p>
                  Consequently, the account name to use for firewall
                  operations is <code class="literal">me@abc.example.org</code>
                  rather than <code class="literal">me@%.example.org</code>.
</p></li></ul>
</div>
</li></ul>
</div>
<p>
          The following procedure shows how to register a group profile
          with the firewall, train the firewall to know the acceptable
          statements for that profile (its allowlist), use the profile
          to protect MySQL against execution of unacceptable statements,
          and add and remove group members. The example uses a group
          profile name of <code class="literal">fwgrp</code>. The example profile
          is presumed for use by clients of an application that accesses
          tables in the <code class="literal">sakila</code> database (available at
          <a class="ulink" href="https://dev.mysql.com/doc/index-other.html" target="_top">https://dev.mysql.com/doc/index-other.html</a>).
        </p><p>
          Use an administrative MySQL account to perform the steps in
          this procedure, except those steps designated for execution by
          member accounts of the firewall group profile. For statements
          executed by member accounts, the default database should be
          <code class="literal">sakila</code>. (You can use a different database
          by adjusting the instructions accordingly.)
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              If necessary, create the accounts that are to be members
              of the <code class="literal">fwgrp</code> group profile and grant
              them appropriate access privileges. Statements for one
              member are shown here (choose an appropriate password):
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE USER 'member1'@'localhost' IDENTIFIED BY '<em class="replaceable">password</em>';
GRANT ALL ON sakila.* TO 'member1'@'localhost';</code></pre></li><li class="listitem"><p>
              Use the <code class="literal">sp_set_firewall_group_mode()</code>
              stored procedure to register the group profile with the
              firewall and place the profile in
              <code class="literal">RECORDING</code> (training) mode:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode('fwgrp', 'RECORDING');</code></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                If you have installed MySQL Enterprise Firewall in a custom schema, then
                make appropriate substitution for your system. For
                example, if the firewall is installed in the
                <code class="literal">fwdb</code> schema, then execute the stored
                procedures like this:

</p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL fwdb.sp_set_firewall_group_mode('fwgrp', 'RECORDING');</code></pre><p>
</p>
</div>
</li><li class="listitem"><p>
              Use the <code class="literal">sp_firewall_group_enlist()</code>
              stored procedure to add an initial member account for use
              in training the group profile allowlist:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_firewall_group_enlist('fwgrp', 'member1@localhost');</code></pre></li><li class="listitem"><p>
              To train the group profile using the initial member
              account, connect to the server as
              <code class="literal">member1</code> from the server host so that
              the firewall sees a session account of
              <code class="literal">member1@localhost</code>. Then execute some
              statements to be considered legitimate for the profile.
              For example:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT title, release_year FROM film WHERE film_id = 1;
UPDATE actor SET last_update = NOW() WHERE actor_id = 1;
SELECT store_id, COUNT(*) FROM inventory GROUP BY store_id;</code></pre><p>
              The firewall receives the statements from the
              <code class="literal">member1@localhost</code> account. Because that
              account is a member of the <code class="literal">fwgrp</code>
              profile, which is in <code class="literal">RECORDING</code> mode,
              the firewall interprets the statements as applicable to
              <code class="literal">fwgrp</code> and records the normalized digest
              form of the statements as rules in the
              <code class="literal">fwgrp</code> allowlist. Those rules then apply
              to all accounts that are members of
              <code class="literal">fwgrp</code>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                Until the <code class="literal">fwgrp</code> group profile
                receives statements in <code class="literal">RECORDING</code>
                mode, its allowlist is empty, which is equivalent to
                <span class="quote">“<span class="quote">deny all.</span>”</span> No statement can match an empty
                allowlist, which has these implications:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The group profile cannot be switched to
                    <code class="literal">PROTECTING</code> mode. It would reject
                    every statement, effectively prohibiting the
                    accounts that are group members from executing any
                    statement.
                  </p></li><li class="listitem"><p>
                    The group profile can be switched to
                    <code class="literal">DETECTING</code> mode. In this case, the
                    profile accepts every statement but logs it as
                    suspicious.
</p></li></ul>
</div>

</div>
</li><li class="listitem"><p>
              At this point, the group profile information is cached,
              including its name, membership, and allowlist. To see this
              information, query the Performance Schema firewall tables:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT MODE FROM performance_schema.firewall_groups
       WHERE NAME = 'fwgrp';
+-----------+
| MODE      |
+-----------+
| RECORDING |
+-----------+
mysql&gt; SELECT * FROM performance_schema.firewall_membership
       WHERE GROUP_ID = 'fwgrp' ORDER BY MEMBER_ID;
+----------+-------------------+
| GROUP_ID | MEMBER_ID         |
+----------+-------------------+
| fwgrp    | member1@localhost |
+----------+-------------------+
mysql&gt; SELECT RULE FROM performance_schema.firewall_group_allowlist
       WHERE NAME = 'fwgrp';
+----------------------------------------------------------------------+
| RULE                                                                 |
+----------------------------------------------------------------------+
| SELECT @@`version_comment` LIMIT ?                                   |
| UPDATE `actor` SET `last_update` = NOW ( ) WHERE `actor_id` = ?      |
| SELECT `title` , `release_year` FROM `film` WHERE `film_id` = ?      |
| SELECT `store_id` , COUNT ( * ) FROM `inventory` GROUP BY `store_id` |
+----------------------------------------------------------------------+</code></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                The <code class="literal">@@version_comment</code> rule comes from
                a statement sent automatically by the
                <a class="link" href="mysql.html" title="6.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client when you connect to the
                server.
</p>
</div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p>
                Train the firewall under conditions matching application
                use. For example, to determine server characteristics
                and capabilities, a given MySQL connector might send
                statements to the server at the beginning of each
                session. If an application normally is used through that
                connector, train the firewall using the connector, too.
                That enables those initial statements to become part of
                the allowlist for the group profile associated with the
                application.
</p>
</div>
</li><li class="listitem"><p>
              Invoke <code class="literal">sp_set_firewall_group_mode()</code>
              again to switch the group profile to
              <code class="literal">PROTECTING</code> mode:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode('fwgrp', 'PROTECTING');</code></pre>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
                Switching the group profile out of
                <code class="literal">RECORDING</code> mode synchronizes its
                cached data to the firewall database tables that provide
                persistent underlying storage. If you do not switch the
                mode for a profile that is being recorded, the cached
                data is not written to persistent storage and is lost
                when the server is restarted. The firewall database can
                be the <code class="literal">mysql</code> system database or a
                custom schema (see <a class="xref" href="firewall-installation.html#firewall-install" title="Installing MySQL Enterprise Firewall">Installing MySQL Enterprise Firewall</a>).
</p>
</div>
</li><li class="listitem"><p>
              Add to the group profile any other accounts that should be
              members:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CALL mysql.sp_firewall_group_enlist('fwgrp', 'member2@localhost');
CALL mysql.sp_firewall_group_enlist('fwgrp', 'member3@localhost');
CALL mysql.sp_firewall_group_enlist('fwgrp', 'member4@localhost');</code></pre><p>
              The profile allowlist trained using the
              <code class="literal">member1@localhost</code> account now also
              applies to the additional accounts.
            </p></li><li class="listitem"><p>
              To verify the updated group membership, query the
              <code class="literal">firewall_membership</code> table again:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT * FROM performance_schema.firewall_membership
       WHERE GROUP_ID = 'fwgrp' ORDER BY MEMBER_ID;
+----------+-------------------+
| GROUP_ID | MEMBER_ID         |
+----------+-------------------+
| fwgrp    | member1@localhost |
| fwgrp    | member2@localhost |
| fwgrp    | member3@localhost |
| fwgrp    | member4@localhost |
+----------+-------------------+</code></pre></li><li class="listitem"><p>
              Test the group profile against the firewall by using any
              account in the group to execute some acceptable and
              unacceptable statements. The firewall matches each
              statement from the account against the profile allowlist
              and accepts or rejects it:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  This statement is not identical to a training
                  statement but produces the same normalized statement
                  as one of them, so the firewall accepts it:
                </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT title, release_year FROM film WHERE film_id = 98;
+-------------------+--------------+
| title             | release_year |
+-------------------+--------------+
| BRIGHT ENCOUNTERS |         2006 |
+-------------------+--------------+</code></pre></li><li class="listitem"><p>
                  These statements match nothing in the allowlist, so
                  the firewall rejects each with an error:
                </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT title, release_year FROM film WHERE film_id = 98 OR TRUE;
ERROR 1045 (28000): Statement was blocked by Firewall
mysql&gt; SHOW TABLES LIKE 'customer%';
ERROR 1045 (28000): Statement was blocked by Firewall
mysql&gt; TRUNCATE TABLE mysql.slow_log;
ERROR 1045 (28000): Statement was blocked by Firewall</code></pre></li><li class="listitem"><p>
                  If the
                  <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_trace"><code class="literal">mysql_firewall_trace</code></a>
                  system variable is enabled, the firewall also writes
                  rejected statements to the error log. For example:
                </p><pre class="programlisting copytoclipboard language-none"><code class="language-none">[Note] Plugin MYSQL_FIREWALL reported:
'ACCESS DENIED for 'member1@localhost'. Reason: No match in allowlist.
Statement: TRUNCATE TABLE `mysql` . `slow_log`'</code></pre><p>
                  These log messages may be helpful in identifying the
                  source of attacks, should that be necessary.
</p></li></ul>
</div>
</li><li class="listitem"><p>
              Should members need to be removed from the group profile,
              use the <code class="literal">sp_firewall_group_delist()</code>
              stored procedure rather than
              <code class="literal">sp_firewall_group_enlist()</code>:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_firewall_group_delist('fwgrp', 'member3@localhost');</code></pre></li></ol>
</div>
<p>
          The firewall group profile now is trained for member accounts.
          When clients connect using any account in the group and
          attempt to execute statements, the profile protects MySQL
          against statements not matched by the profile allowlist.
        </p><p>
          The procedure just shown added only one member to the group
          profile before training its allowlist. Doing so provides
          better control over the training period by limiting which
          accounts can add new acceptable statements to the allowlist.
          Should additional training be necessary, you can switch the
          profile back to <code class="literal">RECORDING</code> mode:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode('fwgrp', 'RECORDING');</code></pre><p>
          However, that enables any member of the group to execute
          statements and add them to the allowlist. To limit the
          additional training to a single group member, call
          <code class="literal">sp_set_firewall_group_mode_and_user()</code>,
          which is like <code class="literal">sp_set_firewall_group_mode()</code>
          but takes one more argument specifying which account is
          permitted to train the profile in <code class="literal">RECORDING</code>
          mode. For example, to enable training only by
          <code class="literal">member4@localhost</code>, do this:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode_and_user('fwgrp', 'RECORDING', 'member4@localhost');</code></pre><p>
          That enables additional training by the specified account
          without having to remove the other group members. They can
          execute statements, but the statements are not added to the
          allowlist. (Remember, however, that in
          <code class="literal">RECORDING</code> mode the other members can
          execute <span class="emphasis"><em>any</em></span> statement.)
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            To avoid unexpected behavior when a particular account is
            specified as the training account for a group profile,
            always ensure that account is a member of the group.
</p>
</div>
<p>
          After the additional training, set the group profile back to
          <code class="literal">PROTECTING</code> mode:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode('fwgrp', 'PROTECTING');</code></pre><p>
          The training account established by
          <code class="literal">sp_set_firewall_group_mode_and_user()</code> is
          saved in the group profile, so the firewall remembers it in
          case more training is needed later. Thus, if you call
          <code class="literal">sp_set_firewall_group_mode()</code> (which takes
          no training account argument), the current profile training
          account, <code class="literal">member4@localhost</code>, remains
          unchanged.
        </p><p>
          To clear the training account if it actually is desired to
          enable all group members to perform training in
          <code class="literal">RECORDING</code> mode, call
          <code class="literal">sp_set_firewall_group_mode_and_user()</code> and
          pass a <code class="literal">NULL</code> value for the account argument:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode_and_user('fwgrp', 'RECORDING', NULL);</code></pre><p>
          It is possible to detect intrusions by logging nonmatching
          statements as suspicious without denying access. First, put
          the group profile in <code class="literal">DETECTING</code> mode:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode('fwgrp', 'DETECTING');</code></pre><p>
          Then, using a member account, execute a statement that does
          not match the group profile allowlist. In
          <code class="literal">DETECTING</code> mode, the firewall permits the
          nonmatching statement to execute:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SHOW TABLES LIKE 'customer%';
+------------------------------+
| Tables_in_sakila (customer%) |
+------------------------------+
| customer                     |
| customer_list                |
+------------------------------+</code></pre><p>
          In addition, the firewall writes a message to the error log:
        </p><pre class="programlisting copytoclipboard language-none"><code class="language-none">[Note] Plugin MYSQL_FIREWALL reported:
'SUSPICIOUS STATEMENT from 'member1@localhost'. Reason: No match in allowlist.
Statement: SHOW TABLES LIKE ?'</code></pre><p>
          To disable a group profile, change its mode to
          <code class="literal">OFF</code>:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode(<em class="replaceable">group</em>, 'OFF');</code></pre><p>
          To forget all training for a profile and disable it, reset it:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_group_mode(<em class="replaceable">group</em>, 'RESET');</code></pre><p>
          The reset operation causes the firewall to delete all rules
          for the profile and set its mode to <code class="literal">OFF</code>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-account-profiles"></a>Registering Firewall Account Profiles</h5>

</div>

</div>

</div>
<p>
          MySQL Enterprise Firewall enables profiles to be registered that correspond to
          individual accounts. To use a firewall account profile to
          protect MySQL against incoming statements from a given
          account, follow these steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Register the account profile and put it in
              <code class="literal">RECORDING</code> mode.
            </p></li><li class="listitem"><p>
              Connect to the MySQL server using the account and execute
              statements to be learned. This trains the account profile
              and establishes the rules that form the profile allowlist.
            </p></li><li class="listitem"><p>
              Switch the account profile to
              <code class="literal">PROTECTING</code> mode. When a client connects
              to the server using the account, the account profile
              allowlist restricts statement execution.
            </p></li><li class="listitem"><p>
              Should additional training be necessary, switch the
              account profile to <code class="literal">RECORDING</code> mode
              again, update its allowlist with new statement patterns,
              then switch it back to <code class="literal">PROTECTING</code> mode.
</p></li></ol>
</div>
<p>
          Observe these guidelines for firewall-related account
          references:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Take note of the context in which account references
              occur. To name an account for firewall operations, specify
              it as a single quoted string
              (<code class="literal">'<em class="replaceable"><code>user_name</code></em>@<em class="replaceable"><code>host_name</code></em>'</code>).
              This differs from the usual MySQL convention for
              statements such as <a class="link" href="create-user.html" title="15.7.1.3 CREATE USER Statement"><code class="literal">CREATE
              USER</code></a> and <a class="link" href="grant.html" title="15.7.1.6 GRANT Statement"><code class="literal">GRANT</code></a>,
              for which you quote the user and host parts of an account
              name separately
              (<code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code>).
            </p><p>
              The requirement for naming accounts as a single quoted
              string for firewall operations means that you cannot use
              accounts that have embedded <code class="literal">@</code>
              characters in the user name.
            </p></li><li class="listitem"><p>
              The firewall assesses statements against accounts
              represented by actual user and host names as authenticated
              by the server. When registering accounts in profiles, do
              not use wildcard characters or netmasks:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  Suppose that an account named
                  <code class="literal">me@%.example.org</code> exists and a
                  client uses it to connect to the server from the host
                  <code class="literal">abc.example.org</code>.
                </p></li><li class="listitem"><p>
                  The account name contains a <code class="literal">%</code>
                  wildcard character, but the server authenticates the
                  client as having a user name of <code class="literal">me</code>
                  and host name of <code class="literal">abc.example.com</code>,
                  and that is what the firewall sees.
                </p></li><li class="listitem"><p>
                  Consequently, the account name to use for firewall
                  operations is <code class="literal">me@abc.example.org</code>
                  rather than <code class="literal">me@%.example.org</code>.
</p></li></ul>
</div>
</li></ul>
</div>
<p>
          The following procedure shows how to register an account
          profile with the firewall, train the firewall to know the
          acceptable statements for that profile (its allowlist), and
          use the profile to protect MySQL against execution of
          unacceptable statements by the account. The example account,
          <code class="literal">fwuser@localhost</code>, is presumed for use by an
          application that accesses tables in the
          <code class="literal">sakila</code> database (available at
          <a class="ulink" href="https://dev.mysql.com/doc/index-other.html" target="_top">https://dev.mysql.com/doc/index-other.html</a>).
        </p><p>
          Use an administrative MySQL account to perform the steps in
          this procedure, except those steps designated for execution by
          the <code class="literal">fwuser@localhost</code> account that
          corresponds to the account profile registered with the
          firewall. For statements executed using this account, the
          default database should be <code class="literal">sakila</code>. (You can
          use a different database by adjusting the instructions
          accordingly.)
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              If necessary, create the account to use for executing
              statements (choose an appropriate password) and grant it
              privileges for the <code class="literal">sakila</code> database:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE USER 'fwuser'@'localhost' IDENTIFIED BY '<em class="replaceable">password</em>';
GRANT ALL ON sakila.* TO 'fwuser'@'localhost';</code></pre></li><li class="listitem"><p>
              Use the <code class="literal">sp_set_firewall_mode()</code> stored
              procedure to register the account profile with the
              firewall and place the profile in
              <code class="literal">RECORDING</code> (training) mode:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_mode('fwuser@localhost', 'RECORDING');</code></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                If you have installed MySQL Enterprise Firewall in a custom schema, then
                make appropriate substitution for your system. For
                example, if the firewall is installed in the
                <code class="literal">fwdb</code> schema, then execute the stored
                procedures like this:

</p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL fwdb.sp_set_firewall_mode('fwuser@localhost', 'RECORDING');</code></pre><p>
</p>
</div>
</li><li class="listitem"><p>
              To train the registered account profile, connect to the
              server as <code class="literal">fwuser</code> from the server host
              so that the firewall sees a session account of
              <code class="literal">fwuser@localhost</code>. Then use the account
              to execute some statements to be considered legitimate for
              the profile. For example:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT first_name, last_name FROM customer WHERE customer_id = 1;
UPDATE rental SET return_date = NOW() WHERE rental_id = 1;
SELECT get_customer_balance(1, NOW());</code></pre><p>
              Because the profile is in <code class="literal">RECORDING</code>
              mode, the firewall records the normalized digest form of
              the statements as rules in the profile allowlist.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                Until the <code class="literal">fwuser@localhost</code> account
                profile receives statements in
                <code class="literal">RECORDING</code> mode, its allowlist is
                empty, which is equivalent to <span class="quote">“<span class="quote">deny all.</span>”</span>
                No statement can match an empty allowlist, which has
                these implications:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The account profile cannot be switched to
                    <code class="literal">PROTECTING</code> mode. It would reject
                    every statement, effectively prohibiting the account
                    from executing any statement.
                  </p></li><li class="listitem"><p>
                    The account profile can be switched to
                    <code class="literal">DETECTING</code> mode. In this case, the
                    profile accepts every statement but logs it as
                    suspicious.
</p></li></ul>
</div>

</div>
</li><li class="listitem"><p>
              At this point, the account profile information is cached.
              To see this information, query the
              <code class="literal">INFORMATION_SCHEMA</code> firewall tables:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT MODE FROM INFORMATION_SCHEMA.MYSQL_FIREWALL_USERS
       WHERE USERHOST = 'fwuser@localhost';
+-----------+
| MODE      |
+-----------+
| RECORDING |
+-----------+
mysql&gt; SELECT RULE FROM INFORMATION_SCHEMA.MYSQL_FIREWALL_WHITELIST
       WHERE USERHOST = 'fwuser@localhost';
+----------------------------------------------------------------------------+
| RULE                                                                       |
+----------------------------------------------------------------------------+
| SELECT `first_name` , `last_name` FROM `customer` WHERE `customer_id` = ?  |
| SELECT `get_customer_balance` ( ? , NOW ( ) )                              |
| UPDATE `rental` SET `return_date` = NOW ( ) WHERE `rental_id` = ?          |
| SELECT @@`version_comment` LIMIT ?                                         |
+----------------------------------------------------------------------------+</code></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                The <code class="literal">@@version_comment</code> rule comes from
                a statement sent automatically by the
                <a class="link" href="mysql.html" title="6.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client when you connect to the
                server.
</p>
</div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p>
                Train the firewall under conditions matching application
                use. For example, to determine server characteristics
                and capabilities, a given MySQL connector might send
                statements to the server at the beginning of each
                session. If an application normally is used through that
                connector, train the firewall using the connector, too.
                That enables those initial statements to become part of
                the allowlist for the account profile associated with
                the application.
</p>
</div>
</li><li class="listitem"><p>
              Invoke <code class="literal">sp_set_firewall_mode()</code> again,
              this time switching the account profile to
              <code class="literal">PROTECTING</code> mode:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_mode('fwuser@localhost', 'PROTECTING');</code></pre>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
                Switching the account profile out of
                <code class="literal">RECORDING</code> mode synchronizes its
                cached data to the firewall database tables that provide
                persistent underlying storage. If you do not switch the
                mode for a profile that is being recorded, the cached
                data is not written to persistent storage and is lost
                when the server is restarted. The firewall database can
                be the <code class="literal">mysql</code> system database or a
                custom schema (see <a class="xref" href="firewall-installation.html#firewall-install" title="Installing MySQL Enterprise Firewall">Installing MySQL Enterprise Firewall</a>).
</p>
</div>
</li><li class="listitem"><p>
              Test the account profile by using the account to execute
              some acceptable and unacceptable statements. The firewall
              matches each statement from the account against the
              profile allowlist and accepts or rejects it:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  This statement is not identical to a training
                  statement but produces the same normalized statement
                  as one of them, so the firewall accepts it:
                </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT first_name, last_name FROM customer WHERE customer_id = '48';
+------------+-----------+
| first_name | last_name |
+------------+-----------+
| ANN        | EVANS     |
+------------+-----------+</code></pre></li><li class="listitem"><p>
                  These statements match nothing in the allowlist, so
                  the firewall rejects each with an error:
                </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT first_name, last_name FROM customer WHERE customer_id = 1 OR TRUE;
ERROR 1045 (28000): Statement was blocked by Firewall
mysql&gt; SHOW TABLES LIKE 'customer%';
ERROR 1045 (28000): Statement was blocked by Firewall
mysql&gt; TRUNCATE TABLE mysql.slow_log;
ERROR 1045 (28000): Statement was blocked by Firewall</code></pre></li><li class="listitem"><p>
                  If the
                  <a class="link" href="firewall-reference.html#sysvar_mysql_firewall_trace"><code class="literal">mysql_firewall_trace</code></a>
                  system variable is enabled, the firewall also writes
                  rejected statements to the error log. For example:
                </p><pre class="programlisting copytoclipboard language-none"><code class="language-none">[Note] Plugin MYSQL_FIREWALL reported:
'ACCESS DENIED for fwuser@localhost. Reason: No match in allowlist.
Statement: TRUNCATE TABLE `mysql` . `slow_log`'</code></pre><p>
                  These log messages may be helpful in identifying the
                  source of attacks, should that be necessary.
</p></li></ul>
</div>
</li></ol>
</div>
<p>
          The firewall account profile now is trained for the
          <code class="literal">fwuser@localhost</code> account. When clients
          connect using that account and attempt to execute statements,
          the profile protects MySQL against statements not matched by
          the profile allowlist.
        </p><p>
          It is possible to detect intrusions by logging nonmatching
          statements as suspicious without denying access. First, put
          the account profile in <code class="literal">DETECTING</code> mode:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_mode('fwuser@localhost', 'DETECTING');</code></pre><p>
          Then, using the account, execute a statement that does not
          match the account profile allowlist. In
          <code class="literal">DETECTING</code> mode, the firewall permits the
          nonmatching statement to execute:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SHOW TABLES LIKE 'customer%';
+------------------------------+
| Tables_in_sakila (customer%) |
+------------------------------+
| customer                     |
| customer_list                |
+------------------------------+</code></pre><p>
          In addition, the firewall writes a message to the error log:
        </p><pre class="programlisting copytoclipboard language-none"><code class="language-none">[Note] Plugin MYSQL_FIREWALL reported:
'SUSPICIOUS STATEMENT from 'fwuser@localhost'. Reason: No match in allowlist.
Statement: SHOW TABLES LIKE ?'</code></pre><p>
          To disable an account profile, change its mode to
          <code class="literal">OFF</code>:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_mode(<em class="replaceable">user</em>, 'OFF');</code></pre><p>
          To forget all training for a profile and disable it, reset it:
        </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CALL mysql.sp_set_firewall_mode(<em class="replaceable">user</em>, 'RESET');</code></pre><p>
          The reset operation causes the firewall to delete all rules
          for the profile and set its mode to <code class="literal">OFF</code>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-monitoring"></a>Monitoring the Firewall</h5>

</div>

</div>

</div>
<p>
          To assess firewall activity, examine its status variables. For
          example, after performing the procedure shown earlier to train
          and protect the <code class="literal">fwgrp</code> group profile, the
          variables look like this:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SHOW GLOBAL STATUS LIKE 'Firewall%';
+----------------------------+-------+
| Variable_name              | Value |
+----------------------------+-------+
| Firewall_access_denied     | 3     |
| Firewall_access_granted    | 4     |
| Firewall_access_suspicious | 1     |
| Firewall_cached_entries    | 4     |
+----------------------------+-------+</code></pre><p>
          The variables indicate the number of statements rejected,
          accepted, logged as suspicious, and added to the cache,
          respectively. The
          <a class="link" href="firewall-reference.html#statvar_Firewall_access_granted"><code class="literal">Firewall_access_granted</code></a>
          count is 4 because of the <code class="literal">@@version_comment</code>
          statement sent by the <a class="link" href="mysql.html" title="6.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client each of
          the three times you connected using the registered account,
          plus the <a class="link" href="show-tables.html" title="15.7.7.39 SHOW TABLES Statement"><code class="literal">SHOW TABLES</code></a> statement
          that was not blocked in <code class="literal">DETECTING</code> mode.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="firewall-account-profile-migration"></a>Migrating Account Profiles to Group Profiles</h5>

</div>

</div>

</div>
<p>
          MySQL Enterprise Firewall supports account profiles that each apply to a single
          account and also group profiles that each can apply to
          multiple accounts. A group profile enables easier
          administration when the same allowlist is to be applied to
          multiple accounts: instead of creating one account profile per
          account and duplicating the allowlist across all those
          profiles, create a single group profile and make the accounts
          members of it. The group allowlist then applies to all the
          accounts.
        </p><p>
          A group profile with a single member account is logically
          equivalent to an account profile for that account, so it is
          possible to administer the firewall using group profiles
          exclusively, rather than a mix of account and group profiles.
          For new firewall installations, that is accomplished by
          uniformly creating new profiles as group profiles and avoiding
          account profiles.
        </p><p>
          Due to the greater flexibility offered by group profiles, it
          is recommended that all new firewall profiles be created as
          group profiles. Account profiles are deprecated, and subject
          to removal in a future MySQL version. For upgrades from
          firewall installations that already contain account profiles,
          MySQL Enterprise Firewall includes a stored procedure named
          <code class="literal">sp_migrate_firewall_user_to_group()</code> to help
          you convert account profiles to group profiles. To use it,
          perform the following procedure as a user who has the
          <a class="link" href="privileges-provided.html#priv_firewall-admin"><code class="literal">FIREWALL_ADMIN</code></a> privilege:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Run the
              <code class="filename">firewall_profile_migration.sql</code> script
              to install the
              <code class="literal">sp_migrate_firewall_user_to_group()</code>
              stored procedure. The script is located in the
              <code class="filename">share</code> directory of your MySQL
              installation.
            </p><p>
              Specify the same firewall database name on the command
              line that you previously defined for your firewall
              installation. The example here specifies the system
              database, <code class="literal">mysql</code>.
            </p><pre class="programlisting copytoclipboard language-terminal"><code class="language-terminal">$&gt; mysql -u root -p -D mysql &lt; firewall_profile_migration.sql
Enter password: <em class="replaceable">(enter root password here)</em></code></pre><p>
              If you installed MySQL Enterprise Firewall in a custom schema, make the
              appropriate substitution for your system.
            </p></li><li class="listitem"><p>
              Identify which account profiles exist by querying the
              Information Schema
              <a class="link" href="information-schema-mysql-firewall-users-table.html" title="28.7.2 The INFORMATION_SCHEMA MYSQL_FIREWALL_USERS Table"><code class="literal">MYSQL_FIREWALL_USERS</code></a> table.
              For example:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT USERHOST FROM INFORMATION_SCHEMA.MYSQL_FIREWALL_USERS;
+-------------------------------+
| USERHOST                      |
+-------------------------------+
| admin@localhost               |
| local_client@localhost        |
| remote_client@abc.example.com |
+-------------------------------+</code></pre></li><li class="listitem"><p>
              For each account profile identified by the previous step,
              convert it to a group profile. Replace the
              <code class="literal">mysql.</code> prefix with the actual firewall
              database name, if necessary:
            </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CALL mysql.sp_migrate_firewall_user_to_group('admin@localhost', 'admins');
CALL mysql.sp_migrate_firewall_user_to_group('local_client@localhost', 'local_clients');
CALL mysql.sp_migrate_firewall_user_to_group('remote_client@localhost', 'remote_clients');</code></pre><p>
              In each case, the account profile must exist and must not
              currently be in <code class="literal">RECORDING</code> mode, and the
              group profile must not already exist. The resulting group
              profile has the named account as its single enlisted
              member, which is also set as the group training account.
              The group profile operational mode is taken from the
              account profile operational mode.
            </p></li><li class="listitem"><p>
              (Optional) Remove
              <code class="literal">sp_migrate_firewall_user_to_group()</code>:
            </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">DROP PROCEDURE IF EXISTS mysql.sp_migrate_firewall_user_to_group;</code></pre><p>
              If you installed MySQL Enterprise Firewall in a custom schema, make the
              appropriate substitution for your system.
</p></li></ol>
</div>
<p>
          For additional details about
          <code class="literal">sp_migrate_firewall_user_to_group()</code>, see
          <a class="xref" href="firewall-reference.html#firewall-stored-routines-miscellaneous" title="Firewall Miscellaneous Stored Procedures">Firewall Miscellaneous Stored Procedures</a>.
</p>
</div>

</div>
<br />
        </div>

                <div id="docs-in-page-nav-container">
            <div id="docs-in-page-nav">
                
    <a href="firewall-installation.html"
        aria-label="Previous" title="Previous: Installing or Uninstalling MySQL Enterprise Firewall"><span
        class="icon-chevron-left"></span> PREV</a> &nbsp;
<a href="index.html" aria-label="Start" title="Start"> HOME</a> &nbsp;
        <a aria-label="Up" href="firewall.html" title="Up: MySQL Enterprise Firewall"> UP</a> &nbsp;
    <a href="firewall-reference.html" aria-label="Next"
        title="Next: MySQL Enterprise Firewall Reference">NEXT <span
        class="icon-chevron-right"></span></a>
            </div>
        </div>
        
         <div id="docs-body-extra">
             
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>

         </div>
     </div>
     </div>

</div>

<script>
$(function() {
    var doc = new $.doc({ 'mobile': $.browser.mobile, 'docId': 1, 'highlight': true });
});
</script>
    

            
        </div>
    </div>

    <footer class="collapsed">
        <div id="footer-bottom">
                                    <div id="footer-collapse">
                <a href="#" id="expand-footer"
                    aria-label="Expand Footer"
                    title="Expand Footer"><span
                    class="icon-plus-square"></span></a>
            </div>
                        <div class="footer-contact">
                <div id="footer-contact-icon" style="display: none;">
                    <span class="icon-call-phone"></span>
                </div>
                <div id="footer-contact-numbers" style="display: none;">
                    <strong>Contact MySQL Sales</strong><br/>
                    USA/Canada: +1-866-221-0634 &nbsp;
                    (<a href="https://www.mysql.com/about/contact/phone/" class="darker-blue">More Countries &raquo;</a>)
                </div>
                <div id="footer-contact-copyright" style="display: inline-block;">
                    <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                    &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                </div>
            </div>
            <div class="social-icons">
                <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook-square"></span></a>
                <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter-square"></span></a>
                <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin-square"></span></a>
                <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube-square"></span></a>
            </div>
            <br class="clear" />
        </div>
        <div id="footer-links">

            <div id="site-footer-links">
                <div id="footer-nav"></div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/products/">Products</a></li>
                        <li><a href="https://www.mysql.com/products/heatwave/">HeatWave</a></li>
                        <li><a href="https://www.mysql.com/products/enterprise/">MySQL Enterprise Edition</a></li>
                        <li><a href="https://www.mysql.com/products/standard/">MySQL Standard Edition</a></li>
                        <li><a href="https://www.mysql.com/products/classic/">MySQL Classic Edition</a></li>
                        <li><a href="https://www.mysql.com/products/cluster/">MySQL Cluster CGE</a></li>
                        <li><a href="https://www.mysql.com/oem/">MySQL Embedded (OEM/ISV)</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/services/">Services</a></li>
                        <li><a href="https://www.mysql.com/training/">Training</a></li>
                        <li><a href="https://www.mysql.com/certification/">Certification</a></li>
                        <li><a href="https://www.mysql.com/support/">Support</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                        <li><a href="https://dev.mysql.com/downloads/mysql/">MySQL Community Server</a></li>
                        <li><a href="https://dev.mysql.com/downloads/cluster/">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/downloads/shell/">MySQL Shell</a></li>
                        <li><a href="https://dev.mysql.com/downloads/router/">MySQL Router</a></li>
                        <li><a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://dev.mysql.com/doc/">Documentation</a></li>
                        <li><a href="https://dev.mysql.com/doc/refman/en/">MySQL Reference Manual</a></li>
                        <li><a href="https://dev.mysql.com/doc/workbench/en/">MySQL Workbench</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-connectors.html">MySQL Connectors</a></li>
                        <li><a href="https://dev.mysql.com/doc/#topic">Topic Guides</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/about/">About MySQL</a></li>
                        <li><a href="https://www.mysql.com/about/contact/">Contact Us</a></li>
                        <li><a href="https://blogs.oracle.com/mysql/">Blogs</a></li>
                                                                        <li><a href="https://www.mysql.com/buy-mysql/">How to Buy</a></li>
                        <li><a href="https://www.mysql.com/partners/">Partners</a></li>
                        <li><a href="https://www.mysql.com/about/jobs/">Job Opportunities</a></li>
                        <li><a href="https://www.mysql.com/sitemap.html">Site Map</a></li>
                    </ul>
                </div>

                            </div>

            <div id="footer-logo">
                <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                <div class="footer-legal-links">
                    <a href="https://www.oracle.com/legal/privacy/">Privacy</a> /
                    <a href="https://www.oracle.com/legal/privacy/privacy-choices.html">Do Not Sell My Info</a> |
                    <a href="https://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> |
                    <a href="https://www.oracle.com/us/legal/third-party-trademarks/index.html">Trademark Policy</a> |
                    <div id="teconsent"></div>
                </div>
            </div>

        </div>
    </footer>
</div>

            <script>
    if ((oracle.truste.api.getGdprConsentDecision().consentDecision) &&
            (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
             oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) )
    {
        document.write('<script src="https://labs.mysql.com/common/js/metrics/ora_mysql.js"><\/script>');
        document.write('<script type="text/javascript" async src="http://c.oracleinfinity.io/acs/account/wh3g12c3gg/js/mysql/odc.js?_ora.context=analytics:production"><\/script>');
    }
    </script>

        
    
</body>

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/firewall-usage.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 17:00:33 GMT -->
</html>
