<!DOCTYPE html>
<html lang="en" class="svg no-js">

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-conflict-resolution.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 16:52:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <!--[if IE ]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="Language" content="en">

    <title>MySQL :: MySQL 8.4 Reference Manual :: 25.7.12 NDB Cluster Replication Conflict Resolution</title>
    <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/main-20241001.min.css" />
            <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/docs-20241001.min.css" />
    
    
    <link rel="stylesheet" media="print" href="https://labs.mysql.com/common/css/print-20241001.min.css" />

    
    
    
    
            <link rel="contents" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="start" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="prev" href="mysql-cluster-replication-mta.html" title="25.7.11 NDB Cluster Replication Using the Multithreaded Applier" />
<link rel="next" href="mysql-cluster-news8dba.html?ff=nopfpls" title="25.8 NDB Cluster Release Notes" />
<link rel="up" href="mysql-cluster-replication.html" title="25.7 NDB Cluster Replication" />

    
    <link rel="shortcut icon" href="https://labs.mysql.com/common/themes/sakila/favicon.ico" />
    <script async="async" type="text/javascript" src='https://consent.truste.com/notice?domain=oracle.com&amp;c=teconsent&amp;js=bb&amp;noticeType=bb&amp;text=true&amp;cdn=1&amp;pcookie&amp;gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <script>(function(H){ H.className=H.className.replace(/\bno-js\b/,'js') })(document.documentElement)</script>
    <script src="https://labs.mysql.com/common/js/site-20241017.min.js"></script>

    
    
    <!--[if lt IE 9]>
        <script src="https://labs.mysql.com/common/js/polyfills/html5shiv-printshiv-3.7.2.min.js"></script>
        <script src="https://labs.mysql.com/common/js/polyfills/respond-1.4.2.min.js"></script>
    <![endif]-->
        <!--[if IE 9]>
        <style>#docs-sidebar-toc { box-sizing: content-box; }</style>
    <![endif]-->
        
                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="E6BB6-B37B4-898B7-F97BA-BBCDB",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"E6BB6-B37B4-898B7-F97BA-BBCDB";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="kzvaeoix35pxazy7w5wa-f-b19cedafa-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"1334304","ak.ai":parseInt("802521",10),"ak.ol":"0","ak.cr":129,"ak.ipv":4,"ak.proto":"http/1.1","ak.rid":"18970b4e","ak.r":46154,"ak.a2":n,"ak.m":"dscx","ak.n":"essl","ak.bpcip":"86.106.2.0","ak.cport":5770,"ak.gh":"96.16.85.8","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"bbr","ak.t":"1730131820","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==GtjC9e+Y6qz/zobhHLvuxp7EiMq5vCPNH1Z53H5ZxhD1wi+KP/ptLCzdtfZOXVsJ1echUvioPDTffb8+dQQofOQUb1SlitLKLQpTGH0KUfD3zJmEXYwyG8X5vtTH2aBKBuJNrxs1aEkV9NvY+64SMv+dvUlNsvfsrmUyvLBUzkj8LoMmdwBt2ZfCjyOpy+Ip0BdCdygKhlkEzF8S27EE8L002esCGU0U03yNb6cAyudq69j5XsnHIbBY/YRe8/rzc2uUzLFLJSVMOp7ca047pqhpFXmVDPQRC9fQVKvC3UO16ugqhfXKF2NtMBNeImjp+ko4oAyIjxxtMnree39FJ4WRzRAUmtIJv2o028dFjoqskJ822IczAVlrJVcQH5PmcGU0Px7S4Ey3sOaJDIHN9Jss+IjHRO6y7EhN/b4LKo0=","ak.pv":"15","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.html","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak-2.html","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>

<body class="no-sidebar full-page dev">
<a class="skip-main" href="#main">Skip to Main Content</a>
<div class="page-wrapper">
    <header>

                        <a href="https://dev.mysql.com/" aria-label="MySQL Home" title="MySQL" id="l1-home-link"></a>
        
        <div id="l1-nav-container">
            <div id="l1-line1">
                <div id="l1-lhs">
                    <div id="l1-slogan">
                        The world's most popular open source database
                    </div>
                    <div id="l1-search-box">
                        <form id="l1-search-form" method="get" action="https://search.oracle.com/mysql">
                        <input type="hidden" name="app" value="mysql" />
                        <input id="l1-search-input" type="search" class="icon-search" placeholder="Search" aria-label="Search" name="q" />
                        </form>
                    </div>
                    <div id="l1-auth-links">
                        <nav aria-label="Contact/Login Navigation" role="navigation">
                            <a href="https://www.mysql.com/about/contact/"><b>Contact MySQL</b></a>
                            <span id="l1-contact-separator">&nbsp;|&nbsp;</span>
                            <span id="l1-contact-separator-br"><br /></span>
                                                             <a href="https://dev.mysql.com/auth/login/?dest=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.4%2Fen%2Fmysql-cluster-replication-conflict-resolution.html">Login</a> &nbsp;|&nbsp;
                                 <a href="https://dev.mysql.com/auth/register/">Register</a>
                                                    </nav>
                    </div>
                </div>
            </div>
            <div id="l1-line2">
                <nav aria-label="Primary Navigation" role="navigation">
                    <ul id="l1-nav">
                        <li>
                            <a href="https://www.mysql.com/"><!-- <span class="icon-sakila"></span>  -->MySQL.com</a>
                        </li><li>
                            <a href="https://www.mysql.com/downloads/"><!-- <span class="icon-download-thin"></span>  -->Downloads</a>
                        </li><li class="active">
                            <a href="https://dev.mysql.com/doc/"><!-- <span class="icon-books"></span>  -->Documentation</a>
                        </li><li>
                            <a href="https://dev.mysql.com/"><!-- <span class="icon-code"></span>  -->Developer Zone</a>
                        </li>                    </ul>
                </nav>
                <div class="social-icons">
                    <nav aria-label="Social Navigation" role="navigation">
                        <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook"></span></a>
                        <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter"></span></a>
                        <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin"></span></a>
                        <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube"></span></a>
                    </nav>
                </div>
            </div>
        </div>
        <div id="sub-header">
            <div id="l2-nav-container">
                <div id="l2-nav-toggle">
                    <span class="icon-three-bars"></span>
                </div>
                                                                                        <a class="button nav-button-3" href="https://dev.mysql.com/"><span class="icon-code"></span> Developer Zone</a>
                                                                                                                                    <a class="button nav-button-2" href="https://www.mysql.com/downloads/"><span class="icon-download-thin"></span> Downloads</a>
                                                                                                <a class="button nav-button-1" href="https://www.mysql.com/"><span class="icon-sakila"></span> MySQL.com</a>
                                                                        <div id="l2-search-toggle">
                    <span class="icon-search"></span>
                </div>
                <div id="l2-site-icon">
                                                                                                                                                                                                    <span class="icon-books"></span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                <div id="l1-section-title">
                    <span id="l1-section-label">
                        <a href="https://dev.mysql.com/doc/">Documentation</a>
                    </span>
                </div>
                <nav aria-label="Secondary Navigation" role="navigation">
                    

<ul id="l2-nav">
            	<li class="active"><a class="active " href="https://dev.mysql.com/doc/refman/en/">MySQL Server</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-enterprise.html">MySQL Enterprise</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/workbench/en/">Workbench</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-cluster.html">InnoDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-connectors.html">Connectors</a>
    			</li>
	        	<li class=" last"><a  href="https://dev.mysql.com/doc/index-other.html">More</a>
    			</li>
	                        <li class="other-section"><a href="https://www.mysql.com/">MySQL.com</a></li>
                            <li class="other-section"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                                        <li class="other-section"><a href="https://dev.mysql.com/">Developer Zone</a></li>
            </ul>
                </nav>
            </div>
            <div id="l3-search-container"></div>
            <div id="top-orange"><span id="section-nav">Section Menu: &nbsp; </span></div>
        </div>
    </header>
        <div id="page">
                        <div role="main" id="main" tabindex="-1">

            
                
            
<div>
    <div id="docs-sidebar-toc" class="">
    <div id="docs-toc-inner">
        <div class="docs-sidebar-header" id="docs-nav-header">
            <a class="docs-show-hide-nav" id="docs-hide-nav" href="#" title="Hide Sidebar" aria-label="Hide Sidebar"><span class="icon-arrow-small-left"></span></a>
            <div class="docs-nav-links">
                                    
    <a href="mysql-cluster-replication-mta.html"
        aria-label="Previous" title="Previous: NDB Cluster Replication Using the Multithreaded Applier"><span
        class="icon-chevron-left"></span></a>
<a href="index.html" aria-label="Start" title="Start"><span class="icon-book-open"></span></a>
        <a aria-label="Up" href="mysql-cluster-replication.html" title="Up: NDB Cluster Replication"><span class="icon-chevron-up"></span></a>
    <a href="mysql-cluster-news.html" aria-label="Next"
        title="Next: NDB Cluster Release Notes"><span
        class="icon-chevron-right"></span></a>
                            </div>
        </div>
                    
<div id="docs-sidebar-search-container">
    <div id="docs-sidebar-search-box">
        <form method="get" action="https://dev.mysql.com/doc/search/">
            <input type="hidden" name="d" id="d" value="371" />
            <input type="hidden" name="p" id="p" value="1" />
            <input type="text" name="q" id="q" title="Search this Manual"
                value="Search this Manual"
                style="color: #bbb;"
                onfocus="if(this.value == 'Search this Manual') {this.value='';this.style.color='#555';}"
                onblur="if(this.value == '') {this.value='Search this Manual';this.style.color='#bbb';}" />

            <button class="docs-sidebar-search-btn" aria-label="Search" title="Search" type="submit">
                <span class="icon-search"></span>
            </button>
        </form>
    </div>
</div>
                <div class="docs-sidebar-nav">
            <a class="docs-icon-home" href="https://dev.mysql.com/doc/"><span class="icon-home"></span>Documentation Home</a><hr />
            <div class="docs-sidebar-mtitle">MySQL 8.4 Reference Manual</div>
            <nav class="doctoc" id="doc-371">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="preface.html">Preface and Legal Notices</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="introduction.html">General Information</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="installing.html">Installing MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="upgrading.html">Upgrading MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="downgrading.html">Downgrading MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="tutorial.html">Tutorial</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="programs.html">MySQL Programs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="server-administration.html">MySQL Server Administration</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="security.html">Security</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="backup-and-recovery.html">Backup and Recovery</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="optimization.html">Optimization</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="language-structure.html">Language Structure</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="charset.html">Character Sets, Collations, Unicode</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-types.html">Data Types</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="functions.html">Functions and Operators</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sql-statements.html">SQL Statements</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-dictionary.html">MySQL Data Dictionary</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="innodb-storage-engine.html">The InnoDB Storage Engine</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="storage-engines.html">Alternative Storage Engines</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="replication.html">Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="group-replication.html">Group Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-userguide.html">MySQL Shell</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="document-store.html">Using MySQL as a Document Store</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-cluster-introduction.html">InnoDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-replicaset-introduction.html">InnoDB ReplicaSet</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster.html">MySQL NDB Cluster 8.4</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-general-info.html">General Information</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-overview.html">NDB Cluster Overview</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-basics.html">NDB Cluster Core Concepts</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-nodes-groups.html">NDB Cluster Nodes, Node Groups, Fragment Replicas, and Partitions</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-overview-requirements.html">NDB Cluster Hardware, Software, and Networking Requirements</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-what-is-new.html">What is New in MySQL NDB Cluster 8.4</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-added-deprecated-removed.html">Options, Variables, and Parameters Added, Deprecated or Removed in NDB
    8.4</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-compared.html">MySQL Server Using InnoDB Compared with NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndb-innodb-engines.html">Differences Between the NDB and InnoDB Storage Engines</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndb-innodb-workloads.html">NDB and InnoDB Workloads</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndb-innodb-usage.html">NDB and InnoDB Feature Usage Summary</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations.html">Known Limitations of NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-syntax.html">Noncompliance with SQL Syntax in NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-limits.html">Limits and Differences of NDB Cluster from Standard MySQL Limits</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-transactions.html">Limits Relating to Transaction Handling in NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-error-handling.html">NDB Cluster Error Handling</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-database-objects.html">Limits Associated with Database Objects in NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-unsupported.html">Unsupported or Missing Features in NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-performance.html">Limitations Relating to Performance in NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-exclusive-to-cluster.html">Issues Exclusive to NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-disk-data.html">Limitations Relating to NDB Cluster Disk Data Storage</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-multiple-nodes.html">Limitations Relating to Multiple NDB Cluster Nodes</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-limitations-resolved.html">Previous NDB Cluster Issues Resolved in NDB Cluster 8.4</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-installation.html">NDB Cluster Installation</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-linux.html">Installation of NDB Cluster on Linux</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-linux-binary.html">Installing an NDB Cluster Binary Release on Linux</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-linux-rpm.html">Installing NDB Cluster from RPM</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-debian.html">Installing NDB Cluster Using .deb Files</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-linux-source.html">Building NDB Cluster from Source on Linux</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-windows.html">Installing NDB Cluster on Windows</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-windows-binary.html">Installing NDB Cluster on Windows from a Binary Release</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-windows-source.html">Compiling and Installing NDB Cluster from Source on Windows</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-windows-initial-start.html">Initial Startup of NDB Cluster on Windows</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-windows-service.html">Installing NDB Cluster Processes as Windows Services</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-configuration.html">Initial Configuration of NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-first-start.html">Initial Startup of NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-example-data.html">NDB Cluster Example with Tables and Data</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-install-shutdown-restart.html">Safe Shutdown and Restart of NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-upgrade-downgrade.html">Upgrading and Downgrading NDB Cluster</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-configuration.html">Configuration of NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-quick.html">Quick Test Setup of NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-configuration-overview.html">Overview of NDB Cluster Configuration Parameters, Options, and Variables</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-params-ndbd.html">NDB Cluster Data Node Configuration Parameters</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-params-mgmd.html">NDB Cluster Management Node Configuration Parameters</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-params-api.html">NDB Cluster SQL Node and API Node Configuration Parameters</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-params-other.html">Other NDB Cluster Configuration Parameters</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-option-tables.html">NDB Cluster mysqld Option and Variable Reference</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-config-file.html">NDB Cluster Configuration Files</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-config-example.html">NDB Cluster Configuration: Basic Example</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-config-starting.html">Recommended Starting Configuration for NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-connection-strings.html">NDB Cluster Connection Strings</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-computer-definition.html">Defining Computers in an NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-mgm-definition.html">Defining an NDB Cluster Management Server</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbd-definition.html">Defining NDB Cluster Data Nodes</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-api-definition.html">Defining SQL and Other API Nodes in an NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-system-definition.html">Defining the System</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-options-variables.html">MySQL Server Options and Variables for NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tcp-definition.html">NDB Cluster TCP/IP Connections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tcp-definition-direct.html">NDB Cluster TCP/IP Connections Using Direct Connections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-shm-definition.html">NDB Cluster Shared-Memory Connections</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-data-node-memory-management.html">Data Node Memory Management</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-config-send-buffers.html">Configuring NDB Cluster Send Buffer Parameters</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-interconnects.html">Using High-Speed Interconnects with NDB Cluster</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs.html">NDB Cluster Programs</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndbd.html">ndbd — The NDB Cluster Data Node Daemon</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndbinfo-select-all.html">ndbinfo_select_all — Select From ndbinfo Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndbmtd.html">ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-mgmd.html">ndb_mgmd — The NDB Cluster Management Server Daemon</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-mgm.html">ndb_mgm — The NDB Cluster Management Client</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-blob-tool.html">ndb_blob_tool — Check and Repair BLOB and TEXT columns of NDB Cluster
        Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-config.html">ndb_config — Extract NDB Cluster Configuration Information</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-delete-all.html">ndb_delete_all — Delete All Rows from an NDB Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-desc.html">ndb_desc — Describe NDB Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-drop-index.html">ndb_drop_index — Drop Index from an NDB Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-drop-table.html">ndb_drop_table — Drop an NDB Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-error-reporter.html">ndb_error_reporter — NDB Error-Reporting Utility</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-import.html">ndb_import — Import CSV Data Into NDB</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-index-stat.html">ndb_index_stat — NDB Index Statistics Utility</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-move-data.html">ndb_move_data — NDB Data Copy Utility</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-perror.html">ndb_perror — Obtain NDB Error Message Information</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-print-backup-file.html">ndb_print_backup_file — Print NDB Backup File Contents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-print-file.html">ndb_print_file — Print NDB Disk Data File Contents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-print-frag-file.html">ndb_print_frag_file — Print NDB Fragment List File Contents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-print-schema-file.html">ndb_print_schema_file — Print NDB Schema File Contents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-print-sys-file.html">ndb_print_sys_file — Print NDB System File Contents</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-redo-log-reader.html">ndb_redo_log_reader — Check and Print Content of Cluster Redo Log</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-restore.html">ndb_restore — Restore an NDB Cluster Backup</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-secretsfile-reader.html">ndb_secretsfile_reader — Obtain Key Information from an Encrypted NDB
        Data File</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-select-all.html">ndb_select_all — Print Rows from an NDB Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-select-count.html">ndb_select_count — Print Row Counts for NDB Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-show-tables.html">ndb_show_tables — Display List of NDB Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-sign-keys.html">ndb_sign_keys — Create, Sign, and Manage TLS Keys and Certificates for NDB
        Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-size-pl.html">ndb_size.pl — NDBCLUSTER Size Requirement Estimator</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-top.html">ndb_top — View CPU usage information for NDB threads</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndb-waiter.html">ndb_waiter — Wait for NDB Cluster to Reach a Given Status</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-programs-ndbxfrm.html">ndbxfrm — Compress, Decompress, Encrypt, and Decrypt
        Files Created by NDB Cluster</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-management.html">Management of NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-mgm-client-commands.html">Commands in the NDB Cluster Management Client</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-logs-ndb-messages.html">NDB Cluster Log Messages</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-logs-cluster-log.html">NDB Cluster: Messages in the Cluster Log</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-log-startup-messages.html">NDB Cluster Log Startup Messages</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-logs-event-buffer.html">Event Buffer Reporting in the Cluster Log</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndb-transporter-errors.html">NDB Cluster: NDB Transporter Errors</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-event-reports.html">Event Reports Generated in NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-logging-management-commands.html">NDB Cluster Logging Management Commands</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-log-events.html">NDB Cluster Log Events</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-log-statistics.html">Using CLUSTERLOG STATISTICS in the NDB Cluster Management Client</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-start-phases.html">Summary of NDB Cluster Start Phases</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-rolling-restart.html">Performing a Rolling Restart of an NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-single-user-mode.html">NDB Cluster Single User Mode</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-online-add-node.html">Adding NDB Cluster Data Nodes Online</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-online-add-node-remarks.html">Adding NDB Cluster Data Nodes Online: General Issues</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-online-add-node-basics.html">Adding NDB Cluster Data Nodes Online: Basic procedure</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-online-add-node-example.html">Adding NDB Cluster Data Nodes Online: Detailed Example</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-backup.html">Online Backup of NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-backup-concepts.html">NDB Cluster Backup Concepts</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-backup-using-management-client.html">Using The NDB Cluster Management Client to Create a Backup</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-backup-configuration.html">Configuration for NDB Cluster Backups</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-backup-troubleshooting.html">NDB Cluster Backup Troubleshooting</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-backup-parallel-data-nodes.html">Taking an NDB Backup with Parallel Data Nodes</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-importing-data.html">Importing Data Into MySQL Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-mysqld.html">MySQL Server Usage for NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-disk-data.html">NDB Cluster Disk Data Tables</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-disk-data-objects.html">NDB Cluster Disk Data Objects</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-disk-data-storage-requirements.html">NDB Cluster Disk Data Storage Requirements</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-online-operations.html">Online Operations with ALTER TABLE in NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-privilege-synchronization.html">Privilege Synchronization and NDB_STORED_USER</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tde.html">File System Encryption for NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tde-setup.html">NDB File System Encryption Setup and Usage</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tde-implementation.html">NDB File System Encryption Implementation</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tde-limitations.html">NDB File System Encryption Limitations</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tls.html">TLS Link Encryption for NDB Cluster</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tls-overview.html">Overview of TLS for NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tls-keys.html">Creating a CA and Keys</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-tls-using.html">Using TLS Connections</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndb-api-statistics.html">NDB API Statistics Counters and Variables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo.html">ndbinfo: The NDB Cluster Information Database</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-arbitrator-validity-detail.html">The ndbinfo arbitrator_validity_detail Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-arbitrator-validity-summary.html">The ndbinfo arbitrator_validity_summary Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-backup-id.html">The ndbinfo backup_id Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-blobs.html">The ndbinfo blobs Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-blocks.html">The ndbinfo blocks Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-certificates.html">The ndbinfo certificates Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cluster-locks.html">The ndbinfo cluster_locks Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cluster-operations.html">The ndbinfo cluster_operations Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cluster-transactions.html">The ndbinfo cluster_transactions Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-config-nodes.html">The ndbinfo config_nodes Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-config-params.html">The ndbinfo config_params Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-config-values.html">The ndbinfo config_values Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-counters.html">The ndbinfo counters Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpudata.html">The ndbinfo cpudata Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpudata-1sec.html">The ndbinfo cpudata_1sec Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpudata-20sec.html">The ndbinfo cpudata_20sec Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpudata-50ms.html">The ndbinfo cpudata_50ms Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpuinfo.html">The ndbinfo cpuinfo Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpustat.html">The ndbinfo cpustat Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpustat-50ms.html">The ndbinfo cpustat_50ms Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpustat-1sec.html">The ndbinfo cpustat_1sec Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-cpustat-20sec.html">The ndbinfo cpustat_20sec Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-dictionary-columns.html">The ndbinfo dictionary_columns Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-dictionary-tables.html">The ndbinfo dictionary_tables Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-dict-obj-info.html">The ndbinfo dict_obj_info Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-dict-obj-tree.html">The ndbinfo dict_obj_tree Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-dict-obj-types.html">The ndbinfo dict_obj_types Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-disk-write-speed-base.html">The ndbinfo disk_write_speed_base Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-disk-write-speed-aggregate.html">The ndbinfo disk_write_speed_aggregate Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-disk-write-speed-aggregate-node.html">The ndbinfo disk_write_speed_aggregate_node Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-diskpagebuffer.html">The ndbinfo diskpagebuffer Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-diskstat.html">The ndbinfo diskstat Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-diskstats-1sec.html">The ndbinfo diskstats_1sec Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-error-messages.html">The ndbinfo error_messages Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-events.html">The ndbinfo events Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-files.html">The ndbinfo files Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-foreign-keys.html">The ndbinfo foreign_keys Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-hash-maps.html">The ndbinfo hash_maps Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-hwinfo.html">The ndbinfo hwinfo Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-index-columns.html">The ndbinfo index_columns Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-index-stats.html">The ndbinfo index_stats Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-locks-per-fragment.html">The ndbinfo locks_per_fragment Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-logbuffers.html">The ndbinfo logbuffers Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-logspaces.html">The ndbinfo logspaces Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-membership.html">The ndbinfo membership Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-memoryusage.html">The ndbinfo memoryusage Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-memory-per-fragment.html">The ndbinfo memory_per_fragment Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-nodes.html">The ndbinfo nodes Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-operations-per-fragment.html">The ndbinfo operations_per_fragment Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-pgman-time-track-stats.html">The ndbinfo pgman_time_track_stats Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-processes.html">The ndbinfo processes Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-resources.html">The ndbinfo resources Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-restart-info.html">The ndbinfo restart_info Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-server-locks.html">The ndbinfo server_locks Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-server-operations.html">The ndbinfo server_operations Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-server-transactions.html">The ndbinfo server_transactions Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-table-distribution-status.html">The ndbinfo table_distribution_status Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-table-fragments.html">The ndbinfo table_fragments Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-table-info.html">The ndbinfo table_info Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-table-replicas.html">The ndbinfo table_replicas Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-tc-time-track-stats.html">The ndbinfo tc_time_track_stats Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-threadblocks.html">The ndbinfo threadblocks Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-threads.html">The ndbinfo threads Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-threadstat.html">The ndbinfo threadstat Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-transporter-details.html">The ndbinfo transporter_details Table</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ndbinfo-transporters.html">The ndbinfo transporters Table</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-information-schema-tables.html">INFORMATION_SCHEMA Tables for NDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-ps-tables.html">NDB Cluster and the Performance Schema</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-sql-statements.html">Quick Reference: NDB Cluster SQL Statements</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-security.html">NDB Cluster Security Issues</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-security-networking-issues.html">NDB Cluster Security and Networking Issues</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-security-mysql-privileges.html">NDB Cluster and MySQL Privileges</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-security-mysql-security-procedures.html">NDB Cluster and MySQL Security Procedures</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication.html">NDB Cluster Replication</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-abbreviations.html">NDB Cluster Replication: Abbreviations and Symbols</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-general.html">General Requirements for NDB Cluster Replication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-issues.html">Known Issues in NDB Cluster Replication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-schema.html">NDB Cluster Replication Schema and Tables</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-preparation.html">Preparing the NDB Cluster for Replication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-starting.html">Starting NDB Cluster Replication (Single Replication Channel)</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-two-channels.html">Using Two Replication Channels for NDB Cluster Replication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-failover.html">Implementing Failover with NDB Cluster Replication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-backups.html">NDB Cluster Backups With NDB Cluster Replication</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-auto-sync.html">NDB Cluster Replication: Automating Synchronization of the Replica to
the Source Binary Log</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-pitr.html">Point-In-Time Recovery Using NDB Cluster Replication</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-multi-source.html">NDB Cluster Replication: Bidirectional and Circular Replication</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-replication-mta.html">NDB Cluster Replication Using the Multithreaded Applier</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link current"><a href="mysql-cluster-replication-conflict-resolution.html">NDB Cluster Replication Conflict Resolution</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster-news.html">NDB Cluster Release Notes</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="partitioning.html">Partitioning</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="stored-objects.html">Stored Objects</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="information-schema.html">INFORMATION_SCHEMA Tables</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="performance-schema.html">MySQL Performance Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sys-schema.html">MySQL sys Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="connectors-apis.html">Connectors and APIs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-enterprise.html">MySQL Enterprise Edition</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="workbench.html">MySQL Workbench</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-oci-marketplace.html">MySQL on OCI Marketplace</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="telemetry.html">Telemetry</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="faqs.html">MySQL 8.4 Frequently Asked Questions</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="error-handling.html">Error Messages and Common Problems</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="indexes.html">Indexes</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="glossary.html">MySQL Glossary</a></div></div>                    </li>
        </ul>
                            </nav>
        </div>

        
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian open">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian open">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>


        <br /><span id="wkr"><br /></span>
    </div>
    </div>

    <div id="docs-main" class="has-toc">
    <div id="docs-main-inner">

                <div class="right" id="docs-version-nav">
            <a href="#" id="docs-version-nav-toggle">version 8.4
            <span class="icon-chevron-down"></span></a>
            <div id="docs-version-list">
                                                        <a                         href="https://dev.mysql.com/doc/refman/9.1/en/mysql-cluster-replication-conflict-resolution.html">
                        9.1
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/9.0/en/mysql-cluster-replication-conflict-resolution.html">
                        9.0
                                            </a><br />
                                                                                                                <a                         href="https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-replication-conflict-resolution.html">
                        8.0
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-replication-conflict-resolution.html">
                        5.7
                                            </a><br />
                                                                        <div id="docs-version-nav-lang">
                                                                                                                                                    <a                                     href="https://dev.mysql.com/doc/refman/8.0/ja/mysql-cluster-replication-conflict-resolution.html">
                                    8.0&nbsp;
                                                                            Japanese
                                                                    </a><br />
                                                                                            </div>
                            </div>
        </div>
        
        <div id="docs-show-nav" class="left hidden" style="margin-right: 15px;">
            <a class="docs-show-hide-nav" href="#" aria-label="Show Sidebar"
                title="Show Sidebar"><span class="icon-arrow-small-right"></span></a>
        </div>

                        <div id="docs-breadcrumbs">
            <a href="index.html">MySQL 8.4 Reference Manual</a> &nbsp;/&nbsp;
                            <span id="breadcrumbs-link"><a href="#" id="show-breadcrumbs">...</a> &nbsp;/&nbsp;</span>
                <span class="hidden" id="hidden-breadcrumbs">
                                                        <a href="mysql-cluster.html">MySQL NDB Cluster 8.4</a> &nbsp;/&nbsp;
                                                            <a href="mysql-cluster-replication.html">NDB Cluster Replication</a> &nbsp;/&nbsp;
                                                                                        </span>
                                        NDB Cluster Replication Conflict Resolution
                                    </div>
        
        <div id="docs-body">
        
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-conflict-resolution"></a>25.7.12 NDB Cluster Replication Conflict Resolution</h3>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-requirements" title="Requirements">Requirements</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-source-column" title="Source Column Control">Source Column Control</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-control" title="Conflict Resolution Control">Conflict Resolution Control</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-functions" title="Conflict Resolution Functions">Conflict Resolution Functions</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-exceptions-table" title="Conflict Resolution Exceptions Table">Conflict Resolution Exceptions Table</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-detection-statvars" title="Conflict Detection Status Variables">Conflict Detection Status Variables</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-detection-examples" title="Examples">Examples</a></p></li></ul>
</div>
<a class="indexterm" name="idm45105546275328"></a><a class="indexterm" name="idm45105546273840"></a><a class="indexterm" name="idm45105546272352"></a><a class="indexterm" name="idm45105546270896"></a><a class="indexterm" name="idm45105546269392"></a><p>
      When using a replication setup involving multiple sources
      (including circular replication), it is possible that different
      sources may try to update the same row on the replica with
      different data. Conflict resolution in NDB Cluster Replication
      provides a means of resolving such conflicts by permitting a
      user-defined resolution column to be used to determine whether or
      not an update on a given source should be applied on the replica.
    </p><p>
      Some types of conflict resolution supported by NDB Cluster
      (<code class="literal">NDB$OLD()</code>, <code class="literal">NDB$MAX()</code>, and
      <code class="literal">NDB$MAX_DELETE_WIN()</code>;
      <code class="literal">NDB$MAX_INS()</code> and
      <code class="literal">NDB$MAX_DEL_WIN_INS()</code>) implement this
      user-defined column as a <span class="quote">“<span class="quote">timestamp</span>”</span> column (although
      its type cannot be <a class="link" href="datetime.html" title="13.2.2 The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>, as
      explained later in this section). These types of conflict
      resolution are always applied a row-by-row basis rather than a
      transactional basis. The epoch-based conflict resolution functions
      <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> compare the order in which
      epochs are replicated (and thus these functions are
      transactional). Different methods can be used to compare
      resolution column values on the replica when conflicts occur, as
      explained later in this section; the method used can be set to act
      on a single table, database, or server, or on a set of one or more
      tables using pattern matching. See
      <a class="xref" href="mysql-cluster-replication-schema.html#ndb-replication-wildcards" title="Matching with wildcards">Matching with wildcards</a>, for information about
      using pattern matches in the <code class="literal">db</code>,
      <code class="literal">table_name</code>, and <code class="literal">server_id</code>
      columns of the <code class="literal">mysql.ndb_replication</code> table.
    </p><p>
      You should also keep in mind that it is the application's
      responsibility to ensure that the resolution column is correctly
      populated with relevant values, so that the resolution function
      can make the appropriate choice when determining whether to apply
      an update.
</p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="conflict-resolution-requirements"></a>Requirements</h4>
</div>
</div>
</div>
<p>
        Preparations for conflict resolution must be made on both the
        source and the replica. These tasks are described in the
        following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            On the source writing the binary logs, you must determine
            which columns are sent (all columns or only those that have
            been updated). This is done for the MySQL Server as a whole
            by applying the <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> startup option
            <a class="link" href="mysql-cluster-options-variables.html#option_mysqld_ndb-log-updated-only"><code class="option">--ndb-log-updated-only</code></a>
            (described later in this section), or on one or more
            specific tables by placing the proper entries in the
            <code class="literal">mysql.ndb_replication</code> table (see
            <a class="xref" href="mysql-cluster-replication-schema.html#ndb-replication-ndb-replication" title="ndb_replication Table">ndb_replication Table</a>).
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              If you are replicating tables with very large columns
              (such as <a class="link" href="blob.html" title="13.3.4 The BLOB and TEXT Types"><code class="literal">TEXT</code></a> or
              <a class="link" href="blob.html" title="13.3.4 The BLOB and TEXT Types"><code class="literal">BLOB</code></a> columns),
              <a class="link" href="mysql-cluster-options-variables.html#option_mysqld_ndb-log-updated-only"><code class="option">--ndb-log-updated-only</code></a> can
              also be useful for reducing the size of the binary logs
              and avoiding possible replication failures due to
              exceeding
              <a class="link" href="server-system-variables.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
            </p><p>
              See
              <a class="xref" href="replication-features-max-allowed-packet.html" title="19.5.1.20 Replication and max_allowed_packet">Section 19.5.1.20, “Replication and max_allowed_packet”</a>,
              for more information about this issue.
</p>
</div>
</li><li class="listitem"><p>
            On the replica, you must determine which type of conflict
            resolution to apply (<span class="quote">“<span class="quote">latest timestamp wins</span>”</span>,
            <span class="quote">“<span class="quote">same timestamp wins</span>”</span>, <span class="quote">“<span class="quote">primary
            wins</span>”</span>, <span class="quote">“<span class="quote">primary wins, complete
            transaction</span>”</span>, or none). This is done using the
            <code class="literal">mysql.ndb_replication</code> system table, and
            applies to one or more specific tables (see
            <a class="xref" href="mysql-cluster-replication-schema.html#ndb-replication-ndb-replication" title="ndb_replication Table">ndb_replication Table</a>).
          </p></li><li class="listitem"><p>
            NDB Cluster also supports read conflict detection, that is,
            detecting conflicts between reads of a given row in one
            cluster and updates or deletes of the same row in another
            cluster. This requires exclusive read locks obtained by
            setting
            <a class="link" href="mysql-cluster-options-variables.html#sysvar_ndb_log_exclusive_reads"><code class="literal">ndb_log_exclusive_reads</code></a>
            equal to 1 on the replica. All rows read by a conflicting
            read are logged in the exceptions table. For more
            information, see
            <a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-read-conflicts" title="Read conflict detection and resolution">Read conflict detection and resolution</a>.
          </p></li><li class="listitem"><p>
            When using <code class="literal">NDB$MAX_INS()</code> or
            <code class="literal">NDB$MAX_DEL_WIN_INS()</code>,
            <code class="literal">NDB</code> can apply
            <code class="literal">WRITE_ROW</code> events idempotently, mapping
            such an event to an insert when the incoming row does not
            already exist, or to an update if it does.
          </p><p>
            When using any conflict resolution function other than
            <code class="literal">NDB$MAX_INS()</code> or
            <code class="literal">NDB$MAX_DEL_WIN_INS()</code>, an incoming write
            is always rejected if the row already exists.
</p></li></ul>
</div>
<p>
        When using the functions <code class="literal">NDB$OLD()</code>,
        <code class="literal">NDB$MAX()</code>,
        <code class="literal">NDB$MAX_DELETE_WIN()</code>,
        <code class="literal">NDB$MAX_INS()</code>, and
        <code class="literal">NDB$MAX_DEL_WIN_INS()</code> for timestamp-based
        conflict resolution, we often refer to the column used for
        determining updates as a <span class="quote">“<span class="quote">timestamp</span>”</span> column.
        However, the data type of this column is never
        <a class="link" href="datetime.html" title="13.2.2 The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>; instead, its data type
        should be <a class="link" href="integer-types.html" title="13.1.2 Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a>
        (<a class="link" href="integer-types.html" title="13.1.2 Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INTEGER</code></a>) or
        <a class="link" href="integer-types.html" title="13.1.2 Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>. The
        <span class="quote">“<span class="quote">timestamp</span>”</span> column should also be
        <code class="literal">UNSIGNED</code> and <code class="literal">NOT NULL</code>.
      </p><p>
        The <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> functions discussed later
        in this section work by comparing the relative order of
        replication epochs applied on a primary and secondary NDB
        Cluster, and do not make use of timestamps.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="conflict-resolution-source-column"></a>Source Column Control</h4>

</div>

</div>

</div>
<p>
        <a class="indexterm" name="idm45105546211872"></a>

        We can see update operations in terms of <span class="quote">“<span class="quote">before</span>”</span>
        and <span class="quote">“<span class="quote">after</span>”</span> images—that is, the states of the
        table before and after the update is applied. Normally, when
        updating a table with a primary key, the <span class="quote">“<span class="quote">before</span>”</span>
        image is not of great interest; however, when we need to
        determine on a per-update basis whether or not to use the
        updated values on a replica, we need to make sure that both
        images are written to the source's binary log. This is done
        with the
        <a class="link" href="mysql-cluster-options-variables.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write</code></a> option
        for <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, as described later in this
        section.
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
          Whether logging of complete rows or of updated columns only is
          done is decided when the MySQL server is started, and cannot
          be changed online; you must either restart
          <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, or start a new
          <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> instance with different logging
          options.
</p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="conflict-resolution-control"></a>Conflict Resolution Control</h4>

</div>

</div>

</div>
<p>
        <a class="indexterm" name="idm45105546201072"></a>

        Conflict resolution is usually enabled on the server where
        conflicts can occur. Like logging method selection, it is
        enabled by entries in the
        <code class="literal">mysql.ndb_replication</code> table.
      </p><p>
        <code class="literal">NBT_UPDATED_ONLY_MINIMAL</code> and
        <code class="literal">NBT_UPDATED_FULL_MINIMAL</code> can be used with
        <code class="literal">NDB$EPOCH()</code>, <code class="literal">NDB$EPOCH2()</code>,
        and <code class="literal">NDB$EPOCH_TRANS()</code>, because these do not
        require <span class="quote">“<span class="quote">before</span>”</span> values of columns which are not
        primary keys. Conflict resolution algorithms requiring the old
        values, such as <code class="literal">NDB$MAX()</code> and
        <code class="literal">NDB$OLD()</code>, do not work correctly with these
        <code class="literal">binlog_type</code> values.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="conflict-resolution-functions"></a>Conflict Resolution Functions</h4>

</div>

</div>

</div>
<p>
        This section provides detailed information about the functions
        which can be used for conflict detection and resolution with NDB
        Replication.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-old" title="NDB$OLD()">NDB$OLD()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max" title="NDB$MAX()">NDB$MAX()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max-delete-win" title="NDB$MAX_DELETE_WIN()">NDB$MAX_DELETE_WIN()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max-ins" title="NDB$MAX_INS()">NDB$MAX_INS()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max-del-win-ins" title="NDB$MAX_DEL_WIN_INS()">NDB$MAX_DEL_WIN_INS()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH()">NDB$EPOCH()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-epoch-trans" title="NDB$EPOCH_TRANS()">NDB$EPOCH_TRANS()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-epoch2" title="NDB$EPOCH2()">NDB$EPOCH2()</a></p></li><li class="listitem"><p><a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-epoch2-trans" title="NDB$EPOCH2_TRANS()">NDB$EPOCH2_TRANS()</a></p></li></ul>
</div>
<h5><a name="mysql-cluster-replication-ndb-old"></a>NDB$OLD()</h5>
<p>
        <a class="indexterm" name="idm45105546179792"></a>

        If the value of <em class="replaceable"><code>column_name</code></em> is the
        same on both the source and the replica, then the update is
        applied; otherwise, the update is not applied on the replica and
        an exception is written to the log. This is illustrated by the
        following pseudocode:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (<em class="replaceable">source_old_column_value</em> == <em class="replaceable">replica_current_column_value</em>)
  apply_update();
else
  log_exception();</code></pre><p>
        <a class="indexterm" name="idm45105546175744"></a>

        This function can be used for <span class="quote">“<span class="quote">same value wins</span>”</span>
        conflict resolution. This type of conflict resolution ensures
        that updates are not applied on the replica from the wrong
        source.
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
          The column value from the source's <span class="quote">“<span class="quote">before</span>”</span>
          image is used by this function.
</p>
</div>
<h5><a name="mysql-cluster-replication-ndb-max"></a>NDB$MAX()</h5>
<p>
        <a class="indexterm" name="idm45105546171104"></a>

        For an update or delete operation, if the
        <span class="quote">“<span class="quote">timestamp</span>”</span> column value for a given row coming
        from the source is higher than that on the replica, it is
        applied; otherwise it is not applied on the replica. This is
        illustrated by the following pseudocode:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (<em class="replaceable">source_new_column_value</em> &gt; <em class="replaceable">replica_current_column_value</em>)
  apply_update();</code></pre><p>
        <a class="indexterm" name="idm45105546167088"></a>

        This function can be used for <span class="quote">“<span class="quote">greatest timestamp
        wins</span>”</span> conflict resolution. This type of conflict
        resolution ensures that, in the event of a conflict, the version
        of the row that was most recently updated is the version that
        persists.
      </p><p>
        This function has no effects on conflicts between write
        operations, other than that a write operation with the same
        primary key as a previous write is always rejected; it is
        accepted and applied only if no write operation using the same
        primary key already exists. You can use
        <code class="literal"><a class="link" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max-ins" title="NDB$MAX_INS()">NDB$MAX_INS()</a></code>
        to handle conflict resolution between writes.
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
          The column value from the sources's <span class="quote">“<span class="quote">after</span>”</span>
          image is used by this function.
</p>
</div>
<h5><a name="mysql-cluster-replication-ndb-max-delete-win"></a>NDB$MAX_DELETE_WIN()</h5>
<p>
        <a class="indexterm" name="idm45105546160240"></a>

        This is a variation on <code class="literal">NDB$MAX()</code>. Due to the
        fact that no timestamp is available for a delete operation, a
        delete using <code class="literal">NDB$MAX()</code> is in fact processed
        as <code class="literal">NDB$OLD</code>, but for some use cases, this is
        not optimal. For <code class="literal">NDB$MAX_DELETE_WIN()</code>, if the
        <span class="quote">“<span class="quote">timestamp</span>”</span> column value for a given row adding or
        updating an existing row coming from the source is higher than
        that on the replica, it is applied. However, delete operations
        are treated as always having the higher value. This is
        illustrated by the following pseudocode:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if ( (<em class="replaceable">source_new_column_value</em> &gt; <em class="replaceable">replica_current_column_value</em>)
        ||
      <em class="replaceable">operation.type</em> == "delete")
  apply_update();</code></pre><p>
        <a class="indexterm" name="idm45105546152672"></a>

        This function can be used for <span class="quote">“<span class="quote">greatest timestamp, delete
        wins</span>”</span> conflict resolution. This type of conflict
        resolution ensures that, in the event of a conflict, the version
        of the row that was deleted or (otherwise) most recently updated
        is the version that persists.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          As with <code class="literal">NDB$MAX()</code>, the column value from
          the source's <span class="quote">“<span class="quote">after</span>”</span> image is the value used
          by this function.
</p>
</div>
<h5><a name="mysql-cluster-replication-ndb-max-ins"></a>NDB$MAX_INS()</h5>
<p>
        <a class="indexterm" name="idm45105546147248"></a>

        This function provides support for resolution of conflicting
        write operations. Such conflicts are handled by
        <span class="quote">“<span class="quote">NDB$MAX_INS()</span>”</span> as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            If there is no conflicting write, apply this one (this is
            the same as <code class="literal">NDB$MAX()</code>).
          </p></li><li class="listitem"><p>
            Otherwise, apply <span class="quote">“<span class="quote">greatest timestamp wins</span>”</span>
            conflict resolution, as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
                If the timestamp for the incoming write is greater than
                that of the conflicting write, apply the incoming
                operation.
              </p></li><li class="listitem"><p>
                If the timestamp for the incoming write is
                <span class="emphasis"><em>not</em></span> greater, reject the incoming
                write operation.
</p></li></ol>
</div>
</li></ol>
</div>
<p>
        When handling an insert operation,
        <code class="literal">NDB$MAX_INS()</code> compares timestamps from the
        source and replica as illustrated by the following pseudocode:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (source_new_column_value &gt; replica_current_column_value)
  apply_insert();
else
  log_exception();</code></pre><p>
        For an update operation, the updated timestamp column value from
        the source is compared with the replica's timestamp column
        value, as shown here:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (source_new_column_value &gt; replica_current_column_value)
  apply_update();
else
  log_exception();</code></pre><p>
        This is the same as performed by
        <code class="literal"><a class="link" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max" title="NDB$MAX()">NDB$MAX()</a></code>.
      </p><p>
        For delete operations, the handling is also the same as that
        performed by <code class="literal">NDB$MAX()</code> (and thus the same as
        <code class="literal">NDB$OLD()</code>), and is done like this:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (source_new_column_value == replica_current_column_value)
  apply_delete();
else
  log_exception();</code></pre>
<h5><a name="mysql-cluster-replication-ndb-max-del-win-ins"></a>NDB$MAX_DEL_WIN_INS()</h5>
<p>
        <a class="indexterm" name="idm45105546127664"></a>

        This function provides support for resolution of conflicting
        write operations, along with <span class="quote">“<span class="quote">delete wins</span>”</span>
        resolution like that of
        <code class="literal"><a class="link" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-max-delete-win" title="NDB$MAX_DELETE_WIN()">NDB$MAX_DELETE_WIN()</a></code>.
        Write conflicts are handled by
        <code class="literal">NDB$MAX_DEL_WIN_INS()</code> as shown here:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            If there is no conflicting write, apply this one (this is
            the same as <code class="literal">NDB$MAX_DELETE_WIN()</code>).
          </p></li><li class="listitem"><p>
            Otherwise, apply <span class="quote">“<span class="quote">greatest timestamp wins</span>”</span>
            conflict resolution, as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
                If the timestamp for the incoming write is greater than
                that of the conflicting write, apply the incoming
                operation.
              </p></li><li class="listitem"><p>
                If the timestamp for the incoming write is
                <span class="emphasis"><em>not</em></span> greater, reject the incoming
                write operation.
</p></li></ol>
</div>
</li></ol>
</div>
<p>
        Handling of insert operations as performed by
        <code class="literal">NDB$MAX_DEL_WIN_INS()</code> can be represented in
        pseudocode as shown here:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (source_new_column_value &gt; replica_current_column_value)
  apply_insert();
else
  log_exception();</code></pre><p>
        For update operations, the source's updated timestamp
        column value is compared with replica's timestamp column
        value, like this (again using pseudocode):
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (source_new_column_value &gt; replica_current_column_value)
  apply_update();
else
  log_exception();</code></pre><p>
        Deletes are handled using a <span class="quote">“<span class="quote">delete always wins</span>”</span>
        strategy (the same as <code class="literal">NDB$MAX_DELETE_WIN()</code>);
        a <code class="literal">DELETE</code> is always applied without any regard
        to any timestamp values, as illustrated by this pseudocode:
      </p><pre class="programlisting copytoclipboard language-clike"><code class="language-clike">if (operation.type == "delete")
  apply_delete();</code></pre><p>
        For conflicts between update and delete operations, this
        function behaves identically to
        <code class="literal">NDB$MAX_DELETE_WIN()</code>.
</p>
<h5><a name="mysql-cluster-replication-ndb-epoch"></a>NDB$EPOCH()</h5>
<p>
        <a class="indexterm" name="idm45105546106160"></a>

        <a class="indexterm" name="idm45105546105088"></a>

        The <code class="literal">NDB$EPOCH()</code> function tracks the order in
        which replicated epochs are applied on a replica cluster
        relative to changes originating on the replica. This relative
        ordering is used to determine whether changes originating on the
        replica are concurrent with any changes that originate locally,
        and are therefore potentially in conflict.
      </p><p>
        Most of what follows in the description of
        <code class="literal">NDB$EPOCH()</code> also applies to
        <code class="literal">NDB$EPOCH_TRANS()</code>. Any exceptions are noted
        in the text.
      </p><p>
        <code class="literal">NDB$EPOCH()</code> is asymmetric, operating on one
        NDB Cluster in a bidirectional replication configuration
        (sometimes referred to as <span class="quote">“<span class="quote">active-active</span>”</span>
        replication). We refer here to cluster on which it operates as
        the primary, and the other as the secondary. The replica on the
        primary is responsible for detecting and handling conflicts,
        while the replica on the secondary is not involved in any
        conflict detection or handling.
      </p><p>
        When the replica on the primary detects conflicts, it injects
        events into its own binary log to compensate for these; this
        ensures that the secondary NDB Cluster eventually realigns
        itself with the primary and so keeps the primary and secondary
        from diverging. This compensation and realignment mechanism
        requires that the primary NDB Cluster always wins any conflicts
        with the secondary—that is, that the primary's
        changes are always used rather than those from the secondary in
        event of a conflict. This <span class="quote">“<span class="quote">primary always wins</span>”</span>
        rule has the following implications:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Operations that change data, once committed on the primary,
            are fully persistent and are not undone or rolled back by
            conflict detection and resolution.
          </p></li><li class="listitem"><p>
            Data read from the primary is fully consistent. Any changes
            committed on the Primary (locally or from the replica) are
            not reverted later.
          </p></li><li class="listitem"><p>
            Operations that change data on the secondary may later be
            reverted if the primary determines that they are in
            conflict.
          </p></li><li class="listitem"><p>
            Individual rows read on the secondary are self-consistent at
            all times, each row always reflecting either a state
            committed by the secondary, or one committed by the primary.
          </p></li><li class="listitem"><p>
            Sets of rows read on the secondary may not necessarily be
            consistent at a given single point in time. For
            <code class="literal">NDB$EPOCH_TRANS()</code>, this is a transient
            state; for <code class="literal">NDB$EPOCH()</code>, it can be a
            persistent state.
          </p></li><li class="listitem"><p>
            Assuming a period of sufficient length without any
            conflicts, all data on the secondary NDB Cluster
            (eventually) becomes consistent with the primary's
            data.
</p></li></ul>
</div>
<p>
        <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> do not require any user
        schema modifications, or application changes to provide conflict
        detection. However, careful thought must be given to the schema
        used, and the access patterns used, to verify that the complete
        system behaves within specified limits.
      </p><p>
        Each of the <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> functions can take an
        optional parameter; this is the number of bits to use to
        represent the lower 32 bits of the epoch, and should be set to
        no less than the value calculated as shown here:
      </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">CEIL( LOG2( TimeBetweenGlobalCheckpoints / TimeBetweenEpochs ), 1)</code></pre><p>
        For the default values of these configuration parameters (2000
        and 100 milliseconds, respectively), this gives a value of 5
        bits, so the default value (6) should be sufficient, unless
        other values are used for
        <a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints"><code class="literal">TimeBetweenGlobalCheckpoints</code></a>,
        <a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>, or
        both. A value that is too small can result in false positives,
        while one that is too large could lead to excessive wasted space
        in the database.
      </p><p>
        Both <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> insert entries for
        conflicting rows into the relevant exceptions tables, provided
        that these tables have been defined according to the same
        exceptions table schema rules as described elsewhere in this
        section (see
        <a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-old" title="NDB$OLD()">NDB$OLD()</a>). You must
        create any exceptions table before creating the data table with
        which it is to be used.
      </p><p>
        As with the other conflict detection functions discussed in this
        section, <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> are activated by including
        relevant entries in the <code class="literal">mysql.ndb_replication</code>
        table (see <a class="xref" href="mysql-cluster-replication-schema.html#ndb-replication-ndb-replication" title="ndb_replication Table">ndb_replication Table</a>).
        The roles of the primary and secondary NDB Clusters in this
        scenario are fully determined by
        <code class="literal">mysql.ndb_replication</code> table entries.
      </p><p>
        Because the conflict detection algorithms employed by
        <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> are asymmetric, you must
        use different values for the <code class="literal">server_id</code>
        entries of the primary and secondary replicas.
      </p><p>
        A conflict between <code class="literal">DELETE</code> operations alone is
        not sufficient to trigger a conflict using
        <code class="literal">NDB$EPOCH()</code> or
        <code class="literal">NDB$EPOCH_TRANS()</code>, and the relative placement
        within epochs does not matter.
      </p><p><a name="mysql-cluster-replication-ndb-epoch-limitations"></a>
        <span class="bold"><strong>Limitations on NDB$EPOCH()</strong></span>
      </p><p>
        <a class="indexterm" name="idm45105546063872"></a>

        The following limitations currently apply when using
        <code class="literal">NDB$EPOCH()</code> to perform conflict detection:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Conflicts are detected using NDB Cluster epoch boundaries,
            with granularity proportional to
            <a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>
            (default: 100 milliseconds). The minimum conflict window is
            the minimum time during which concurrent updates to the same
            data on both clusters always report a conflict. This is
            always a nonzero length of time, and is roughly proportional
            to <code class="literal">2 * (latency + queueing +
            TimeBetweenEpochs)</code>. This implies
            that—assuming the default for
            <a class="link" href="mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>
            and ignoring any latency between clusters (as well as any
            queuing delays)—the minimum conflict window size is
            approximately 200 milliseconds. This minimum window should
            be considered when looking at expected application
            <span class="quote">“<span class="quote">race</span>”</span> patterns.
          </p></li><li class="listitem"><p>
            Additional storage is required for tables using the
            <code class="literal">NDB$EPOCH()</code> and
            <code class="literal">NDB$EPOCH_TRANS()</code> functions; from 1 to 32
            bits extra space per row is required, depending on the value
            passed to the function.
          </p></li><li class="listitem"><p>
            Conflicts between delete operations may result in divergence
            between the primary and secondary. When a row is deleted on
            both clusters concurrently, the conflict can be detected,
            but is not recorded, since the row is deleted. This means
            that further conflicts during the propagation of any
            subsequent realignment operations are not detected, which
            can lead to divergence.
          </p><p>
            Deletes should be externally serialized, or routed to one
            cluster only. Alternatively, a separate row should be
            updated transactionally with such deletes and any inserts
            that follow them, so that conflicts can be tracked across
            row deletes. This may require changes in applications.
          </p></li><li class="listitem"><p>
            Only two NDB Clusters in a bidirectional
            <span class="quote">“<span class="quote">active-active</span>”</span> configuration are currently
            supported when using <code class="literal">NDB$EPOCH()</code> or
            <code class="literal">NDB$EPOCH_TRANS()</code> for conflict detection.
          </p></li><li class="listitem"><p>
            Tables having <a class="link" href="blob.html" title="13.3.4 The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
            <a class="link" href="blob.html" title="13.3.4 The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns are not
            currently supported with <code class="literal">NDB$EPOCH()</code> or
            <code class="literal">NDB$EPOCH_TRANS()</code>.
</p></li></ul>
</div>
<h5><a name="mysql-cluster-replication-ndb-epoch-trans"></a>NDB$EPOCH_TRANS()</h5>
<p>
        <a class="indexterm" name="idm45105546042016"></a>

        <code class="literal">NDB$EPOCH_TRANS()</code> extends the
        <code class="literal">NDB$EPOCH()</code> function. Conflicts are detected
        and handled in the same way using the <span class="quote">“<span class="quote">primary wins
        all</span>”</span> rule (see
        <a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH()">NDB$EPOCH()</a>) but with
        the extra condition that any other rows updated in the same
        transaction in which the conflict occurred are also regarded as
        being in conflict. In other words, where
        <code class="literal">NDB$EPOCH()</code> realigns individual conflicting
        rows on the secondary, <code class="literal">NDB$EPOCH_TRANS()</code>
        realigns conflicting transactions.
      </p><p>
        In addition, any transactions which are detectably dependent on
        a conflicting transaction are also regarded as being in
        conflict, these dependencies being determined by the contents of
        the secondary cluster's binary log. Since the binary log
        contains only data modification operations (inserts, updates,
        and deletes), only overlapping data modifications are used to
        determine dependencies between transactions.
      </p><p>
        <code class="literal">NDB$EPOCH_TRANS()</code> is subject to the same
        conditions and limitations as <code class="literal">NDB$EPOCH()</code>,
        and in addition requires that all transaction IDs are recorded
        in the secondary's binary log, using
        <a class="link" href="mysql-cluster-options-variables.html#option_mysqld_ndb-log-transaction-id"><code class="option">--ndb-log-transaction-id</code></a> set to
        <code class="literal">ON</code>. This adds a variable amount of overhead
        (up to 13 bytes per row).
      </p><p>
        See <a class="xref" href="mysql-cluster-replication-conflict-resolution.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH()">NDB$EPOCH()</a>.
</p>
<h5><a name="mysql-cluster-replication-ndb-epoch2"></a>NDB$EPOCH2()</h5>
<p>
        <a class="indexterm" name="idm45105546029360"></a>

        The <code class="literal">NDB$EPOCH2()</code> function is similar to
        <code class="literal">NDB$EPOCH()</code>, except that
        <code class="literal">NDB$EPOCH2()</code> provides for delete-delete
        handling with a bidirectional replication topology. In this
        scenario, primary and secondary roles are assigned to the two
        sources by setting the
        <a class="link" href="mysql-cluster-options-variables.html#sysvar_ndb_conflict_role"><code class="literal">ndb_conflict_role</code></a> system
        variable to the appropriate value on each source (usually one
        each of <code class="literal">PRIMARY</code>,
        <code class="literal">SECONDARY</code>). When this is done, modifications
        made by the secondary are reflected by the primary back to the
        secondary which then conditionally applies them.
</p>
<h5><a name="mysql-cluster-replication-ndb-epoch2-trans"></a>NDB$EPOCH2_TRANS()</h5>
<p>
        <a class="indexterm" name="idm45105546021376"></a>

        <code class="literal">NDB$EPOCH2_TRANS()</code> extends the
        <code class="literal">NDB$EPOCH2()</code> function. Conflicts are detected
        and handled in the same way, and assigning primary and secondary
        roles to the replicating clusters, but with the extra condition
        that any other rows updated in the same transaction in which the
        conflict occurred are also regarded as being in conflict. That
        is, <code class="literal">NDB$EPOCH2()</code> realigns individual
        conflicting rows on the secondary, while
        <code class="literal">NDB$EPOCH_TRANS()</code> realigns conflicting
        transactions.
      </p><p>
        Where <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> use metadata that is
        specified per row, per last modified epoch, to determine on the
        primary whether an incoming replicated row change from the
        secondary is concurrent with a locally committed change;
        concurrent changes are regarded as conflicting, with subsequent
        exceptions table updates and realignment of the secondary. A
        problem arises when a row is deleted on the primary so there is
        no longer any last-modified epoch available to determine whether
        any replicated operations conflict, which means that conflicting
        delete operations are not detected. This can result in
        divergence, an example being a delete on one cluster which is
        concurrent with a delete and insert on the other; this why
        delete operations can be routed to only one cluster when using
        <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code>.
      </p><p>
        <code class="literal">NDB$EPOCH2()</code> bypasses the issue just
        described—storing information about deleted rows on the
        PRIMARY—by ignoring any delete-delete conflict, and by
        avoiding any potential resultant divergence as well. This is
        accomplished by reflecting any operation successfully applied on
        and replicated from the secondary back to the secondary. On its
        return to the secondary, it can be used to reapply an operation
        on the secondary which was deleted by an operation originating
        from the primary.
      </p><p>
        When using <code class="literal">NDB$EPOCH2()</code>, you should keep in
        mind that the secondary applies the delete from the primary,
        removing the new row until it is restored by a reflected
        operation. In theory, the subsequent insert or update on the
        secondary conflicts with the delete from the primary, but in
        this case, we choose to ignore this and allow the secondary to
        <span class="quote">“<span class="quote">win</span>”</span>, in the interest of preventing divergence
        between the clusters. In other words, after a delete, the
        primary does not detect conflicts, and instead adopts the
        secondary's following changes immediately. Because of this,
        the secondary's state can revisit multiple previous
        committed states as it progresses to a final (stable) state, and
        some of these may be visible.
      </p><p>
        You should also be aware that reflecting all operations from the
        secondary back to the primary increases the size of the
        primary's logbinary log, as well as demands on bandwidth, CPU
        usage, and disk I/O.
      </p><p>
        Application of reflected operations on the secondary depends on
        the state of the target row on the secondary. Whether or not
        reflected changes are applied on the secondary can be tracked by
        checking the
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_reflected_op_prepare_count"><code class="literal">Ndb_conflict_reflected_op_prepare_count</code></a>
        and
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_reflected_op_discard_count"><code class="literal">Ndb_conflict_reflected_op_discard_count</code></a>
        status variables. The number of changes applied is simply the
        difference between these two values (note that
        <code class="literal">Ndb_conflict_reflected_op_prepare_count</code> is
        always greater than or equal to
        <code class="literal">Ndb_conflict_reflected_op_discard_count</code>).
      </p><p>
        Events are applied if and only if both of the following
        conditions are true:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The existence of the row—that is, whether or not it
            exists—is in accordance with the type of event. For
            delete and update operations, the row must already exist.
            For insert operations, the row must <span class="emphasis"><em>not</em></span>
            exist.
          </p></li><li class="listitem"><p>
            The row was last modified by the primary. It is possible
            that the modification was accomplished through the execution
            of a reflected operation.
</p></li></ul>
</div>
<p>
        If both of these conditions are not met, the reflected operation
        is discarded by the secondary.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="conflict-resolution-exceptions-table"></a>Conflict Resolution Exceptions Table</h4>

</div>

</div>

</div>
<p>
        <a class="indexterm" name="idm45105545997584"></a>

        <a class="indexterm" name="idm45105545996064"></a>

        To use the <code class="literal">NDB$OLD()</code> conflict resolution
        function, it is also necessary to create an exceptions table
        corresponding to each <a class="link" href="mysql-cluster.html" title="Chapter 25 MySQL NDB Cluster 8.4"><code class="literal">NDB</code></a> table for
        which this type of conflict resolution is to be employed. This
        is also true when using <code class="literal">NDB$EPOCH()</code> or
        <code class="literal">NDB$EPOCH_TRANS()</code>. The name of this table is
        that of the table for which conflict resolution is to be
        applied, with the string <code class="literal">$EX</code> appended. (For
        example, if the name of the original table is
        <code class="literal">mytable</code>, the name of the corresponding
        exceptions table name should be <code class="literal">mytable$EX</code>.)
        The syntax for creating the exceptions table is as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE <em class="replaceable">original_table</em>$EX  (
    [NDB$]server_id INT UNSIGNED,
    [NDB$]source_server_id INT UNSIGNED,
    [NDB$]source_epoch BIGINT UNSIGNED,
    [NDB$]count INT UNSIGNED,

    [NDB$OP_TYPE ENUM('WRITE_ROW','UPDATE_ROW', 'DELETE_ROW',
      'REFRESH_ROW', 'READ_ROW') NOT NULL,]
    [NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS',
      'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL,]
    [NDB$ORIG_TRANSID BIGINT UNSIGNED NOT NULL,]

    <em class="replaceable">original_table_pk_columns</em>,

    [<em class="replaceable">orig_table_column</em>|<em class="replaceable">orig_table_column</em>$OLD|<em class="replaceable">orig_table_column</em>$NEW,]

    [<em class="replaceable">additional_columns</em>,]

    PRIMARY KEY([NDB$]server_id, [NDB$]source_server_id, [NDB$]source_epoch, [NDB$]count)
) ENGINE=NDB;</code></pre><p>
        The first four columns are required. The names of the first four
        columns and the columns matching the original table's
        primary key columns are not critical; however, we suggest for
        reasons of clarity and consistency, that you use the names shown
        here for the <code class="literal">server_id</code>,
        <code class="literal">source_server_id</code>,
        <code class="literal">source_epoch</code>, and <code class="literal">count</code>
        columns, and that you use the same names as in the original
        table for the columns matching those in the original
        table's primary key.
      </p><p>
        If the exceptions table uses one or more of the optional columns
        <code class="literal">NDB$OP_TYPE</code>,
        <code class="literal">NDB$CFT_CAUSE</code>, or
        <code class="literal">NDB$ORIG_TRANSID</code> discussed later in this
        section, then each of the required columns must also be named
        using the prefix <code class="literal">NDB$</code>. If desired, you can
        use the <code class="literal">NDB$</code> prefix to name the required
        columns even if you do not define any optional columns, but in
        this case, all four of the required columns must be named using
        the prefix.
      </p><p>
        Following these columns, the columns making up the original
        table's primary key should be copied in the order in which
        they are used to define the primary key of the original table.
        The data types for the columns duplicating the primary key
        columns of the original table should be the same as (or larger
        than) those of the original columns. A subset of the primary key
        columns may be used.
      </p><p>
        The exceptions table must use the
        <a class="link" href="mysql-cluster.html" title="Chapter 25 MySQL NDB Cluster 8.4"><code class="literal">NDB</code></a> storage engine. (An example
        that uses <code class="literal">NDB$OLD()</code> with an exceptions table
        is shown later in this section.)
      </p><p>
        Additional columns may optionally be defined following the
        copied primary key columns, but not before any of them; any such
        extra columns cannot be <code class="literal">NOT NULL</code>. NDB Cluster
        supports three additional, predefined optional columns
        <code class="literal">NDB$OP_TYPE</code>,
        <code class="literal">NDB$CFT_CAUSE</code>, and
        <code class="literal">NDB$ORIG_TRANSID</code>, which are described in the
        next few paragraphs.
      </p><p>
        <a class="indexterm" name="idm45105545969008"></a>

        <code class="literal">NDB$OP_TYPE</code>: This column can be used to
        obtain the type of operation causing the conflict. If you use
        this column, define it as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">NDB$OP_TYPE ENUM('WRITE_ROW', 'UPDATE_ROW', 'DELETE_ROW',
    'REFRESH_ROW', 'READ_ROW') NOT NULL</code></pre><p>
        The <code class="literal">WRITE_ROW</code>, <code class="literal">UPDATE_ROW</code>,
        and <code class="literal">DELETE_ROW</code> operation types represent
        user-initiated operations. <code class="literal">REFRESH_ROW</code>
        operations are operations generated by conflict resolution in
        compensating transactions sent back to the originating cluster
        from the cluster that detected the conflict.
        <code class="literal">READ_ROW</code> operations are user-initiated read
        tracking operations defined with exclusive row locks.
      </p><p>
        <a class="indexterm" name="idm45105545961376"></a>

        <code class="literal">NDB$CFT_CAUSE</code>: You can define an optional
        column <code class="literal">NDB$CFT_CAUSE</code> which provides the cause
        of the registered conflict. This column, if used, is defined as
        shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS',
    'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL</code></pre><p>
        <code class="literal">ROW_DOES_NOT_EXIST</code> can be reported as the
        cause for <code class="literal">UPDATE_ROW</code> and
        <code class="literal">WRITE_ROW</code> operations;
        <code class="literal">ROW_ALREADY_EXISTS</code> can be reported for
        <code class="literal">WRITE_ROW</code> events.
        <code class="literal">DATA_IN_CONFLICT</code> is reported when a row-based
        conflict function detects a conflict;
        <code class="literal">TRANS_IN_CONFLICT</code> is reported when a
        transactional conflict function rejects all of the operations
        belonging to a complete transaction.
      </p><p>
        <a class="indexterm" name="idm45105545951648"></a>

        <code class="literal">NDB$ORIG_TRANSID</code>: The
        <code class="literal">NDB$ORIG_TRANSID</code> column, if used, contains
        the ID of the originating transaction. This column should be
        defined as follows:
      </p><pre class="programlisting copytoclipboard language-sql one-line"><code class="language-sql">NDB$ORIG_TRANSID BIGINT UNSIGNED NOT NULL</code></pre><p>
        <code class="literal">NDB$ORIG_TRANSID</code> is a 64-bit value generated
        by <code class="literal">NDB</code>. This value can be used to correlate
        multiple exceptions table entries belonging to the same
        conflicting transaction from the same or different exceptions
        tables.
      </p><p>
        Additional reference columns which are not part of the original
        table's primary key can be named
        <code class="literal"><em class="replaceable"><code>colname</code></em>$OLD</code> or
        <code class="literal"><em class="replaceable"><code>colname</code></em>$NEW</code>.
        <code class="literal"><em class="replaceable"><code>colname</code></em>$OLD</code>
        references old values in update and delete operations—that
        is, operations containing <code class="literal">DELETE_ROW</code> events.
        <code class="literal"><em class="replaceable"><code>colname</code></em>$NEW</code> can be
        used to reference new values in insert and update
        operations—in other words, operations using
        <code class="literal">WRITE_ROW</code> events,
        <code class="literal">UPDATE_ROW</code> events, or both types of events.
        Where a conflicting operation does not supply a value for a
        given reference column that is not a primary key, the exceptions
        table row contains either <code class="literal">NULL</code>, or a defined
        default value for that column.
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
          The <code class="literal">mysql.ndb_replication</code> table is read
          when a data table is set up for replication, so the row
          corresponding to a table to be replicated must be inserted
          into <code class="literal">mysql.ndb_replication</code>
          <span class="emphasis"><em>before</em></span> the table to be replicated is
          created.
</p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="conflict-detection-statvars"></a>Conflict Detection Status Variables</h4>

</div>

</div>

</div>
<p>
        <a class="indexterm" name="idm45105545932624"></a>

        <a class="indexterm" name="idm45105545931104"></a>

        Several status variables can be used to monitor conflict
        detection. You can see how many rows have been found in conflict
        by <code class="literal">NDB$EPOCH()</code> since this replica was last
        restarted from the current value of the
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_epoch"><code class="literal">Ndb_conflict_fn_epoch</code></a> system
        status variable.
      </p><p>
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_epoch_trans"><code class="literal">Ndb_conflict_fn_epoch_trans</code></a>
        provides the number of rows that have been found directly in
        conflict by <code class="literal">NDB$EPOCH_TRANS()</code>.
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_epoch2"><code class="literal">Ndb_conflict_fn_epoch2</code></a> and
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_epoch2_trans"><code class="literal">Ndb_conflict_fn_epoch2_trans</code></a>
        show the number of rows found in conflict by
        <code class="literal">NDB$EPOCH2()</code> and
        <code class="literal">NDB$EPOCH2_TRANS()</code>, respectively. The number
        of rows actually realigned, including those affected due to
        their membership in or dependency on the same transactions as
        other conflicting rows, is given by
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_trans_row_reject_count"><code class="literal">Ndb_conflict_trans_row_reject_count</code></a>.
      </p><p>
        Another server status variable
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_max"><code class="literal">Ndb_conflict_fn_max</code></a> provides a
        count of the number of times that a row was not applied on the
        current SQL node due to <span class="quote">“<span class="quote">greatest timestamp wins</span>”</span>
        conflict resolution since the last time that
        <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> was started.
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_max_del_win"><code class="literal">Ndb_conflict_fn_max_del_win</code></a>
        provides a count of the number of times that conflict resolution
        based on the outcome of <code class="literal">NDB$MAX_DELETE_WIN()</code>
        has been applied.
      </p><p>
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_max_ins"><code class="literal">Ndb_conflict_fn_max_ins</code></a> tracks
        the number of times that <span class="quote">“<span class="quote">greater timestamp wins</span>”</span>
        handling has been applied to write operations (using
        <code class="literal">NDB$MAX_INS()</code>); a count of the number of
        times that <span class="quote">“<span class="quote">same timestamp wins</span>”</span> handling of writes
        has been applied (as implemented by
        <code class="literal">NDB$MAX_DEL_WIN_INS()</code>), is provided by the
        status variable
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_max_del_win_ins"><code class="literal">Ndb_conflict_fn_max_del_win_ins</code></a>.
      </p><p>
        The number of times that a row was not applied as the result of
        <span class="quote">“<span class="quote">same timestamp wins</span>”</span> conflict resolution on a
        given <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> since the last time it was
        restarted is given by the global status variable
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_old"><code class="literal">Ndb_conflict_fn_old</code></a>. In
        addition to incrementing
        <a class="link" href="mysql-cluster-options-variables.html#statvar_Ndb_conflict_fn_old"><code class="literal">Ndb_conflict_fn_old</code></a>, the
        primary key of the row that was not used is inserted into an
        <span class="firstterm">exceptions table</span>, as
        explained elsewhere in this section.
      </p><p>
        See also <a class="xref" href="mysql-cluster-options-variables.html#mysql-cluster-status-variables" title="25.4.3.9.3 NDB Cluster Status Variables">Section 25.4.3.9.3, “NDB Cluster Status Variables”</a>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="conflict-detection-examples"></a>Examples</h4>

</div>

</div>

</div>
<p>
        The following examples assume that you have already a working
        NDB Cluster replication setup, as described in
        <a class="xref" href="mysql-cluster-replication-preparation.html" title="25.7.5 Preparing the NDB Cluster for Replication">Section 25.7.5, “Preparing the NDB Cluster for Replication”</a>, and
        <a class="xref" href="mysql-cluster-replication-starting.html" title="25.7.6 Starting NDB Cluster Replication (Single Replication Channel)">Section 25.7.6, “Starting NDB Cluster Replication (Single Replication Channel)”</a>.
      </p><p><a name="conflict-detection-ndbmax-example"></a><b>NDB$MAX() example. </b>
          Suppose you wish to enable <span class="quote">“<span class="quote">greatest timestamp
          wins</span>”</span> conflict resolution on table
          <code class="literal">test.t1</code>, using column
          <code class="literal">mycol</code> as the <span class="quote">“<span class="quote">timestamp</span>”</span>. This
          can be done using the following steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Make sure that you have started the source
            <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
            <a class="link" href="mysql-cluster-options-variables.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write=OFF</code></a>.
          </p></li><li class="listitem"><p>
            On the source, perform this
            <a class="link" href="insert.html" title="15.2.7 INSERT Statement"><code class="literal">INSERT</code></a> statement:
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">INSERT INTO mysql.ndb_replication
    VALUES ('test', 't1', 0, NULL, 'NDB$MAX(mycol)');</code></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              If the <code class="literal">ndb_replication</code> table does not
              already exist, you must create it. See
              <a class="xref" href="mysql-cluster-replication-schema.html#ndb-replication-ndb-replication" title="ndb_replication Table">ndb_replication Table</a>.
</p>
</div>
<p>
            Inserting a 0 into the <code class="literal">server_id</code> column
            indicates that all SQL nodes accessing this table should use
            conflict resolution. If you want to use conflict resolution
            on a specific <a class="link" href="mysqld.html" title="6.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> only, use the actual
            server ID.
          </p><p>
            Inserting <code class="literal">NULL</code> into the
            <code class="literal">binlog_type</code> column has the same effect as
            inserting 0 (<code class="literal">NBT_DEFAULT</code>); the server
            default is used.
          </p></li><li class="listitem"><p>
            Create the <code class="literal">test.t1</code> table:
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE test.t1 (
    <em class="replaceable">columns</em>
    mycol INT UNSIGNED,
    <em class="replaceable">columns</em>
) ENGINE=NDB;</code></pre><p>
            Now, when updates are performed on this table, conflict
            resolution is applied, and the version of the row having the
            greatest value for <code class="literal">mycol</code> is written to
            the replica.
</p></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
          Other <code class="literal">binlog_type</code> options such as
          <code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code>
          (<code class="literal">6</code>) should be used to control logging on
          the source using the <code class="literal">ndb_replication</code> table
          rather than by using command-line options.
</p>
</div>
<p><a name="conflict-detection-ndbold-example"></a><b>NDB$OLD() example. </b>
          Suppose an <a class="link" href="mysql-cluster.html" title="Chapter 25 MySQL NDB Cluster 8.4"><code class="literal">NDB</code></a> table such as the
          one defined here is being replicated, and you wish to enable
          <span class="quote">“<span class="quote">same timestamp wins</span>”</span> conflict resolution for
          updates to this table:
        </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE test.t2  (
    a INT UNSIGNED NOT NULL,
    b CHAR(25) NOT NULL,
    <em class="replaceable">columns</em>,
    mycol INT UNSIGNED NOT NULL,
    <em class="replaceable">columns</em>,
    PRIMARY KEY pk (a, b)
)   ENGINE=NDB;</code></pre><p>
        The following steps are required, in the order shown:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            First—and <span class="emphasis"><em>prior</em></span> to creating
            <code class="literal">test.t2</code>—you must insert a row into
            the
            <a class="link" href="mysql-cluster-replication-schema.html#ndb-replication-ndb-replication" title="ndb_replication Table"><code class="literal">mysql.ndb_replication</code></a>
            table, as shown here:
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">INSERT INTO mysql.ndb_replication
    VALUES ('test', 't2', 0, 0, 'NDB$OLD(mycol)');</code></pre><p>
            Possible values for the <code class="literal">binlog_type</code>
            column are shown earlier in this section; in this case, we
            use <code class="literal">0</code> to specify that the server default
            logging behavior be used. The value
            <code class="literal">'NDB$OLD(mycol)'</code> should be inserted into
            the <code class="literal">conflict_fn</code> column.
          </p></li><li class="listitem"><p>
            Create an appropriate exceptions table for
            <code class="literal">test.t2</code>. The table creation statement
            shown here includes all required columns; any additional
            columns must be declared following these columns, and before
            the definition of the table's primary key.
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE test.t2$EX  (
    server_id INT UNSIGNED,
    source_server_id INT UNSIGNED,
    source_epoch BIGINT UNSIGNED,
    count INT UNSIGNED,
    a INT UNSIGNED NOT NULL,
    b CHAR(25) NOT NULL,

    [<em class="replaceable">additional_columns</em>,]

    PRIMARY KEY(server_id, source_server_id, source_epoch, count)
)   ENGINE=NDB;</code></pre><p>
            We can include additional columns for information about the
            type, cause, and originating transaction ID for a given
            conflict. We are also not required to supply matching
            columns for all primary key columns in the original table.
            This means you can create the exceptions table like this:
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE test.t2$EX  (
    NDB$server_id INT UNSIGNED,
    NDB$source_server_id INT UNSIGNED,
    NDB$source_epoch BIGINT UNSIGNED,
    NDB$count INT UNSIGNED,
    a INT UNSIGNED NOT NULL,

    NDB$OP_TYPE ENUM('WRITE_ROW','UPDATE_ROW', 'DELETE_ROW',
      'REFRESH_ROW', 'READ_ROW') NOT NULL,
    NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS',
      'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL,
    NDB$ORIG_TRANSID BIGINT UNSIGNED NOT NULL,

    [<em class="replaceable">additional_columns</em>,]

    PRIMARY KEY(NDB$server_id, NDB$source_server_id, NDB$source_epoch, NDB$count)
)   ENGINE=NDB;</code></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              The <code class="literal">NDB$</code> prefix is required for the
              four required columns since we included at least one of
              the columns <code class="literal">NDB$OP_TYPE</code>,
              <code class="literal">NDB$CFT_CAUSE</code>, or
              <code class="literal">NDB$ORIG_TRANSID</code> in the table
              definition.
</p>
</div>
</li><li class="listitem"><p>
            Create the table <code class="literal">test.t2</code> as shown
            previously.
</p></li></ol>
</div>
<p>
        These steps must be followed for every table for which you wish
        to perform conflict resolution using
        <code class="literal">NDB$OLD()</code>. For each such table, there must be
        a corresponding row in <code class="literal">mysql.ndb_replication</code>,
        and there must be an exceptions table in the same database as
        the table being replicated.
      </p><p><a name="conflict-resolution-read-conflicts"></a><b>Read conflict detection and resolution. </b>
          <a class="indexterm" name="idm45105545841296"></a>

          <a class="indexterm" name="idm45105545839776"></a>

          NDB Cluster also supports tracking of read operations, which
          makes it possible in circular replication setups to manage
          conflicts between reads of a given row in one cluster and
          updates or deletes of the same row in another. This example
          uses <code class="literal">employee</code> and
          <code class="literal">department</code> tables to model a scenario in
          which an employee is moved from one department to another on
          the source cluster (which we refer to hereafter as cluster
          <span class="emphasis"><em>A</em></span>) while the replica cluster (hereafter
          <span class="emphasis"><em>B</em></span>) updates the employee count of the
          employee's former department in an interleaved
          transaction.
        </p><p>
        The data tables have been created using the following SQL
        statements:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql"># Employee table
CREATE TABLE employee (
    id INT PRIMARY KEY,
    name VARCHAR(2000),
    dept INT NOT NULL
)   ENGINE=NDB;

# Department table
CREATE TABLE department (
    id INT PRIMARY KEY,
    name VARCHAR(2000),
    members INT
)   ENGINE=NDB;</code></pre><p>
        The contents of the two tables include the rows shown in the
        (partial) output of the following
        <a class="link" href="select.html" title="15.2.13 SELECT Statement"><code class="literal">SELECT</code></a> statements:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT id, name, dept FROM employee;
+---------------+------+
| id   | name   | dept |
+------+--------+------+
...
| 998  |  Mike  | 3    |
| 999  |  Joe   | 3    |
| 1000 |  Mary  | 3    |
...
+------+--------+------+

mysql&gt; SELECT id, name, members FROM department;
+-----+-------------+---------+
| id  | name        | members |
+-----+-------------+---------+
...
| 3   | Old project | 24      |
...
+-----+-------------+---------+</code></pre><p>
        We assume that we are already using an exceptions table that
        includes the four required columns (and these are used for this
        table's primary key), the optional columns for operation
        type and cause, and the original table's primary key
        column, created using the SQL statement shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE employee$EX  (
    NDB$server_id INT UNSIGNED,
    NDB$source_server_id INT UNSIGNED,
    NDB$source_epoch BIGINT UNSIGNED,
    NDB$count INT UNSIGNED,

    NDB$OP_TYPE ENUM( 'WRITE_ROW','UPDATE_ROW', 'DELETE_ROW',
                      'REFRESH_ROW','READ_ROW') NOT NULL,
    NDB$CFT_CAUSE ENUM( 'ROW_DOES_NOT_EXIST',
                        'ROW_ALREADY_EXISTS',
                        'DATA_IN_CONFLICT',
                        'TRANS_IN_CONFLICT') NOT NULL,

    id INT NOT NULL,

    PRIMARY KEY(NDB$server_id, NDB$source_server_id, NDB$source_epoch, NDB$count)
)   ENGINE=NDB;</code></pre><p>
        Suppose there occur the two simultaneous transactions on the two
        clusters. On cluster <span class="emphasis"><em>A</em></span>, we create a new
        department, then move employee number 999 into that department,
        using the following SQL statements:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">BEGIN;
  INSERT INTO department VALUES (4, "New project", 1);
  <em>UPDATE employee SET dept = 4 WHERE id = 999;</em>
COMMIT;</code></pre><p>
        At the same time, on cluster <span class="emphasis"><em>B</em></span>, another
        transaction reads from <code class="literal">employee</code>, as shown
        here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">BEGIN;
  <em>SELECT name FROM employee WHERE id = 999;</em>
  UPDATE department SET members = members - 1  WHERE id = 3;
commit;</code></pre><a class="indexterm" name="idm45105545817616"></a><p>
        The conflicting transactions are not normally detected by the
        conflict resolution mechanism, since the conflict is between a
        read (<code class="literal">SELECT</code>) and an update operation. You
        can circumvent this issue by executing
        <a class="link" href="set-variable.html" title="15.7.6.1 SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
        <a class="link" href="mysql-cluster-options-variables.html#sysvar_ndb_log_exclusive_reads"><code class="literal">ndb_log_exclusive_reads</code></a>
        <code class="literal">= 1</code> on the replica cluster. Acquiring
        exclusive read locks in this way causes any rows read on the
        source to be flagged as needing conflict resolution on the
        replica cluster. If we enable exclusive reads in this way prior
        to the logging of these transactions, the read on cluster
        <span class="emphasis"><em>B</em></span> is tracked and sent to cluster
        <span class="emphasis"><em>A</em></span> for resolution; the conflict on the
        employee row is subsequently detected and the transaction on
        cluster <span class="emphasis"><em>B</em></span> is aborted.
      </p><p>
        The conflict is registered in the exceptions table (on cluster
        <span class="emphasis"><em>A</em></span>) as a <code class="literal">READ_ROW</code>
        operation (see
        <a class="xref" href="mysql-cluster-replication-conflict-resolution.html#conflict-resolution-exceptions-table" title="Conflict Resolution Exceptions Table">Conflict Resolution Exceptions Table</a>, for a
        description of operation types), as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT id, NDB$OP_TYPE, NDB$CFT_CAUSE FROM employee$EX;
+-------+-------------+-------------------+
| id    | NDB$OP_TYPE | NDB$CFT_CAUSE     |
+-------+-------------+-------------------+
...
| 999   | READ_ROW    | TRANS_IN_CONFLICT |
+-------+-------------+-------------------+</code></pre><p>
        Any existing rows found in the read operation are flagged. This
        means that multiple rows resulting from the same conflict may be
        logged in the exception table, as shown by examining the effects
        a conflict between an update on cluster <span class="emphasis"><em>A</em></span>
        and a read of multiple rows on cluster <span class="emphasis"><em>B</em></span>
        from the same table in simultaneous transactions. The
        transaction executed on cluster <span class="emphasis"><em>A</em></span> is shown
        here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">BEGIN;
  INSERT INTO department VALUES (4, "New project", 0);
  <em>UPDATE employee SET dept = 4 WHERE dept = 3;</em>
  SELECT COUNT(*) INTO @count FROM employee WHERE dept = 4;
  UPDATE department SET members = @count WHERE id = 4;
COMMIT;</code></pre><p>
        Concurrently a transaction containing the statements shown here
        runs on cluster <span class="emphasis"><em>B</em></span>:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SET ndb_log_exclusive_reads = 1;  # Must be set if not already enabled
...
BEGIN;
  <em>SELECT COUNT(*) INTO @count FROM employee WHERE dept = 3 FOR UPDATE;</em>
  UPDATE department SET members = @count WHERE id = 3;
COMMIT;</code></pre><p>
        In this case, all three rows matching the
        <code class="literal">WHERE</code> condition in the second
        transaction's <code class="literal">SELECT</code> are read, and are
        thus flagged in the exceptions table, as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT id, NDB$OP_TYPE, NDB$CFT_CAUSE FROM employee$EX;
+-------+-------------+-------------------+
| id    | NDB$OP_TYPE | NDB$CFT_CAUSE     |
+-------+-------------+-------------------+
...
| 998   | READ_ROW    | TRANS_IN_CONFLICT |
| 999   | READ_ROW    | TRANS_IN_CONFLICT |
| 1000  | READ_ROW    | TRANS_IN_CONFLICT |
...
+-------+-------------+-------------------+</code></pre><p>
        Read tracking is performed on the basis of existing rows only. A
        read based on a given condition track conflicts only of any rows
        that are <span class="emphasis"><em>found</em></span> and not of any rows that are
        inserted in an interleaved transaction. This is similar to how
        exclusive row locking is performed in a single instance of NDB
        Cluster.
      </p><p><a name="conflict-detection-insert-conflict-example"></a><b>Insert conflict detection and resolution example. </b>
          The following example illustrates the use of insert conflict
          detection functions. We assume that we are replicating two
          tables <code class="literal">t1</code> and <code class="literal">t2</code> in
          database <code class="literal">test</code>, and that we wish to use
          insert conflict detection with
          <code class="literal">NDB$MAX_INS()</code> for <code class="literal">t1</code> and
          <code class="literal">NDB$MAX_DEL_WIN_INS()</code> for
          <code class="literal">t2</code>. The two data tables are not created
          until later in the setup process.
        </p><p>
        Setting up insert conflict resolution is similar to setting up
        other conflict detection and resolution algorithms as shown in
        the previous examples. If the
        <code class="literal">mysql.ndb_replication</code> table used to configure
        binary logging and conflict resolution, does not already exist,
        it is first necessary to create it, as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE mysql.ndb_replication (
    db VARBINARY(63),
    table_name VARBINARY(63),
    server_id INT UNSIGNED,
    binlog_type INT UNSIGNED,
    conflict_fn VARBINARY(128),
    PRIMARY KEY USING HASH (db, table_name, server_id)
) ENGINE=NDB 
PARTITION BY KEY(db,table_name);</code></pre><p>
        The <code class="literal">ndb_replication</code> table acts on a per-table
        basis; that is, we need to insert a row containing table
        information, a <code class="literal">binlog_type</code> value, the
        conflict resolution function to be employed, and the name of the
        timestamp column (<code class="literal">X</code>) for each table to be set
        up, like this:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">INSERT INTO mysql.ndb_replication VALUES ("test", "t1", 0, 7, "NDB$MAX_INS(X)");
INSERT INTO mysql.ndb_replication VALUES ("test", "t2", 0, 7, "NDB$MAX_DEL_WIN_INS(X)");</code></pre><p>
        Here we have set the binlog_type as
        <code class="literal">NBT_FULL_USE_UPDATE</code> (<code class="literal">7</code>)
        which means that full rows are always logged. See
        <a class="xref" href="mysql-cluster-replication-schema.html#ndb-replication-ndb-replication" title="ndb_replication Table">ndb_replication Table</a>, for other
        possible values.
      </p><p>
        You can also create an exceptions table corresponding to each
        <code class="literal">NDB</code> table for which conflict resolution is to
        be employed. An exceptions table records all rows rejected by
        the conflict resolution function for a given table. Exceptions
        tables for replication conflict detection for tables
        <code class="literal">t1</code> and <code class="literal">t2</code> can be created
        using the following two SQL statements:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE `t1$EX` (
    NDB$server_id INT UNSIGNED,
    NDB$source_server_id INT UNSIGNED,
    NDB$source_epoch BIGINT UNSIGNED,
    NDB$count INT UNSIGNED,
    NDB$OP_TYPE ENUM('WRITE_ROW', 'UPDATE_ROW', 'DELETE_ROW', 
                     'REFRESH_ROW', 'READ_ROW') NOT NULL,
    NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS',
                       'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL,
    a INT NOT NULL,
    PRIMARY KEY(NDB$server_id, NDB$source_server_id, 
                NDB$source_epoch, NDB$count)
) ENGINE=NDB;

CREATE TABLE `t2$EX` (
    NDB$server_id INT UNSIGNED,
    NDB$source_server_id INT UNSIGNED,
    NDB$source_epoch BIGINT UNSIGNED,
    NDB$count INT UNSIGNED,
    NDB$OP_TYPE ENUM('WRITE_ROW', 'UPDATE_ROW', 'DELETE_ROW',
                     'REFRESH_ROW', 'READ_ROW') NOT NULL,
    NDB$CFT_CAUSE ENUM( 'ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS',
                        'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL,
    a INT NOT NULL,
    PRIMARY KEY(NDB$server_id, NDB$source_server_id, 
                NDB$source_epoch, NDB$count)
) ENGINE=NDB;</code></pre><p>
        Finally, after creating the exception tables just shown, you can
        create the data tables to be replicated and subject to conflict
        resolution control, using the following two SQL statements:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE TABLE t1 (
    a INT PRIMARY KEY, 
    b VARCHAR(32), 
    X INT UNSIGNED
) ENGINE=NDB;

CREATE TABLE t2 (
    a INT PRIMARY KEY, 
    b VARCHAR(32), 
    X INT UNSIGNED
) ENGINE=NDB;</code></pre><p>
        For each table, the <code class="literal">X</code> column is used as the
        timestamp column.
      </p><p>
        Once created on the source, <code class="literal">t1</code> and
        <code class="literal">t2</code> are replicated and can be assumed to exist
        on both the source and the replica. In the remainder of this
        example, we use <code class="literal">mysqlS&gt;</code> to indicate a
        <a class="link" href="mysql.html" title="6.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client connected to the source, and
        <code class="literal">mysqlR&gt;</code> to indicate a
        <a class="link" href="mysql.html" title="6.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client running on the replica.
      </p><p>
        First we insert one row each into the tables on the source, like
        this:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlS&gt; INSERT INTO t1 VALUES (1, 'Initial X=1', 1);
Query OK, 1 row affected (0.01 sec)

mysqlS&gt; INSERT INTO t2 VALUES (1, 'Initial X=1', 1);
Query OK, 1 row affected (0.01 sec)</code></pre><p>
        We can be certain that these two rows are replicated without
        causing any conflicts, since the tables on the replica did not
        contain any rows prior to issuing the
        <a class="link" href="insert.html" title="15.2.7 INSERT Statement"><code class="literal">INSERT</code></a> statements on the source.
        We can verify this by selecting from the tables on the replica
        as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlR&gt; TABLE t1 ORDER BY a;
+---+-------------+------+
| a | b           | X    |
+---+-------------+------+
| 1 | Initial X=1 |    1 |
+---+-------------+------+
1 row in set (0.00 sec)

mysqlR&gt; TABLE t2 ORDER BY a;
+---+-------------+------+
| a | b           | X    |
+---+-------------+------+
| 1 | Initial X=1 |    1 |
+---+-------------+------+
1 row in set (0.00 sec)</code></pre><p>
        Next, we insert new rows into the tables on the replica, like
        this:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlR&gt; INSERT INTO t1 VALUES (2, 'Replica X=2', 2);
Query OK, 1 row affected (0.01 sec)

mysqlR&gt; INSERT INTO t2 VALUES (2, 'Replica X=2', 2);
Query OK, 1 row affected (0.01 sec)</code></pre><p>
        Now we insert conflicting rows into the tables on the source
        having greater timestamp (<code class="literal">X</code>) column values,
        using the statements shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlS&gt; INSERT INTO t1 VALUES (2, 'Replica X=20', 20);
Query OK, 1 row affected (0.01 sec)

mysqlS&gt; INSERT INTO t2 VALUES (2, 'Replica X=20', 20);
Query OK, 1 row affected (0.01 sec)</code></pre><p>
        Now we observe the results by selecting (again) from both tables
        on the replica, as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlR&gt; TABLE t1 ORDER BY a;
+---+-------------+-------+
| a | b           | X     |
+---+-------------+-------+
| 1 | Initial X=1 |    1  |
+---+-------------+-------+
| 2 | Source X=20 |   20  |
+---+-------------+-------+
2 rows in set (0.00 sec)

mysqlR&gt; TABLE t2 ORDER BY a;
+---+-------------+-------+
| a | b           | X     |
+---+-------------+-------+
| 1 | Initial X=1 |    1  |
+---+-------------+-------+
| 1 | Source X=20 |   20  |
+---+-------------+-------+
2 rows in set (0.00 sec)</code></pre><p>
        The rows inserted on the source, having greater timestamps than
        those in the conflicting rows on the replica, have replaced
        those rows. On the replica, we next insert two new rows which do
        not conflict with any existing rows in <code class="literal">t1</code> or
        <code class="literal">t2</code>, like this:
      </p><pre class="programlisting copytoclipboard language-simple"><code class="language-simple">mysqlR&gt; INSERT INTO t1 VALUES (3, 'Replica X=30', 30);
Query OK, 1 row affected (0.01 sec)

mysqlR&gt; INSERT INTO t2 VALUES (3, 'Replica X=30', 30);
Query OK, 1 row affected (0.01 sec)</code></pre><p>
        Inserting more rows on the source with the same primary key
        value (<code class="literal">3</code>) brings about conflicts as before,
        but this time we use a value for the timestamp column less than
        that in same column in the conflicting rows on the replica.
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlS&gt; INSERT INTO t1 VALUES (3, 'Source X=3', 3);
Query OK, 1 row affected (0.01 sec)

mysqlS&gt; INSERT INTO t2 VALUES (3, 'Source X=3', 3);
Query OK, 1 row affected (0.01 sec)</code></pre><p>
        We can see by querying the tables that both inserts from the
        source were rejected by the replica, and the rows inserted on
        the replica previously have not been overwritten, as shown here
        in the <a class="link" href="mysql.html" title="6.5.1 mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client on the replica:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlR&gt; TABLE t1 ORDER BY a;
+---+--------------+-------+
| a | b            | X     |
+---+--------------+-------+
| 1 |  Initial X=1 |    1  |
+---+--------------+-------+
| 2 |  Source X=20 |   20  |
+---+--------------+-------+
| 3 | Replica X=30 |   30  |
+---+--------------+-------+
3 rows in set (0.00 sec)

mysqlR&gt; TABLE t2 ORDER BY a;
+---+--------------+-------+
| a | b            | X     |
+---+--------------+-------+
| 1 |  Initial X=1 |    1  |
+---+--------------+-------+
| 2 |  Source X=20 |   20  |
+---+--------------+-------+
| 3 | Replica X=30 |   30  |
+---+--------------+-------+
3 rows in set (0.00 sec)</code></pre><p>
        You can see information about the rows that were rejected in the
        exception tables, as shown here:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysqlR&gt; SELECT  NDB$server_id, NDB$source_server_id, NDB$count,
      &gt;         NDB$OP_TYPE, NDB$CFT_CAUSE, a
      &gt; FROM t1$EX
      &gt; ORDER BY NDB$count\G
*************************** 1. row ***************************
NDB$server_id       : 2
NDB$source_server_id: 1
NDB$count           : 1
NDB$OP_TYPE         : WRITE_ROW
NDB$CFT_CAUSE       : DATA_IN_CONFLICT
a                   : 3
1 row in set (0.00 sec)

mysqlR&gt; SELECT  NDB$server_id, NDB$source_server_id, NDB$count,
      &gt;         NDB$OP_TYPE, NDB$CFT_CAUSE, a
      &gt; FROM t2$EX
      &gt; ORDER BY NDB$count\G
*************************** 1. row ***************************
NDB$server_id       : 2
NDB$source_server_id: 1
NDB$count           : 1
NDB$OP_TYPE         : WRITE_ROW
NDB$CFT_CAUSE       : DATA_IN_CONFLICT
a                   : 3
1 row in set (0.00 sec)</code></pre><p>
        As we saw earlier, no other rows inserted on the source were
        rejected by the replica, only those rows having a lesser
        timestamp value than the rows in conflict on the replica.
</p>
</div>

</div>

<br />
        </div>

                <div id="docs-in-page-nav-container">
            <div id="docs-in-page-nav">
                
    <a href="mysql-cluster-replication-mta.html"
        aria-label="Previous" title="Previous: NDB Cluster Replication Using the Multithreaded Applier"><span
        class="icon-chevron-left"></span> PREV</a> &nbsp;
<a href="index.html" aria-label="Start" title="Start"> HOME</a> &nbsp;
        <a aria-label="Up" href="mysql-cluster-replication.html" title="Up: NDB Cluster Replication"> UP</a> &nbsp;
    <a href="mysql-cluster-news.html" aria-label="Next"
        title="Next: NDB Cluster Release Notes">NEXT <span
        class="icon-chevron-right"></span></a>
            </div>
        </div>
        
         <div id="docs-body-extra">
             
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>

         </div>
     </div>
     </div>

</div>

<script>
$(function() {
    var doc = new $.doc({ 'mobile': $.browser.mobile, 'docId': 1, 'highlight': true });
});
</script>
    

            
        </div>
    </div>

    <footer class="collapsed">
        <div id="footer-bottom">
                                    <div id="footer-collapse">
                <a href="#" id="expand-footer"
                    aria-label="Expand Footer"
                    title="Expand Footer"><span
                    class="icon-plus-square"></span></a>
            </div>
                        <div class="footer-contact">
                <div id="footer-contact-icon" style="display: none;">
                    <span class="icon-call-phone"></span>
                </div>
                <div id="footer-contact-numbers" style="display: none;">
                    <strong>Contact MySQL Sales</strong><br/>
                    USA/Canada: +1-866-221-0634 &nbsp;
                    (<a href="https://www.mysql.com/about/contact/phone/" class="darker-blue">More Countries &raquo;</a>)
                </div>
                <div id="footer-contact-copyright" style="display: inline-block;">
                    <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                    &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                </div>
            </div>
            <div class="social-icons">
                <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook-square"></span></a>
                <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter-square"></span></a>
                <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin-square"></span></a>
                <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube-square"></span></a>
            </div>
            <br class="clear" />
        </div>
        <div id="footer-links">

            <div id="site-footer-links">
                <div id="footer-nav"></div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/products/">Products</a></li>
                        <li><a href="https://www.mysql.com/products/heatwave/">HeatWave</a></li>
                        <li><a href="https://www.mysql.com/products/enterprise/">MySQL Enterprise Edition</a></li>
                        <li><a href="https://www.mysql.com/products/standard/">MySQL Standard Edition</a></li>
                        <li><a href="https://www.mysql.com/products/classic/">MySQL Classic Edition</a></li>
                        <li><a href="https://www.mysql.com/products/cluster/">MySQL Cluster CGE</a></li>
                        <li><a href="https://www.mysql.com/oem/">MySQL Embedded (OEM/ISV)</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/services/">Services</a></li>
                        <li><a href="https://www.mysql.com/training/">Training</a></li>
                        <li><a href="https://www.mysql.com/certification/">Certification</a></li>
                        <li><a href="https://www.mysql.com/support/">Support</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                        <li><a href="https://dev.mysql.com/downloads/mysql/">MySQL Community Server</a></li>
                        <li><a href="https://dev.mysql.com/downloads/cluster/">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/downloads/shell/">MySQL Shell</a></li>
                        <li><a href="https://dev.mysql.com/downloads/router/">MySQL Router</a></li>
                        <li><a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://dev.mysql.com/doc/">Documentation</a></li>
                        <li><a href="https://dev.mysql.com/doc/refman/en/">MySQL Reference Manual</a></li>
                        <li><a href="https://dev.mysql.com/doc/workbench/en/">MySQL Workbench</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-connectors.html">MySQL Connectors</a></li>
                        <li><a href="https://dev.mysql.com/doc/#topic">Topic Guides</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/about/">About MySQL</a></li>
                        <li><a href="https://www.mysql.com/about/contact/">Contact Us</a></li>
                        <li><a href="https://blogs.oracle.com/mysql/">Blogs</a></li>
                                                                        <li><a href="https://www.mysql.com/buy-mysql/">How to Buy</a></li>
                        <li><a href="https://www.mysql.com/partners/">Partners</a></li>
                        <li><a href="https://www.mysql.com/about/jobs/">Job Opportunities</a></li>
                        <li><a href="https://www.mysql.com/sitemap.html">Site Map</a></li>
                    </ul>
                </div>

                            </div>

            <div id="footer-logo">
                <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                <div class="footer-legal-links">
                    <a href="https://www.oracle.com/legal/privacy/">Privacy</a> /
                    <a href="https://www.oracle.com/legal/privacy/privacy-choices.html">Do Not Sell My Info</a> |
                    <a href="https://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> |
                    <a href="https://www.oracle.com/us/legal/third-party-trademarks/index.html">Trademark Policy</a> |
                    <div id="teconsent"></div>
                </div>
            </div>

        </div>
    </footer>
</div>

            <script>
    if ((oracle.truste.api.getGdprConsentDecision().consentDecision) &&
            (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
             oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) )
    {
        document.write('<script src="https://labs.mysql.com/common/js/metrics/ora_mysql.js"><\/script>');
        document.write('<script type="text/javascript" async src="http://c.oracleinfinity.io/acs/account/wh3g12c3gg/js/mysql/odc.js?_ora.context=analytics:production"><\/script>');
    }
    </script>

        
    
</body>

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-conflict-resolution.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 16:52:41 GMT -->
</html>
