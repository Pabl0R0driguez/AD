<!DOCTYPE html>
<html lang="en" class="svg no-js">

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/stored-objects-security.html?ff=nopfpls by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 17:14:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <!--[if IE ]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="Language" content="en">

    <title>MySQL :: MySQL 8.4 Reference Manual :: 27.6 Stored Object Access Control</title>
    <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/main-20241001.min.css" />
            <link rel="stylesheet" media="all" href="https://labs.mysql.com/common/css/docs-20241001.min.css" />
    
    
    <link rel="stylesheet" media="print" href="https://labs.mysql.com/common/css/print-20241001.min.css" />

    
    
    
    
            <link rel="contents" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="start" href="index.html" title="MySQL 8.4 Reference Manual" />
<link rel="prev" href="view-metadata.html" title="27.5.5 View Metadata" />
<link rel="next" href="stored-programs-logging8dba.html?ff=nopfpls" title="27.7 Stored Program Binary Logging" />
<link rel="up" href="stored-objects.html" title="27 Stored Objects" />

    
    <link rel="shortcut icon" href="https://labs.mysql.com/common/themes/sakila/favicon.ico" />
    <script async="async" type="text/javascript" src='https://consent.truste.com/notice?domain=oracle.com&amp;c=teconsent&amp;js=bb&amp;noticeType=bb&amp;text=true&amp;cdn=1&amp;pcookie&amp;gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <script>(function(H){ H.className=H.className.replace(/\bno-js\b/,'js') })(document.documentElement)</script>
    <script src="https://labs.mysql.com/common/js/site-20241017.min.js"></script>

    
    
    <!--[if lt IE 9]>
        <script src="https://labs.mysql.com/common/js/polyfills/html5shiv-printshiv-3.7.2.min.js"></script>
        <script src="https://labs.mysql.com/common/js/polyfills/respond-1.4.2.min.js"></script>
    <![endif]-->
        <!--[if IE 9]>
        <style>#docs-sidebar-toc { box-sizing: content-box; }</style>
    <![endif]-->
        
                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="E6BB6-B37B4-898B7-F97BA-BBCDB",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"E6BB6-B37B4-898B7-F97BA-BBCDB";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="kzvaeoix35pxazy7ygda-f-2baf09457-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"1334304","ak.ai":parseInt("802521",10),"ak.ol":"0","ak.cr":379,"ak.ipv":4,"ak.proto":"http/1.1","ak.rid":"190659d6","ak.r":46154,"ak.a2":n,"ak.m":"dscx","ak.n":"essl","ak.bpcip":"86.106.2.0","ak.cport":18006,"ak.gh":"96.16.85.8","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"reno","ak.t":"1730134406","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==7sjKYMtpTN6c2QzRHHSwJtoWTlkGaK1Vo0pEPfIWES/DNG5HaEHrAB0Bc8ZWhrmaPXQKchFbOQfZJHjl48QslXqDmlyBgCLxkRTjQiuwQaGmfqt+ii1T0RHpxxmMv0vlj34wkdrauLWQVYjT35a4QD8QLp9rhpbqdrnCKd/qbTHqJwfabm6BMEjfC3A5fvyUGAgW/6qk/TZKGZmH//IXP5Seughm53yS5E3kHabscNSUXa4fx9ihGtJUI4R2aVPFZPrhP/vRWa9HRazlQpZeRXPtdu9bEOQ8uZ6nTk89mVdsuyIYFoV6gYN0Cy42/nwiwBytRYsvA6/SmBFJnKtworqXBm3XFV2jFZAP+cDek4h4nuTAMVe1ATU1HftuxzKYg2GNGluxnwqDoEAXlqbsDWudtKB+p3FCPruJk7Rloig=","ak.pv":"15","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.html","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak-2.html","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>

<body class="no-sidebar full-page dev">
<a class="skip-main" href="#main">Skip to Main Content</a>
<div class="page-wrapper">
    <header>

                        <a href="https://dev.mysql.com/" aria-label="MySQL Home" title="MySQL" id="l1-home-link"></a>
        
        <div id="l1-nav-container">
            <div id="l1-line1">
                <div id="l1-lhs">
                    <div id="l1-slogan">
                        The world's most popular open source database
                    </div>
                    <div id="l1-search-box">
                        <form id="l1-search-form" method="get" action="https://search.oracle.com/mysql">
                        <input type="hidden" name="app" value="mysql" />
                        <input id="l1-search-input" type="search" class="icon-search" placeholder="Search" aria-label="Search" name="q" />
                        </form>
                    </div>
                    <div id="l1-auth-links">
                        <nav aria-label="Contact/Login Navigation" role="navigation">
                            <a href="https://www.mysql.com/about/contact/"><b>Contact MySQL</b></a>
                            <span id="l1-contact-separator">&nbsp;|&nbsp;</span>
                            <span id="l1-contact-separator-br"><br /></span>
                                                             <a href="https://dev.mysql.com/auth/login/?dest=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.4%2Fen%2Fstored-objects-security.html%3Fff%3Dnopfpls">Login</a> &nbsp;|&nbsp;
                                 <a href="https://dev.mysql.com/auth/register/">Register</a>
                                                    </nav>
                    </div>
                </div>
            </div>
            <div id="l1-line2">
                <nav aria-label="Primary Navigation" role="navigation">
                    <ul id="l1-nav">
                        <li>
                            <a href="https://www.mysql.com/"><!-- <span class="icon-sakila"></span>  -->MySQL.com</a>
                        </li><li>
                            <a href="https://www.mysql.com/downloads/"><!-- <span class="icon-download-thin"></span>  -->Downloads</a>
                        </li><li class="active">
                            <a href="https://dev.mysql.com/doc/"><!-- <span class="icon-books"></span>  -->Documentation</a>
                        </li><li>
                            <a href="https://dev.mysql.com/"><!-- <span class="icon-code"></span>  -->Developer Zone</a>
                        </li>                    </ul>
                </nav>
                <div class="social-icons">
                    <nav aria-label="Social Navigation" role="navigation">
                        <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook"></span></a>
                        <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter"></span></a>
                        <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin"></span></a>
                        <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube"></span></a>
                    </nav>
                </div>
            </div>
        </div>
        <div id="sub-header">
            <div id="l2-nav-container">
                <div id="l2-nav-toggle">
                    <span class="icon-three-bars"></span>
                </div>
                                                                                        <a class="button nav-button-3" href="https://dev.mysql.com/"><span class="icon-code"></span> Developer Zone</a>
                                                                                                                                    <a class="button nav-button-2" href="https://www.mysql.com/downloads/"><span class="icon-download-thin"></span> Downloads</a>
                                                                                                <a class="button nav-button-1" href="https://www.mysql.com/"><span class="icon-sakila"></span> MySQL.com</a>
                                                                        <div id="l2-search-toggle">
                    <span class="icon-search"></span>
                </div>
                <div id="l2-site-icon">
                                                                                                                                                                                                    <span class="icon-books"></span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                <div id="l1-section-title">
                    <span id="l1-section-label">
                        <a href="https://dev.mysql.com/doc/">Documentation</a>
                    </span>
                </div>
                <nav aria-label="Secondary Navigation" role="navigation">
                    

<ul id="l2-nav">
            	<li class="active"><a class="active " href="https://dev.mysql.com/doc/refman/en/">MySQL Server</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-enterprise.html">MySQL Enterprise</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/workbench/en/">Workbench</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-cluster.html">InnoDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a>
    			</li>
	        	<li class=""><a  href="https://dev.mysql.com/doc/index-connectors.html">Connectors</a>
    			</li>
	        	<li class=" last"><a  href="https://dev.mysql.com/doc/index-other.html">More</a>
    			</li>
	                        <li class="other-section"><a href="https://www.mysql.com/">MySQL.com</a></li>
                            <li class="other-section"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                                        <li class="other-section"><a href="https://dev.mysql.com/">Developer Zone</a></li>
            </ul>
                </nav>
            </div>
            <div id="l3-search-container"></div>
            <div id="top-orange"><span id="section-nav">Section Menu: &nbsp; </span></div>
        </div>
    </header>
        <div id="page">
                        <div role="main" id="main" tabindex="-1">

            
                
            
<div>
    <div id="docs-sidebar-toc" class="">
    <div id="docs-toc-inner">
        <div class="docs-sidebar-header" id="docs-nav-header">
            <a class="docs-show-hide-nav" id="docs-hide-nav" href="#" title="Hide Sidebar" aria-label="Hide Sidebar"><span class="icon-arrow-small-left"></span></a>
            <div class="docs-nav-links">
                                    
    <a href="view-metadata.html"
        aria-label="Previous" title="Previous: View Metadata"><span
        class="icon-chevron-left"></span></a>
<a href="index.html" aria-label="Start" title="Start"><span class="icon-book-open"></span></a>
        <a aria-label="Up" href="stored-objects.html" title="Up: Stored Objects"><span class="icon-chevron-up"></span></a>
    <a href="stored-programs-logging.html" aria-label="Next"
        title="Next: Stored Program Binary Logging"><span
        class="icon-chevron-right"></span></a>
                            </div>
        </div>
                    
<div id="docs-sidebar-search-container">
    <div id="docs-sidebar-search-box">
        <form method="get" action="https://dev.mysql.com/doc/search/">
            <input type="hidden" name="d" id="d" value="371" />
            <input type="hidden" name="p" id="p" value="1" />
            <input type="text" name="q" id="q" title="Search this Manual"
                value="Search this Manual"
                style="color: #bbb;"
                onfocus="if(this.value == 'Search this Manual') {this.value='';this.style.color='#555';}"
                onblur="if(this.value == '') {this.value='Search this Manual';this.style.color='#bbb';}" />

            <button class="docs-sidebar-search-btn" aria-label="Search" title="Search" type="submit">
                <span class="icon-search"></span>
            </button>
        </form>
    </div>
</div>
                <div class="docs-sidebar-nav">
            <a class="docs-icon-home" href="https://dev.mysql.com/doc/"><span class="icon-home"></span>Documentation Home</a><hr />
            <div class="docs-sidebar-mtitle">MySQL 8.4 Reference Manual</div>
            <nav class="doctoc" id="doc-371">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="preface.html">Preface and Legal Notices</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="introduction.html">General Information</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="installing.html">Installing MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="upgrading.html">Upgrading MySQL</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="downgrading.html">Downgrading MySQL</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="tutorial.html">Tutorial</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="programs.html">MySQL Programs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="server-administration.html">MySQL Server Administration</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="security.html">Security</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="backup-and-recovery.html">Backup and Recovery</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="optimization.html">Optimization</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="language-structure.html">Language Structure</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="charset.html">Character Sets, Collations, Unicode</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-types.html">Data Types</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="functions.html">Functions and Operators</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sql-statements.html">SQL Statements</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="data-dictionary.html">MySQL Data Dictionary</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="innodb-storage-engine.html">The InnoDB Storage Engine</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="storage-engines.html">Alternative Storage Engines</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="replication.html">Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="group-replication.html">Group Replication</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-shell-userguide.html">MySQL Shell</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="document-store.html">Using MySQL as a Document Store</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-cluster-introduction.html">InnoDB Cluster</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="mysql-innodb-replicaset-introduction.html">InnoDB ReplicaSet</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-cluster.html">MySQL NDB Cluster 8.4</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="partitioning.html">Partitioning</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-down"></span></a></div><div class="docs-sidebar-nav-link"><a href="stored-objects.html">Stored Objects</a></div></div>                        <div class="docs-submenu">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-programs-defining.html">Defining Stored Programs</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="stored-routines.html">Using Stored Routines</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-routines-syntax.html">Stored Routine Syntax</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-routines-privileges.html">Stored Routines and MySQL Privileges</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-routines-metadata.html">Stored Routine Metadata</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-routines-last-insert-id.html">Stored Procedures, Functions, Triggers, and LAST_INSERT_ID()</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="triggers.html">Using Triggers</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="trigger-syntax.html">Trigger Syntax and Examples</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="trigger-metadata.html">Trigger Metadata</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="event-scheduler.html">Using the Event Scheduler</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="events-overview.html">Event Scheduler Overview</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="events-configuration.html">Event Scheduler Configuration</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="events-syntax.html">Event Syntax</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="events-metadata.html">Event Metadata</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="events-status-info.html">Event Scheduler Status</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="events-privileges.html">The Event Scheduler and MySQL Privileges</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable  loaded" aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="views.html">Using Views</a></div></div>                        <div class="docs-submenu hidden">
                                    
    <ul>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="view-syntax.html">View Syntax</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="view-algorithms.html">View Processing Algorithms</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="view-updatability.html">Updatable and Insertable Views</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="view-check-option.html">The View WITH CHECK OPTION Clause</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="view-metadata.html">View Metadata</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link current"><a href="stored-objects-security.html">Stored Object Access Control</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-programs-logging.html">Stored Program Binary Logging</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="stored-program-restrictions.html">Restrictions on Stored Programs</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="view-restrictions.html">Restrictions on Views</a></div></div>                    </li>
        </ul>
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="information-schema.html">INFORMATION_SCHEMA Tables</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="performance-schema.html">MySQL Performance Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="sys-schema.html">MySQL sys Schema</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="connectors-apis.html">Connectors and APIs</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-enterprise.html">MySQL Enterprise Edition</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="workbench.html">MySQL Workbench</a></div></div>                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="mysql-oci-marketplace.html">MySQL on OCI Marketplace</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="telemetry.html">Telemetry</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="faqs.html">MySQL 8.4 Frequently Asked Questions</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="error-handling.html">Error Messages and Common Problems</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><a class="expandable " aria-label="Subnav" href="#"><span class="icon-chevron-right"></span></a></div><div class="docs-sidebar-nav-link"><a href="indexes.html">Indexes</a></div></div>                        <div class="docs-submenu hidden">
                            </div>
                    </li>
            <li>
            <div><div class="docs-sidebar-nav-icon"><span class="icon-dot"></span></div><div class="docs-sidebar-nav-link"><a href="glossary.html">MySQL Glossary</a></div></div>                    </li>
        </ul>
                            </nav>
        </div>

        
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian open">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian open">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>


        <br /><span id="wkr"><br /></span>
    </div>
    </div>

    <div id="docs-main" class="has-toc">
    <div id="docs-main-inner">

                <div class="right" id="docs-version-nav">
            <a href="#" id="docs-version-nav-toggle">version 8.4
            <span class="icon-chevron-down"></span></a>
            <div id="docs-version-list">
                                                        <a                         href="https://dev.mysql.com/doc/refman/9.1/en/stored-objects-security.html">
                        9.1
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/9.0/en/stored-objects-security.html">
                        9.0
                                            </a><br />
                                                                                                                <a                         href="https://dev.mysql.com/doc/refman/8.0/en/stored-objects-security.html">
                        8.0
                                            </a><br />
                                                                            <a                         href="https://dev.mysql.com/doc/refman/5.7/en/stored-objects-security.html">
                        5.7
                                            </a><br />
                                                                        <div id="docs-version-nav-lang">
                                                                                                                                                    <a                                     href="https://dev.mysql.com/doc/refman/8.0/ja/stored-objects-security.html">
                                    8.0&nbsp;
                                                                            Japanese
                                                                    </a><br />
                                                                                            </div>
                            </div>
        </div>
        
        <div id="docs-show-nav" class="left hidden" style="margin-right: 15px;">
            <a class="docs-show-hide-nav" href="#" aria-label="Show Sidebar"
                title="Show Sidebar"><span class="icon-arrow-small-right"></span></a>
        </div>

                        <div id="docs-breadcrumbs">
            <a href="index.html">MySQL 8.4 Reference Manual</a> &nbsp;/&nbsp;
                                                        <a href="stored-objects.html">Stored Objects</a> &nbsp;/&nbsp;
                                                                                    Stored Object Access Control
                                    </div>
        
        <div id="docs-body">
        
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="stored-objects-security"></a>27.6 Stored Object Access Control</h2>

</div>

</div>

</div>
<a class="indexterm" name="idm45105542363392"></a><a class="indexterm" name="idm45105542361936"></a><a class="indexterm" name="idm45105542360848"></a><a class="indexterm" name="idm45105542359360"></a><a class="indexterm" name="idm45105542357872"></a><a class="indexterm" name="idm45105542356384"></a><a class="indexterm" name="idm45105542355312"></a><a class="indexterm" name="idm45105542353824"></a><p>
      Stored programs (procedures, functions, triggers, and events) and
      views are defined prior to use and, when referenced, execute
      within a security context that determines their privileges. The
      privileges applicable to execution of a stored object are
      controlled by its <code class="literal">DEFINER</code> attribute and
      <code class="literal">SQL SECURITY</code> characteristic.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="stored-objects-security.html#stored-objects-security-definer" title="The DEFINER Attribute">The DEFINER Attribute</a></p></li><li class="listitem"><p><a class="xref" href="stored-objects-security.html#stored-objects-security-sql-security" title="The SQL SECURITY Characteristic">The SQL SECURITY Characteristic</a></p></li><li class="listitem"><p><a class="xref" href="stored-objects-security.html#stored-objects-security-examples" title="Examples">Examples</a></p></li><li class="listitem"><p><a class="xref" href="stored-objects-security.html#stored-objects-security-orphan-objects" title="Orphan Stored Objects">Orphan Stored Objects</a></p></li><li class="listitem"><p><a class="xref" href="stored-objects-security.html#stored-objects-security-guidelines" title="Risk-Minimization Guidelines">Risk-Minimization Guidelines</a></p></li></ul>
</div>

<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h3 class="title"><a name="stored-objects-security-definer"></a>The DEFINER Attribute</h3>

</div>

</div>

</div>
<p>
        A stored object definition can include a
        <code class="literal">DEFINER</code> attribute that names a MySQL account.
        If a definition omits the <code class="literal">DEFINER</code> attribute,
        the default object definer is the user who creates it.
      </p><p>
        The following rules determine which accounts you can specify as
        the <code class="literal">DEFINER</code> attribute for a stored object:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            If you have the
            <a class="link" href="privileges-provided.html#priv_set-any-definer"><code class="literal">SET_ANY_DEFINER</code></a> privilege,
            you can specify any account as the
            <code class="literal">DEFINER</code> attribute. If the account does
            not exist, a warning is generated. Additionally, to set a
            stored object <code class="literal">DEFINER</code> attribute to an
            account that has the
            <a class="link" href="privileges-provided.html#priv_system-user"><code class="literal">SYSTEM_USER</code></a> privilege, you
            must have the <a class="link" href="privileges-provided.html#priv_system-user"><code class="literal">SYSTEM_USER</code></a>
            privilege.
          </p></li><li class="listitem"><p>
            Otherwise, the only permitted account is your own, specified
            either literally or as
            <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER</code></a> or
            <a class="link" href="information-functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>. You cannot
            set the definer to any other account.
</p></li></ul>
</div>
<p>
        Creating a stored object with a nonexistent
        <code class="literal">DEFINER</code> account creates an orphan object,
        which may have negative consequences; see
        <a class="xref" href="stored-objects-security.html#stored-objects-security-orphan-objects" title="Orphan Stored Objects">Orphan Stored Objects</a>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h3 class="title"><a name="stored-objects-security-sql-security"></a>The SQL SECURITY Characteristic</h3>

</div>

</div>

</div>
<p>
        For stored routines (procedures and functions) and views, the
        object definition can include an <code class="literal">SQL SECURITY</code>
        characteristic with a value of <code class="literal">DEFINER</code> or
        <code class="literal">INVOKER</code> to specify whether the object
        executes in definer or invoker context. If the definition omits
        the <code class="literal">SQL SECURITY</code> characteristic, the default
        is definer context.
      </p><p>
        Triggers and events have no <code class="literal">SQL SECURITY</code>
        characteristic and always execute in definer context. The server
        invokes these objects automatically as necessary, so there is no
        invoking user.
      </p><p>
        Definer and invoker security contexts differ as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            A stored object that executes in definer security context
            executes with the privileges of the account named by its
            <code class="literal">DEFINER</code> attribute. These privileges may
            be entirely different from those of the invoking user. The
            invoker must have appropriate privileges to reference the
            object (for example, <a class="link" href="privileges-provided.html#priv_execute"><code class="literal">EXECUTE</code></a>
            to call a stored procedure or
            <a class="link" href="privileges-provided.html#priv_select"><code class="literal">SELECT</code></a> to select from a
            view), but during object execution, the invoker's privileges
            are ignored and only the <code class="literal">DEFINER</code> account
            privileges matter. If the <code class="literal">DEFINER</code> account
            has few privileges, the object is correspondingly limited in
            the operations it can perform. If the
            <code class="literal">DEFINER</code> account is highly privileged
            (such as an administrative account), the object can perform
            powerful operations <span class="emphasis"><em>no matter who invokes
            it.</em></span>
          </p></li><li class="listitem"><p>
            A stored routine or view that executes in invoker security
            context can perform only operations for which the invoker
            has privileges. The <code class="literal">DEFINER</code> attribute has
            no effect on object execution.
</p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h3 class="title"><a name="stored-objects-security-examples"></a>Examples</h3>

</div>

</div>

</div>
<p>
        Consider the following stored procedure, which is declared with
        <code class="literal">SQL SECURITY DEFINER</code> to execute in definer
        security context:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE DEFINER = 'admin'@'localhost' PROCEDURE p1()
SQL SECURITY DEFINER
BEGIN
  UPDATE t1 SET counter = counter + 1;
END;</code></pre><p>
        Any user who has the <a class="link" href="privileges-provided.html#priv_execute"><code class="literal">EXECUTE</code></a>
        privilege for <code class="literal">p1</code> can invoke it with a
        <a class="link" href="call.html" title="15.2.1 CALL Statement"><code class="literal">CALL</code></a> statement. However, when
        <code class="literal">p1</code> executes, it does so in definer security
        context and thus executes with the privileges of
        <code class="literal">'admin'@'localhost'</code>, the account named as its
        <code class="literal">DEFINER</code> attribute. This account must have the
        <a class="link" href="privileges-provided.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege for
        <code class="literal">p1</code> as well as the
        <a class="link" href="privileges-provided.html#priv_update"><code class="literal">UPDATE</code></a> privilege for the table
        <code class="literal">t1</code> referenced within the object body.
        Otherwise, the procedure fails.
      </p><p>
        Now consider this stored procedure, which is identical to
        <code class="literal">p1</code> except that its <code class="literal">SQL
        SECURITY</code> characteristic is <code class="literal">INVOKER</code>:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">CREATE DEFINER = 'admin'@'localhost' PROCEDURE p2()
SQL SECURITY INVOKER
BEGIN
  UPDATE t1 SET counter = counter + 1;
END;</code></pre><p>
        Unlike <code class="literal">p1</code>, <code class="literal">p2</code> executes in
        invoker security context and thus with the privileges of the
        invoking user regardless of the <code class="literal">DEFINER</code>
        attribute value. <code class="literal">p2</code> fails if the invoker
        lacks the <a class="link" href="privileges-provided.html#priv_execute"><code class="literal">EXECUTE</code></a> privilege for
        <code class="literal">p2</code> or the
        <a class="link" href="privileges-provided.html#priv_update"><code class="literal">UPDATE</code></a> privilege for the table
        <code class="literal">t1</code>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h3 class="title"><a name="stored-objects-security-orphan-objects"></a>Orphan Stored Objects</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm45105542287280"></a><a class="indexterm" name="idm45105542285792"></a><a class="indexterm" name="idm45105542284720"></a><a class="indexterm" name="idm45105542283264"></a><p>
        An orphan stored object is one for which its
        <code class="literal">DEFINER</code> attribute names a nonexistent
        account:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            An orphan stored object can be created by specifying a
            nonexistent <code class="literal">DEFINER</code> account at
            object-creation time.
          </p></li><li class="listitem"><p>
            An existing stored object can become orphaned through
            execution of a <a class="link" href="drop-user.html" title="15.7.1.5 DROP USER Statement"><code class="literal">DROP USER</code></a>
            statement that drops the object <code class="literal">DEFINER</code>
            account, or a <a class="link" href="rename-user.html" title="15.7.1.7 RENAME USER Statement"><code class="literal">RENAME USER</code></a>
            statement that renames the object <code class="literal">DEFINER</code>
            account.
</p></li></ul>
</div>
<p>
        An orphan stored object may be problematic in these ways:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Because the <code class="literal">DEFINER</code> account does not
            exist, the object may not work as expected if it executes in
            definer security context:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                For a stored routine, an error occurs at routine
                execution time if the <code class="literal">SQL SECURITY</code>
                value is <code class="literal">DEFINER</code> but the definer
                account does not exist.
              </p></li><li class="listitem"><p>
                For a trigger, it is not a good idea for trigger
                activation to occur until the account actually does
                exist. Otherwise, the behavior with respect to privilege
                checking is undefined.
              </p></li><li class="listitem"><p>
                For an event, an error occurs at event execution time if
                the account does not exist.
              </p></li><li class="listitem"><p>
                For a view, an error occurs when the view is referenced
                if the <code class="literal">SQL SECURITY</code> value is
                <code class="literal">DEFINER</code> but the definer account does
                not exist.
</p></li></ul>
</div>
</li><li class="listitem"><p>
            The object may present a security risk if the nonexistent
            <code class="literal">DEFINER</code> account is subsequently
            re-created for a purpose unrelated to the object. In this
            case, the account <span class="quote">“<span class="quote">adopts</span>”</span> the object and, with
            the appropriate privileges, is able to execute it even if
            that is not intended.
</p></li></ul>
</div>
<p>
        The server imposes the following account-management security
        checks designed to prevent operations that (perhaps
        inadvertently) cause stored objects to become orphaned or that
        cause adoption of stored objects that are currently orphaned:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="drop-user.html" title="15.7.1.5 DROP USER Statement"><code class="literal">DROP USER</code></a> fails with an error
            if any account to be dropped is named as the
            <code class="literal">DEFINER</code> attribute for any stored object.
            (That is, the statement fails if dropping an account would
            cause a stored object to become orphaned.)
          </p></li><li class="listitem"><p>
            <a class="link" href="rename-user.html" title="15.7.1.7 RENAME USER Statement"><code class="literal">RENAME USER</code></a> fails with an
            error if any account to be renamed is named as the
            <code class="literal">DEFINER</code> attribute for any stored object.
            (That is, the statement fails if renaming an account would
            cause a stored object to become orphaned.)
          </p></li><li class="listitem"><p>
            <a class="link" href="create-user.html" title="15.7.1.3 CREATE USER Statement"><code class="literal">CREATE USER</code></a> fails with an
            error if any account to be created is named as the
            <code class="literal">DEFINER</code> attribute for any stored object.
            (That is, the statement fails if creating an account would
            cause the account to adopt a currently orphaned stored
            object.)
</p></li></ul>
</div>
<p>
        In certain situations, it may be necessary to deliberately
        execute those account-management statements even when they would
        otherwise fail. To make this possible, if a user has the
        <a class="link" href="privileges-provided.html#priv_allow-nonexistent-definer"><code class="literal">ALLOW_NONEXISTENT_DEFINER</code></a>
        privilege, that privilege overrides the orphan object security
        checks and the statements succeed with a warning rather than
        failing with an error.
      </p><p>
        To obtain information about the accounts used as stored object
        definers in a MySQL installation, query the
        <code class="literal">INFORMATION_SCHEMA</code>.
      </p><p>
        This query identifies which
        <code class="literal">INFORMATION_SCHEMA</code> tables describe objects
        that have a <code class="literal">DEFINER</code> attribute:
      </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">mysql&gt; SELECT TABLE_SCHEMA, TABLE_NAME FROM INFORMATION_SCHEMA.COLUMNS
       WHERE COLUMN_NAME = 'DEFINER';
+--------------------+------------+
| TABLE_SCHEMA       | TABLE_NAME |
+--------------------+------------+
| information_schema | EVENTS     |
| information_schema | ROUTINES   |
| information_schema | TRIGGERS   |
| information_schema | VIEWS      |
+--------------------+------------+</code></pre><p>
        The result tells you which tables to query to discover which
        stored object <code class="literal">DEFINER</code> values exist and which
        objects have a particular <code class="literal">DEFINER</code> value:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            To identify which <code class="literal">DEFINER</code> values exist in
            each table, use these queries:
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT DISTINCT DEFINER FROM INFORMATION_SCHEMA.EVENTS;
SELECT DISTINCT DEFINER FROM INFORMATION_SCHEMA.ROUTINES;
SELECT DISTINCT DEFINER FROM INFORMATION_SCHEMA.TRIGGERS;
SELECT DISTINCT DEFINER FROM INFORMATION_SCHEMA.VIEWS;</code></pre><p>
            The query results are significant for any account displayed
            as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                If the account exists, dropping or renaming it causes
                stored objects to become orphaned. If you plan to drop
                or rename the account, consider first dropping its
                associated stored objects or redefining them to have a
                different definer.
              </p></li><li class="listitem"><p>
                If the account does not exist, creating it causes it to
                adopt currently orphaned stored objects. If you plan to
                create the account, consider whether the orphaned
                objects should be associated with it. If not, redefine
                them to have a different definer.
</p></li></ul>
</div>
<p>
            To redefine an object with a different definer, you can use
            <a class="link" href="alter-event.html" title="15.1.3 ALTER EVENT Statement"><code class="literal">ALTER EVENT</code></a> or
            <a class="link" href="alter-view.html" title="15.1.11 ALTER VIEW Statement"><code class="literal">ALTER VIEW</code></a> to directly modify
            the <code class="literal">DEFINER</code> account of events and views.
            For stored procedures and functions and for triggers, you
            must drop the object and re-create it to assign a different
            <code class="literal">DEFINER</code> account
          </p></li><li class="listitem"><p>
            To identify which objects have a given
            <code class="literal">DEFINER</code> account, use these queries,
            substituting the account of interest for
            <code class="literal"><em class="replaceable"><code>user_name</code></em>@<em class="replaceable"><code>host_name</code></em></code>:
          </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT EVENT_SCHEMA, EVENT_NAME FROM INFORMATION_SCHEMA.EVENTS
WHERE DEFINER = '<em class="replaceable">user_name</em>@<em class="replaceable">host_name</em>';
SELECT ROUTINE_SCHEMA, ROUTINE_NAME, ROUTINE_TYPE
FROM INFORMATION_SCHEMA.ROUTINES
WHERE DEFINER = '<em class="replaceable">user_name</em>@<em class="replaceable">host_name</em>';
SELECT TRIGGER_SCHEMA, TRIGGER_NAME FROM INFORMATION_SCHEMA.TRIGGERS
WHERE DEFINER = '<em class="replaceable">user_name</em>@<em class="replaceable">host_name</em>';
SELECT TABLE_SCHEMA, TABLE_NAME FROM INFORMATION_SCHEMA.VIEWS
WHERE DEFINER = '<em class="replaceable">user_name</em>@<em class="replaceable">host_name</em>';</code></pre><p>
            For the <a class="link" href="information-schema-routines-table.html" title="28.3.30 The INFORMATION_SCHEMA ROUTINES Table"><code class="literal">ROUTINES</code></a> table, the
            query includes the <code class="literal">ROUTINE_TYPE</code> column so
            that output rows distinguish whether the
            <code class="literal">DEFINER</code> is for a stored procedure or
            stored function.
          </p><p>
            If the account you are searching for does not exist, any
            objects displayed by those queries are orphan objects.
</p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h3 class="title"><a name="stored-objects-security-guidelines"></a>Risk-Minimization Guidelines</h3>

</div>

</div>

</div>
<p>
        To minimize the risk potential for stored object creation and
        use, follow these guidelines:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Do not create orphan stored objects; that is, objects for
            which the <code class="literal">DEFINER</code> attribute names a
            nonexistent account. Do not cause stored objects to become
            orphaned by dropping or renaming an account named by the
            <code class="literal">DEFINER</code> attribute of any existing object.
          </p></li><li class="listitem"><p>
            For a stored routine or view, use <code class="literal">SQL SECURITY
            INVOKER</code> in the object definition when possible so
            that it can be used only by users with permissions
            appropriate for the operations performed by the object.
          </p></li><li class="listitem"><p>
            If you create definer-context stored objects while using an
            account that has the
            <a class="link" href="privileges-provided.html#priv_set-any-definer"><code class="literal">SET_ANY_DEFINER</code></a> privilege,
            specify an explicit <code class="literal">DEFINER</code> attribute
            that names an account possessing only the privileges
            required for the operations performed by the object. Specify
            a highly privileged <code class="literal">DEFINER</code> account only
            when absolutely necessary.
          </p></li><li class="listitem"><p>
            Administrators can prevent users from creating stored
            objects that specify highly privileged
            <code class="literal">DEFINER</code> accounts by not granting them the
            <a class="link" href="privileges-provided.html#priv_set-any-definer"><code class="literal">SET_ANY_DEFINER</code></a> privilege.
          </p></li><li class="listitem"><p>
            Definer-context objects should be written keeping in mind
            that they may be able to access data for which the invoking
            user has no privileges. In some cases, you can prevent
            references to these objects by not granting unauthorized
            users particular privileges:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                A stored routine cannot be referenced by a user who does
                not have the <a class="link" href="privileges-provided.html#priv_execute"><code class="literal">EXECUTE</code></a>
                privilege for it.
              </p></li><li class="listitem"><p>
                A view cannot be referenced by a user who does not have
                the appropriate privilege for it
                (<a class="link" href="privileges-provided.html#priv_select"><code class="literal">SELECT</code></a> to select from
                it, <a class="link" href="privileges-provided.html#priv_insert"><code class="literal">INSERT</code></a> to insert into
                it, and so forth).
</p></li></ul>
</div>
<p>
            However, no such control exists for triggers and events
            because they always execute in definer context. The server
            invokes these objects automatically as necessary, and users
            do not reference them directly:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                A trigger is activated by access to the table with which
                it is associated, even ordinary table accesses by users
                with no special privileges.
              </p></li><li class="listitem"><p>
                An event is executed by the server on a scheduled basis.
</p></li></ul>
</div>
<p>
            In both cases, if the <code class="literal">DEFINER</code> account is
            highly privileged, the object may be able to perform
            sensitive or dangerous operations. This remains true if the
            privileges needed to create the object are revoked from the
            account of the user who created it. Administrators should be
            especially careful about granting users object-creation
            privileges.
          </p></li><li class="listitem"><p>
            By default, when a routine with the <code class="literal">SQL SECURITY
            DEFINER</code> characteristic is executed, MySQL Server
            does not set any active roles for the MySQL account named in
            the <code class="literal">DEFINER</code> clause, only the default
            roles. The exception is if the
            <a class="link" href="server-system-variables.html#sysvar_activate_all_roles_on_login"><code class="literal">activate_all_roles_on_login</code></a>
            system variable is enabled, in which case MySQL Server sets
            all roles granted to the <code class="literal">DEFINER</code> user,
            including mandatory roles. Any privileges granted through
            roles are therefore not checked by default when the
            <a class="link" href="create-procedure.html" title="15.1.17 CREATE PROCEDURE and CREATE FUNCTION Statements"><code class="literal">CREATE PROCEDURE</code></a> or
            <a class="link" href="create-function.html" title="15.1.14 CREATE FUNCTION Statement"><code class="literal">CREATE
            FUNCTION</code></a> statement is issued. For stored programs,
            if execution should occur with roles different from the
            default, the program body can execute
            <a class="link" href="set-role.html" title="15.7.1.11 SET ROLE Statement"><code class="literal">SET ROLE</code></a> to activate the
            required roles. This must be done with caution since the
            privileges assigned to roles can be changed.
</p></li></ul>
</div>

</div>

</div>
<br />
        </div>

                <div id="docs-in-page-nav-container">
            <div id="docs-in-page-nav">
                
    <a href="view-metadata.html"
        aria-label="Previous" title="Previous: View Metadata"><span
        class="icon-chevron-left"></span> PREV</a> &nbsp;
<a href="index.html" aria-label="Start" title="Start"> HOME</a> &nbsp;
        <a aria-label="Up" href="stored-objects.html" title="Up: Stored Objects"> UP</a> &nbsp;
    <a href="stored-programs-logging.html" aria-label="Next"
        title="Next: Stored Program Binary Logging">NEXT <span
        class="icon-chevron-right"></span></a>
            </div>
        </div>
        
         <div id="docs-body-extra">
             
<a class="docs-sidebar-section" href="#"><span class="icon-related"></span>
    <span class="text">Related Documentation</span></a>
<div class="docs-sidebar-accordian">
    <div class="text">
        <a href="https://dev.mysql.com/doc/relnotes/mysql/8.4/en/">MySQL 8.4 Release Notes</a><br />
        </div>
</div>

    <a class="docs-sidebar-section" href="#"><span class="icon-download-thin"></span>
        <span class="text">
            Download
                            this Manual
                    </span>
    </a>
    <div class="docs-sidebar-accordian">
        <div class="text">
                                    <a href="https://downloads.mysql.com/docs/refman-8.4-en.pdf">PDF (US Ltr)</a>
            - 40.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf">PDF (A4)</a>
            - 40.1Mb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz">Man Pages (TGZ)</a>
            - 258.6Kb<br />
                                                <a href="https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip">Man Pages (Zip)</a>
            - 365.7Kb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.gz">Info (Gzip)</a>
            - 4.0Mb<br />
                                                <a href="https://downloads.mysql.com/docs/mysql-8.4.info.zip">Info (Zip)</a>
            - 4.0Mb<br />
                                </div>
    </div>

         </div>
     </div>
     </div>

</div>

<script>
$(function() {
    var doc = new $.doc({ 'mobile': $.browser.mobile, 'docId': 1, 'highlight': true });
});
</script>
    

            
        </div>
    </div>

    <footer class="collapsed">
        <div id="footer-bottom">
                                    <div id="footer-collapse">
                <a href="#" id="expand-footer"
                    aria-label="Expand Footer"
                    title="Expand Footer"><span
                    class="icon-plus-square"></span></a>
            </div>
                        <div class="footer-contact">
                <div id="footer-contact-icon" style="display: none;">
                    <span class="icon-call-phone"></span>
                </div>
                <div id="footer-contact-numbers" style="display: none;">
                    <strong>Contact MySQL Sales</strong><br/>
                    USA/Canada: +1-866-221-0634 &nbsp;
                    (<a href="https://www.mysql.com/about/contact/phone/" class="darker-blue">More Countries &raquo;</a>)
                </div>
                <div id="footer-contact-copyright" style="display: inline-block;">
                    <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                    &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                </div>
            </div>
            <div class="social-icons">
                <a aria-label="Join us on Facebook" title="Join us on Facebook" href="http://www.facebook.com/mysql"><span class="icon-facebook-square"></span></a>
                <a aria-label="Follow us on X" title="Follow us on X" href="https://x.com/mysql"><span class="icon-x-twitter-square"></span></a>
                <a aria-label="Follow us on LinkedIn" title="Follow us on LinkedIn" href="https://www.linkedin.com/company/mysql"><span class="icon-linkedin-square"></span></a>
                <a aria-label="Visit our YouTube channel" title="Visit our YouTube channel" href="http://www.youtube.com/mysqlchannel"><span class="icon-youtube-square"></span></a>
            </div>
            <br class="clear" />
        </div>
        <div id="footer-links">

            <div id="site-footer-links">
                <div id="footer-nav"></div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/products/">Products</a></li>
                        <li><a href="https://www.mysql.com/products/heatwave/">HeatWave</a></li>
                        <li><a href="https://www.mysql.com/products/enterprise/">MySQL Enterprise Edition</a></li>
                        <li><a href="https://www.mysql.com/products/standard/">MySQL Standard Edition</a></li>
                        <li><a href="https://www.mysql.com/products/classic/">MySQL Classic Edition</a></li>
                        <li><a href="https://www.mysql.com/products/cluster/">MySQL Cluster CGE</a></li>
                        <li><a href="https://www.mysql.com/oem/">MySQL Embedded (OEM/ISV)</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/services/">Services</a></li>
                        <li><a href="https://www.mysql.com/training/">Training</a></li>
                        <li><a href="https://www.mysql.com/certification/">Certification</a></li>
                        <li><a href="https://www.mysql.com/support/">Support</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/downloads/">Downloads</a></li>
                        <li><a href="https://dev.mysql.com/downloads/mysql/">MySQL Community Server</a></li>
                        <li><a href="https://dev.mysql.com/downloads/cluster/">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/downloads/shell/">MySQL Shell</a></li>
                        <li><a href="https://dev.mysql.com/downloads/router/">MySQL Router</a></li>
                        <li><a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://dev.mysql.com/doc/">Documentation</a></li>
                        <li><a href="https://dev.mysql.com/doc/refman/en/">MySQL Reference Manual</a></li>
                        <li><a href="https://dev.mysql.com/doc/workbench/en/">MySQL Workbench</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-cluster.html">MySQL NDB Cluster</a></li>
                        <li><a href="https://dev.mysql.com/doc/index-connectors.html">MySQL Connectors</a></li>
                        <li><a href="https://dev.mysql.com/doc/#topic">Topic Guides</a></li>
                    </ul>
                </div>

                <div class="links">
                    <ul>
                        <li class="top"><a href="https://www.mysql.com/about/">About MySQL</a></li>
                        <li><a href="https://www.mysql.com/about/contact/">Contact Us</a></li>
                        <li><a href="https://blogs.oracle.com/mysql/">Blogs</a></li>
                                                                        <li><a href="https://www.mysql.com/buy-mysql/">How to Buy</a></li>
                        <li><a href="https://www.mysql.com/partners/">Partners</a></li>
                        <li><a href="https://www.mysql.com/about/jobs/">Job Opportunities</a></li>
                        <li><a href="https://www.mysql.com/sitemap.html">Site Map</a></li>
                    </ul>
                </div>

                            </div>

            <div id="footer-logo">
                <a href="http://www.oracle.com/" aria-label="Oracle" title="Oracle"><span class="oracle-logo"></span></a>
                &nbsp; <a href="https://www.oracle.com/legal/copyright.html">&copy; 2024 Oracle</a>
                <div class="footer-legal-links">
                    <a href="https://www.oracle.com/legal/privacy/">Privacy</a> /
                    <a href="https://www.oracle.com/legal/privacy/privacy-choices.html">Do Not Sell My Info</a> |
                    <a href="https://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> |
                    <a href="https://www.oracle.com/us/legal/third-party-trademarks/index.html">Trademark Policy</a> |
                    <div id="teconsent"></div>
                </div>
            </div>

        </div>
    </footer>
</div>

            <script>
    if ((oracle.truste.api.getGdprConsentDecision().consentDecision) &&
            (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
             oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) )
    {
        document.write('<script src="https://labs.mysql.com/common/js/metrics/ora_mysql.js"><\/script>');
        document.write('<script type="text/javascript" async src="http://c.oracleinfinity.io/acs/account/wh3g12c3gg/js/mysql/odc.js?_ora.context=analytics:production"><\/script>');
    }
    </script>

        
    
</body>

<!-- Mirrored from dev.mysql.com/doc/refman/8.4/en/stored-objects-security.html?ff=nopfpls by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Oct 2024 17:14:53 GMT -->
</html>
